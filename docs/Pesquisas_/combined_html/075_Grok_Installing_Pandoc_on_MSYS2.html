<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang xml:lang>
<head>

        <style id="fixed-toc-styles">
        /* === ESTILOS PRINCIPAIS - TOC FIXO √Ä DIREITA === */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
            color: #333;
            scroll-behavior: smooth;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            position: relative;
        }
        /* === TOC FIXO √Ä DIREITA - POSI√á√ÉO CORRIGIDA === */
        #TOC {
            position: fixed !important;
            top: 50% !important;
            right: 20px !important;
            transform: translateY(-50%) !important;
            width: 320px !important;
            max-height: 80vh !important;
            overflow-y: auto !important;
            z-index: 1000 !important;
            background: rgba(255, 255, 255, 0.98) !important;
            padding: 20px !important;
            border-radius: 12px !important;
            box-shadow: 0 8px 32px rgba(0,0,0,0.15) !important;
            border: 1px solid #e0e0e0 !important;
            backdrop-filter: blur(10px) !important;
            transition: all 0.3s ease-in-out !important;
        }
        #TOC.toc-minimized {
            transform: translateY(-50%) translateX(calc(320px - 50px)) !important;
            opacity: 0.3;
            width: 50px !important;
            overflow: hidden;
        }
        #TOC.toc-minimized > *:not(.toc-toggle-btn) {
            display: none !important;
        }
        #TOC h2 {
            margin-top: 0;
            color: #2c3e50;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
            font-size: 1.2em;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .toc-toggle-btn {
            background: none;
            border: none;
            font-size: 1.2em;
            cursor: pointer;
            padding: 5px;
            border-radius: 4px;
            transition: background-color 0.2s;
        }
        .toc-toggle-btn:hover {
            background-color: rgba(0,0,0,0.1);
        }
        #TOC ul {
            list-style-type: none;
            padding-left: 15px;
            margin: 10px 0;
        }
        #TOC ul ul {
            padding-left: 20px;
        }
        #TOC li {
            margin: 8px 0;
            line-height: 1.4;
        }
        #TOC a {
            text-decoration: none;
            color: #495057;
            font-weight: 500;
            transition: all 0.2s ease;
            display: block;
            padding: 6px 10px;
            border-radius: 6px;
            border-left: 3px solid transparent;
        }
        #TOC a:hover {
            color: #007bff;
            background-color: rgba(0, 123, 255, 0.1);
            border-left-color: #007bff;
        }
        #TOC a.active {
            background-color: #007bff !important;
            color: white !important;
            font-weight: bold;
            border-left-color: #0056b3;
        }
        /* Conte√∫do principal com margem para o TOC */
        .main-content {
            margin-right: calc(320px + 40px) !important;
        }
        /* Barra de scroll personalizada APENAS para TOC */
        #TOC::-webkit-scrollbar {
            width: 8px;
        }
        #TOC::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 4px;
        }
        #TOC::-webkit-scrollbar-thumb {
            background: #c1c1c1;
            border-radius: 4px;
        }
        #TOC::-webkit-scrollbar-thumb:hover {
            background: #a8a8a8;
        }
        /* === BOT√ÉO VOLTAR AO TOPO (HTMLs individuais) === */
        .back-to-top-content {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: #007bff;
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            font-size: 18px;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            opacity: 0;
            transition: all 0.3s ease;
            z-index: 999;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .back-to-top-content.show {
            opacity: 1;
            transform: translateY(0);
        }
        .back-to-top-content:hover {
            background: #0056b3;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(0,0,0,0.2);
        }
        /* === RESPONSIVIDADE === */
        @media (max-width: 1400px) {
            .container {
                max-width: 95%;
                padding: 30px;
            }
            #TOC {
                width: 280px !important;
            }
            .main-content {
                margin-right: 320px !important;
            }
        }
        @media (max-width: 1200px) {
            #TOC {
                width: 260px !important;
                right: 15px !important;
            }
            .main-content {
                margin-right: 300px !important;
            }
        }
        @media (max-width: 992px) {
            #TOC {
                position: relative !important;
                width: 100% !important;
                right: 0 !important;
                top: 0 !important;
                transform: none !important;
                margin: 20px 0;
                max-height: 300px !important;
            }
            .main-content {
                margin-right: 0 !important;
            }
            .back-to-top-content {
                right: 20px;
                bottom: 20px;
            }
        }
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            .container {
                padding: 20px;
                max-width: 100%;
            }
            #TOC {
                max-height: 250px !important;
                padding: 15px !important;
            }
        }
        </style>
        
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>075_Grok_Installing_Pandoc_on_MSYS2</title>
  <style>

html {
color: #1a1a1a;
background-color: #fdfdfd;
}
body {
margin: 0 auto;
max-width: 36em;
padding-left: 50px;
padding-right: 50px;
padding-top: 50px;
padding-bottom: 50px;
hyphens: auto;
overflow-wrap: break-word;
text-rendering: optimizeLegibility;
font-kerning: normal;
}
@media (max-width: 600px) {
body {
font-size: 0.9em;
padding: 12px;
}
h1 {
font-size: 1.8em;
}
}
@media print {
html {
background-color: white;
}
body {
background-color: transparent;
color: black;
font-size: 12pt;
}
p, h2, h3 {
orphans: 3;
widows: 3;
}
h2, h3, h4 {
page-break-after: avoid;
}
}
p {
margin: 1em 0;
}
a {
color: #1a1a1a;
}
a:visited {
color: #1a1a1a;
}
img {
max-width: 100%;
}
svg {
height: auto;
max-width: 100%;
}
h1, h2, h3, h4, h5, h6 {
margin-top: 1.4em;
}
h5, h6 {
font-size: 1em;
font-style: italic;
}
h6 {
font-weight: normal;
}
ol, ul {
padding-left: 1.7em;
margin-top: 1em;
}
li > ol, li > ul {
margin-top: 0;
}
blockquote {
margin: 1em 0 1em 1.7em;
padding-left: 1em;
border-left: 2px solid #e6e6e6;
color: #606060;
}
code {
font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
font-size: 85%;
margin: 0;
hyphens: manual;
}
pre {
margin: 1em 0;
overflow: auto;
}
pre code {
padding: 0;
overflow: visible;
overflow-wrap: normal;
}
.sourceCode {
background-color: transparent;
overflow: visible;
}
hr {
border: none;
border-top: 1px solid #1a1a1a;
height: 1px;
margin: 1em 0;
}
table {
margin: 1em 0;
border-collapse: collapse;
width: 100%;
overflow-x: auto;
display: block;
font-variant-numeric: lining-nums tabular-nums;
}
table caption {
margin-bottom: 0.75em;
}
tbody {
margin-top: 0.5em;
border-top: 1px solid #1a1a1a;
border-bottom: 1px solid #1a1a1a;
}
th {
border-top: 1px solid #1a1a1a;
padding: 0.25em 0.5em 0.25em 0.5em;
}
td {
padding: 0.125em 0.5em 0.25em 0.5em;
}
header {
margin-bottom: 4em;
text-align: center;
}
#TOC li {
list-style: none;
}
#TOC ul {
padding-left: 1.3em;
}
#TOC > ul {
padding-left: 0;
}
#TOC a:not(:hover) {
text-decoration: none;
}
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}

ul.task-list[class]{list-style: none;}
ul.task-list li input[type="checkbox"] {
font-size: inherit;
width: 0.8em;
margin: 0 0.8em 0.2em -1.6em;
vertical-align: middle;
}

html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
</head>
<body>
<nav id="TOC" role="doc-toc">
<ul>
<li><a href="#installing-pandoc-on-msys2" id="toc-installing-pandoc-on-msys2"><span class="toc-section-number">1</span> Installing Pandoc on MSYS2</a>
<ul>
<li><a href="#informa√ß√µes" id="toc-informa√ß√µes"><span class="toc-section-number">1.1</span> üìä Informa√ß√µes</a></li>
<li><a href="#conversa" id="toc-conversa"><span class="toc-section-number">1.2</span> üí¨ Conversa</a></li>
</ul></li>
</ul>
</nav>
<h1 data-number="1" id="installing-pandoc-on-msys2"><span class="header-section-number">1</span> Installing Pandoc on MSYS2</h1>
<h2 data-number="1.1" id="informa√ß√µes"><span class="header-section-number">1.1</span> üìä Informa√ß√µes</h2>
<ul>
<li><strong>N√∫mero:</strong> #75</li>
<li><strong>Origem:</strong> Grok</li>
<li><strong>Categoria:</strong> Programa√ß√£o</li>
<li><strong>ID:</strong> 284a47b2-b621-4100-8705-952f1e6098ea</li>
<li><strong>Criada em:</strong> 2025-10-28 19:49:19Z</li>
<li><strong>Atualizada em:</strong> 2025-10-28 22:08:10Z</li>
<li><strong>Total de mensagens:</strong> 28</li>
<li><strong>Resumo:</strong> Instalar pandoc msys2‚Ä¶</li>
</ul>
<hr />
<h2 data-number="1.2" id="conversa"><span class="header-section-number">1.2</span> üí¨ Conversa</h2>
<h3 data-number="1.2.1" id="utilizador-2025-10-28-194919-grok"><span class="header-section-number">1.2.1</span> üë§ Utilizador <em>(2025-10-28
19:49:19)</em> <em>[Grok]</em></h3>
<p>Instalar pandoc msys2</p>
<hr />
<h3 data-number="1.2.2" id="grok-2025-10-28-194929-grok"><span class="header-section-number">1.2.2</span> ü§ñ Grok <em>(2025-10-28
19:49:29)</em> <em>[Grok]</em></h3>
<h3 data-number="1.2.3" id="c√≥mo-instalar-pandoc-en-msys2"><span class="header-section-number">1.2.3</span> C√≥mo instalar Pandoc en
MSYS2</h3>
<p>Pandoc no est√° disponible como paquete oficial en los repositorios de
MSYS2 (seg√∫n el issue abierto en GitHub desde 2022), por lo que la mejor
opci√≥n es instalarlo directamente desde el sitio oficial de Pandoc
utilizando el instalador para Windows. Una vez instalado, podr√°s usarlo
desde el terminal de MSYS2 agregando el directorio de Pandoc a tu PATH
en el entorno MSYS2. A continuaci√≥n, te detallo los pasos:</p>
<h4 data-number="1.2.3.1" id="instalar-msys2-si-no-lo-tienes"><span class="header-section-number">1.2.3.1</span> 1. <strong>Instalar MSYS2
(si no lo tienes)</strong></h4>
<ul>
<li><p>Descarga el instalador desde <a href="https://www.msys2.org/">msys2.org</a>.</p></li>
<li><p>Ejecuta el instalador y sigue las instrucciones.</p></li>
<li><p>Abre el terminal de MSYS2 (elige MSYS2 MSYS o MINGW64 seg√∫n tu
necesidad; MINGW64 es com√∫n para desarrollo).</p></li>
<li><p>Actualiza el sistema:</p>
<pre><code>pacman -Syu</code></pre>
<p>(Cierra y reabre el terminal si se te pide).</p></li>
</ul>
<h4 data-number="1.2.3.2" id="descargar-e-instalar-pandoc"><span class="header-section-number">1.2.3.2</span> 2. <strong>Descargar e
instalar Pandoc</strong></h4>
<ul>
<li>Ve al sitio oficial: <a href="https://pandoc.org/installing.html">pandoc.org/installing.html</a>.</li>
<li>Descarga el instalador para Windows (MSI):
<code>pandoc-X.Y.Z-windows-x86_64.msi</code> (reemplaza X.Y.Z con la
versi√≥n m√°s reciente, como 3.1.11 al momento de esta respuesta).</li>
<li>Ejecuta el MSI como administrador en Windows (fuera de MSYS2). Por
defecto, se instala en
<code>C:\Users\[tu_usuario]\AppData\Local\Pandoc\</code>.</li>
</ul>
<h4 data-number="1.2.3.3" id="configurar-el-path-en-msys2"><span class="header-section-number">1.2.3.3</span> 3. <strong>Configurar el
PATH en MSYS2</strong></h4>
<ul>
<li><p>Abre el terminal de MSYS2.</p></li>
<li><p>Edita el archivo de perfil (usa <code>nano</code> o
<code>vim</code>; instala con <code>pacman -S nano</code> si no lo
tienes):</p>
<pre><code>nano ~/.bashrc</code></pre></li>
<li><p>Agrega esta l√≠nea al final (reemplaza <code>[tu_usuario]</code>
con tu nombre de usuario de Windows):</p>
<pre><code>export PATH=&quot;$PATH:/c/Users/[tu_usuario]/AppData/Local/Pandoc&quot;</code></pre>
<ul>
<li>Nota: En MSYS2, las rutas de Windows se convierten con
<code>/c/</code> en lugar de <code>C:\</code>.</li>
</ul></li>
<li><p>Guarda y cierra el editor (en nano: Ctrl+O, Enter,
Ctrl+X).</p></li>
<li><p>Recarga el perfil:</p>
<pre><code>source ~/.bashrc</code></pre></li>
</ul>
<h4 data-number="1.2.3.4" id="verificar-la-instalaci√≥n"><span class="header-section-number">1.2.3.4</span> 4. <strong>Verificar la
instalaci√≥n</strong></h4>
<ul>
<li><p>En el terminal de MSYS2, ejecuta:</p>
<pre><code>pandoc --version</code></pre></li>
<li><p>Deber√≠a mostrar la versi√≥n instalada. Si no, verifica el PATH con
<code>echo $PATH</code> y aseg√∫rate de que incluya el directorio de
Pandoc.</p></li>
</ul>
<h4 data-number="1.2.3.5" id="notas-adicionales"><span class="header-section-number">1.2.3.5</span> Notas adicionales</h4>
<ul>
<li><p><strong>Dependencias para PDF</strong>: Si planeas generar PDFs
con Pandoc, instala TeX Live en MSYS2:</p>
<pre><code>pacman -S mingw-w64-x86_64-texlive-core  # Para MINGW64; ajusta seg√∫n tu entorno</code></pre></li>
<li><p><strong>Alternativas</strong>: Si prefieres una instalaci√≥n
portable, descarga el ZIP desde el sitio de Pandoc y extrae el
ejecutable <code>pandoc.exe</code> a un directorio en MSYS2 (ej.
<code>/usr/local/bin</code>), luego agr√©galo al PATH.</p></li>
<li><p>Si encuentras problemas con rutas relativas o filtros Python
(com√∫n en MSYS2), aseg√∫rate de usar rutas absolutas en tus
comandos.</p></li>
</ul>
<p>Si tienes errores espec√≠ficos, proporciona m√°s detalles para ayudarte
mejor.<grok:render card_id="0d7a15" card_type="citation_card" type="render_inline_citation">
<argument name="citation_id">10</argument>
</grok:render><grok:render card_id="71ba4f" card_type="citation_card" type="render_inline_citation">
<argument name="citation_id">15</argument>
</grok:render><grok:render card_id="ce3873" card_type="citation_card" type="render_inline_citation">
<argument name="citation_id">18</argument> </grok:render></p>
<hr />
<h3 data-number="1.2.4" id="utilizador-2025-10-28-195642-grok"><span class="header-section-number">1.2.4</span> üë§ Utilizador <em>(2025-10-28
19:56:42)</em> <em>[Grok]</em></h3>
<p>Pandoc Markdown to PDF</p>
<hr />
<h3 data-number="1.2.5" id="grok-2025-10-28-195645-grok"><span class="header-section-number">1.2.5</span> ü§ñ Grok <em>(2025-10-28
19:56:45)</em> <em>[Grok]</em></h3>
<p>To convert a Markdown file to PDF using Pandoc in MSYS2, follow these
steps. I‚Äôll assume you‚Äôve already installed Pandoc and have it
accessible in your MSYS2 terminal (as outlined in the previous
response). You‚Äôll also need a LaTeX distribution like TeX Live for PDF
output.</p>
<h3 data-number="1.2.6" id="steps-to-convert-markdown-to-pdf"><span class="header-section-number">1.2.6</span> Steps to Convert Markdown to
PDF</h3>
<ol type="1">
<li><strong>Ensure Dependencies are Installed</strong>
<ul>
<li>Install TeX Live in MSYS2 (required for PDF generation): ``` pacman
-S mingw-w</li>
</ul></li>
</ol>
<hr />
<h3 data-number="1.2.7" id="utilizador-2025-10-28-195805-grok"><span class="header-section-number">1.2.7</span> üë§ Utilizador <em>(2025-10-28
19:58:05)</em> <em>[Grok]</em></h3>
<p>Pandoc Markdown e emojis para PDF.</p>
<hr />
<h3 data-number="1.2.8" id="grok-2025-10-28-195833-grok"><span class="header-section-number">1.2.8</span> ü§ñ Grok <em>(2025-10-28
19:58:33)</em> <em>[Grok]</em></h3>
<p>Para usar Pandoc con Markdown y emojis, y generar un PDF, necesitas
configurar correctamente Pandoc, un motor de renderizado de TeX (como
XeLaTeX para soporte de emojis) y asegurarte de que los emojis en tu
archivo Markdown se procesen correctamente. A continuaci√≥n, te explico
los pasos para lograrlo en MSYS2 (o cualquier sistema compatible),
asumiendo que ya tienes Pandoc instalado seg√∫n las instrucciones
previas.</p>
<h3 data-number="1.2.9" id="pasos-para-generar-un-pdf-con-markdown-y-emojis-usando-pandoc"><span class="header-section-number">1.2.9</span> Pasos para generar un PDF con
Markdown y emojis usando Pandoc</h3>
<h4 data-number="1.2.9.1" id="aseg√∫rate-de-tener-pandoc-instalado"><span class="header-section-number">1.2.9.1</span> 1. <strong>Aseg√∫rate de
tener Pandoc instalado</strong></h4>
<ul>
<li><p>Verifica que Pandoc est√© disponible ejecutando:</p>
<pre><code>pandoc --version</code></pre></li>
<li><p>Si no est√° instalado, sigue los pasos de la respuesta anterior
para instalarlo en MSYS2.</p></li>
</ul>
<h4 data-number="1.2.9.2" id="instala-un-sistema-tex-con-soporte-para-emojis"><span class="header-section-number">1.2.9.2</span> 2. <strong>Instala un
sistema TeX con soporte para emojis</strong></h4>
<ul>
<li><p>Los emojis requieren un motor de TeX que soporte fuentes
modernas, como XeLaTeX. Instala TeX Live en MSYS2:</p>
<pre><code>pacman -S mingw-w64-x86_64-texlive-core</code></pre></li>
<li><p>Si necesitas paquetes adicionales para fuentes espec√≠ficas:</p>
<pre><code>pacman -S mingw-w64-x86_64-texlive-fonts-extra</code></pre></li>
<li><p>Esto incluye XeLaTeX, que es necesario para renderizar emojis
correctamente.</p></li>
</ul>
<h4 data-number="1.2.9.3" id="crea-un-archivo-markdown-con-emojis"><span class="header-section-number">1.2.9.3</span> 3. <strong>Crea un archivo
Markdown con emojis</strong></h4>
<ul>
<li><p>Escribe un archivo Markdown (por ejemplo,
<code>ejemplo.md</code>) con emojis. Puedes usar emojis Unicode
directamente o c√≥digos cortos (si usas un filtro como
<code>pandoc-emoji</code>). Ejemplo:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu"># Documento con Emojis üòäüöÄ</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>¬°Hola, mundo! üåç Este es un ejemplo con emojis: üê±‚Äçüë§</span></code></pre></div></li>
<li><p>Guarda el archivo en tu directorio de trabajo.</p></li>
</ul>
<h4 data-number="1.2.9.4" id="convierte-el-markdown-a-pdf-con-xelatex"><span class="header-section-number">1.2.9.4</span> 4. <strong>Convierte el
Markdown a PDF con XeLaTeX</strong></h4>
<ul>
<li><p>Usa Pandoc con el motor XeLaTeX para generar el PDF, ya que
soporta caracteres Unicode (incluidos emojis). Ejecuta:</p>
<pre><code>pandoc ejemplo.md -o ejemplo.pdf --pdf-engine=xelatex</code></pre></li>
<li><p>Si quieres usar una fuente espec√≠fica que soporte emojis (como
Segoe UI Emoji en Windows o Noto Emoji en otros sistemas), agrega una
opci√≥n de fuente:</p>
<pre><code>pandoc ejemplo.md -o ejemplo.pdf --pdf-engine=xelatex -V mainfont=&quot;Segoe UI Emoji&quot;</code></pre></li>
</ul>
<h4 data-number="1.2.9.5" id="soporte-para-c√≥digos-cortos-de-emojis-opcional"><span class="header-section-number">1.2.9.5</span> 5. <strong>Soporte para
c√≥digos cortos de emojis (opcional)</strong></h4>
<ul>
<li>Si prefieres usar c√≥digos cortos (como <code>:smile:</code> en lugar
de üòä), instala el filtro <code>pandoc-emoji</code>:
<ul>
<li><p>Necesitas Python y el paquete <code>pandocfilters</code>.
Inst√°lalo en MSYS2:</p>
<pre><code>pacman -S python-pip
pip install pandocfilters pandoc-emoji</code></pre></li>
<li><p>Crea un archivo Markdown con c√≥digos cortos:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu"># Documento con Emojis</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>¬°Hola, mundo! <span class="sc">:smile:</span> <span class="sc">:rocket:</span></span></code></pre></div></li>
<li><p>Convierte usando el filtro:</p>
<pre><code>pandoc ejemplo.md -o ejemplo.pdf --pdf-engine=xelatex --filter pandoc-emoji</code></pre></li>
</ul></li>
</ul>
<h4 data-number="1.2.9.6" id="verifica-el-resultado"><span class="header-section-number">1.2.9.6</span> 6. <strong>Verifica el
resultado</strong></h4>
<ul>
<li>Abre el archivo PDF generado (<code>ejemplo.pdf</code>) y verifica
que los emojis se muestren correctamente.</li>
<li>Si los emojis no aparecen, aseg√∫rate de que:
<ul>
<li>Usaste <code>--pdf-engine=xelatex</code>.</li>
<li>La fuente especificada (si usaste <code>-V mainfont</code>) soporta
emojis. Fuentes recomendadas: <code>Segoe UI Emoji</code>,
<code>Noto Color Emoji</code>, o <code>Symbola</code>.</li>
</ul></li>
</ul>
<h4 data-number="1.2.9.7" id="notas-adicionales-1"><span class="header-section-number">1.2.9.7</span> Notas adicionales</h4>
<ul>
<li><strong>Fuentes y compatibilidad</strong>: No todas las fuentes
soportan emojis. Si <code>Segoe UI Emoji</code> no funciona, prueba con
<code>Noto Color Emoji</code> (descarga desde <a href="https://fonts.google.com/noto/specimen/Noto+Color+Emoji">Google
Fonts</a> e inst√°lala en tu sistema).</li>
<li><strong>Errores comunes</strong>:
<ul>
<li><p>Si falta XeLaTeX, instala el paquete completo de TeX Live:</p>
<pre><code>pacman -S mingw-w64-x86_64-texlive</code></pre></li>
<li><p>Si los emojis se muestran como cuadros (‚ñ°), verifica que la
fuente usada en el PDF soporte emojis.</p></li>
</ul></li>
<li><strong>Rutas absolutas en MSYS2</strong>: Si encuentras problemas
con rutas, usa rutas absolutas para los archivos Markdown o
fuentes.</li>
<li><strong>Emojis a color</strong>: Para emojis a color en el PDF,
aseg√∫rate de usar <code>Noto Color Emoji</code> y que tu visor de PDF
(como Adobe Acrobat) soporte emojis a color.</li>
</ul>
<h4 data-number="1.2.9.8" id="ejemplo-completo"><span class="header-section-number">1.2.9.8</span> Ejemplo completo</h4>
<p>Archivo <code>ejemplo.md</code>:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu"># ¬°Hola, Emojis! üòä</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>Este es un ejemplo con emojis: üöÄüåç</span></code></pre></div>
<p>Comando:</p>
<pre><code>pandoc ejemplo.md -o ejemplo.pdf --pdf-engine=xelatex -V mainfont=&quot;Segoe UI Emoji&quot;</code></pre>
<p>Si necesitas ayuda con errores espec√≠ficos o quieres personalizar el
PDF (por ejemplo, m√°rgenes, estilos), proporci√≥nalos y te ayudar√© a
ajustarlo.</p>
<hr />
<h3 data-number="1.2.10" id="utilizador-2025-10-28-195942-grok"><span class="header-section-number">1.2.10</span> üë§ Utilizador
<em>(2025-10-28 19:59:42)</em> <em>[Grok]</em></h3>
<p>Pandoc Markdown e emojis para PDF. (Nota a minha linguagem √©
portugues de Portugal</p>
<hr />
<h3 data-number="1.2.11" id="grok-2025-10-28-200015-grok"><span class="header-section-number">1.2.11</span> ü§ñ Grok <em>(2025-10-28
20:00:15)</em> <em>[Grok]</em></h3>
<p>Para usar o Pandoc para converter documentos Markdown com emojis para
PDF, utilizando o portugu√™s de Portugal, voc√™ precisa garantir que o
Pandoc e as ferramentas necess√°rias estejam configuradas corretamente,
especialmente para lidar com emojis, que requerem suporte a fontes
Unicode. Abaixo est√° um guia passo a passo para realizar isso no MSYS2
(ou em outro ambiente Windows/Linux/Mac, j√° que o Pandoc √©
multiplataforma).</p>
<hr />
<h3 data-number="1.2.12" id="passos-para-converter-markdown-com-emojis-para-pdf-usando-pandoc"><span class="header-section-number">1.2.12</span> Passos para Converter
Markdown com Emojis para PDF usando Pandoc</h3>
<h4 data-number="1.2.12.1" id="pr√©-requisitos"><span class="header-section-number">1.2.12.1</span> 1.
<strong>Pr√©-requisitos</strong></h4>
<p>Certifique-se de que o Pandoc est√° instalado no MSYS2 (como descrito
na resposta anterior). Se ainda n√£o instalou, siga os passos: - Instale
o Pandoc via instalador MSI do Windows a partir de <a href="https://pandoc.org/installing.html">pandoc.org</a>. - Adicione o
diret√≥rio do Pandoc ao <code>PATH</code> no MSYS2, editando
<code>~/.bashrc</code>:
<code>bash   export PATH=&quot;$PATH:/c/Users/[seu_usuario]/AppData/Local/Pandoc&quot;</code>
Recarregue com <code>source ~/.bashrc</code>.</p>
<p>Al√©m disso, para gerar PDFs, voc√™ precisa de um sistema LaTeX
instalado, como o TeX Live, que suporte fontes com emojis.</p>
<h4 data-number="1.2.12.2" id="instalar-tex-live-no-msys2"><span class="header-section-number">1.2.12.2</span> 2. <strong>Instalar TeX
Live no MSYS2</strong></h4>
<p>O TeX Live √© necess√°rio para renderizar PDFs com suporte a fontes
Unicode (para emojis). No terminal MSYS2 (preferencialmente
MINGW64):</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-S</span> mingw-w64-x86_64-texlive-core</span></code></pre></div>
<p>Para suporte completo a emojis, instale pacotes adicionais de
fontes:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-S</span> mingw-w64-x86_64-texlive-fonts-extra</span></code></pre></div>
<p>Isso inclui fontes como Noto, que suportam emojis.</p>
<h4 data-number="1.2.12.3" id="criar-um-documento-markdown-com-emojis"><span class="header-section-number">1.2.12.3</span> 3. <strong>Criar um
Documento Markdown com Emojis</strong></h4>
<p>Crie um arquivo Markdown (exemplo: <code>documento.md</code>) com
texto em portugu√™s de Portugal e emojis. Exemplo:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu"># Ol√°, Mundo! üåç</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>Este √© um documento em **Markdown** com emojis üòäüöÄ.</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Item 1: Ma√ß√£ üçé</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Item 2: Estrela ‚≠ê</span></code></pre></div>
<h4 data-number="1.2.12.4" id="converter-markdown-para-pdf-com-emojis"><span class="header-section-number">1.2.12.4</span> 4. <strong>Converter
Markdown para PDF com Emojis</strong></h4>
<p>Use o Pandoc para converter o arquivo Markdown para PDF. Para
garantir que os emojis sejam renderizados corretamente, use um mecanismo
de renderiza√ß√£o LaTeX que suporte fontes Unicode, como
<code>xelatex</code> ou <code>lualatex</code>. Exemplo de comando no
terminal MSYS2:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pandoc</span> documento.md <span class="at">-o</span> documento.pdf <span class="at">--pdf-engine</span><span class="op">=</span>xelatex <span class="at">-V</span> mainfont=<span class="st">&quot;Noto Sans&quot;</span></span></code></pre></div>
<ul>
<li><strong>Explica√ß√£o</strong>:
<ul>
<li><code>-o documento.pdf</code>: Define o arquivo de sa√≠da como
PDF.</li>
<li><code>--pdf-engine=xelatex</code>: Usa o XeLaTeX, que suporta fontes
Unicode (necess√°rio para emojis).</li>
<li><code>-V mainfont=&quot;Noto Sans&quot;</code>: Especifica a fonte Noto Sans,
que inclui emojis. Certifique-se de que est√° instalada (via
<code>texlive-fonts-extra</code>).</li>
</ul></li>
</ul>
<h4 data-number="1.2.12.5" id="notas-importantes"><span class="header-section-number">1.2.12.5</span> 5. <strong>Notas
Importantes</strong></h4>
<ul>
<li><p><strong>Fontes com suporte a emojis</strong>: A fonte Noto Sans
(ou Noto Color Emoji) √© recomendada porque suporta emojis coloridos.
Outras fontes como DejaVu Sans ou Segoe UI Emoji tamb√©m podem
funcionar.</p></li>
<li><p><strong>Portugu√™s de Portugal</strong>: O Pandoc suporta
hifeniza√ß√£o em portugu√™s com a op√ß√£o <code>-V lang=pt-PT</code>.
Adicione ao comando:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pandoc</span> documento.md <span class="at">-o</span> documento.pdf <span class="at">--pdf-engine</span><span class="op">=</span>xelatex <span class="at">-V</span> mainfont=<span class="st">&quot;Noto Sans&quot;</span> <span class="at">-V</span> lang=pt-PT</span></code></pre></div>
<p>Isso garante que o texto seja hifenizado corretamente em portugu√™s de
Portugal.</p></li>
<li><p><strong>Visualizar o PDF</strong>: Abra o arquivo PDF gerado
(ex.: <code>documento.pdf</code>) com um visualizador de PDF (como Adobe
Acrobat ou Evince) para verificar se os emojis aparecem
corretamente.</p></li>
<li><p><strong>Problemas comuns</strong>:</p>
<ul>
<li><p>Se os emojis n√£o aparecerem (mostrando caixas ou ‚Äútofu‚Äù),
verifique se a fonte especificada suporta emojis e se o pacote
<code>texlive-fonts-extra</code> est√° instalado.</p></li>
<li><p>Caso o comando falhe, confirme que o <code>xelatex</code> est√° no
PATH do MSYS2. Teste com:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="ex">xelatex</span> <span class="at">--version</span></span></code></pre></div></li>
</ul></li>
</ul>
<h4 data-number="1.2.12.6" id="exemplo-completo"><span class="header-section-number">1.2.12.6</span> 6. <strong>Exemplo
Completo</strong></h4>
<p>Crie um arquivo <code>documento.md</code>:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="an">lang:</span><span class="co"> pt-PT</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="an">mainfont:</span><span class="co"> Noto Sans</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="fu"># Bem-vindo ao Markdown com Emojis! üéâ</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>Este documento cont√©m texto em portugu√™s de Portugal e emojis. üòÑ</span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Sol ‚òÄÔ∏è</span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Lua üåô</span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Cora√ß√£o ‚ù§Ô∏è</span></code></pre></div>
<p>Converta para PDF:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pandoc</span> documento.md <span class="at">-o</span> documento.pdf <span class="at">--pdf-engine</span><span class="op">=</span>xelatex</span></code></pre></div>
<h4 data-number="1.2.12.7" id="dicas-adicionais"><span class="header-section-number">1.2.12.7</span> 7. <strong>Dicas
Adicionais</strong></h4>
<ul>
<li><p><strong>Emojis coloridos</strong>: Para emojis coloridos no PDF,
use a fonte <code>Noto Color Emoji</code> e o <code>lualatex</code> como
motor:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pandoc</span> documento.md <span class="at">-o</span> documento.pdf <span class="at">--pdf-engine</span><span class="op">=</span>lualatex <span class="at">-V</span> mainfont=<span class="st">&quot;Noto Color Emoji&quot;</span></span></code></pre></div>
<p>Nota: O suporte a emojis coloridos pode depender do visualizador de
PDF.</p></li>
<li><p><strong>Modelos personalizados</strong>: Para maior controle
sobre o layout, crie um modelo LaTeX personalizado e use com
<code>--template=meu_template.tex</code>.</p></li>
<li><p><strong>Atualizar Pandoc</strong>: Certifique-se de usar a vers√£o
mais recente do Pandoc (ex.: 3.1.11 em outubro de 2025) para melhor
suporte a Unicode:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pandoc</span> <span class="at">--version</span></span></code></pre></div>
<p>Se necess√°rio, baixe a vers√£o mais recente do site oficial.</p></li>
</ul>
<h4 data-number="1.2.12.8" id="solu√ß√£o-de-problemas"><span class="header-section-number">1.2.12.8</span> 8. <strong>Solu√ß√£o de
Problemas</strong></h4>
<ul>
<li><p><strong>Erro de fonte</strong>: Se o Pandoc reclamar que a fonte
n√£o foi encontrada, liste as fontes dispon√≠veis com:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="ex">fc-list</span> <span class="kw">|</span> <span class="fu">grep</span> Noto</span></code></pre></div>
<p>E ajuste o nome da fonte no comando (ex.: <code>NotoSans</code> em
vez de <code>Noto Sans</code>).</p></li>
<li><p><strong>PDF em branco ou com erros</strong>: Verifique se o
<code>xelatex</code> ou <code>lualatex</code> est√° instalado
(<code>pacman -S mingw-w64-x86_64-texlive-bin</code>).</p></li>
<li><p><strong>Emojis n√£o renderizam</strong>: Use
<code>--pdf-engine=lualatex</code> ou instale fontes adicionais:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-S</span> mingw-w64-x86_64-texlive-fonts-recommended</span></code></pre></div></li>
</ul>
<p>Se precisar de ajuda com erros espec√≠ficos ou quiser um exemplo mais
detalhado, me avise! üòä</p>
<hr />
<h3 data-number="1.2.13" id="utilizador-2025-10-28-200153-grok"><span class="header-section-number">1.2.13</span> üë§ Utilizador
<em>(2025-10-28 20:01:53)</em> <em>[Grok]</em></h3>
<p>Refer to the following content:</p>
<hr />
<h3 data-number="1.2.14" id="grok-2025-10-28-200227-grok"><span class="header-section-number">1.2.14</span> ü§ñ Grok <em>(2025-10-28
20:02:27)</em> <em>[Grok]</em></h3>
<p>Vou ajudar voc√™ a converter o arquivo Markdown
<code>teste_emojis.md</code> para PDF usando o Pandoc, garantindo que os
emojis sejam renderizados corretamente e respeitando o portugu√™s de
Portugal. Como o arquivo cont√©m v√°rias se√ß√µes com emojis (de alimentos a
s√≠mbolos), seguirei os passos necess√°rios para garantir que tudo
funcione bem no MSYS2 ou em outro ambiente, com foco em fontes Unicode e
configura√ß√µes espec√≠ficas para PDF.</p>
<hr />
<h3 data-number="1.2.15" id="passos-para-converter-o-markdown-com-emojis-para-pdf"><span class="header-section-number">1.2.15</span> Passos para Converter o
Markdown com Emojis para PDF</h3>
<h4 data-number="1.2.15.1" id="verificar-instala√ß√£o-do-pandoc-e-tex-live"><span class="header-section-number">1.2.15.1</span> 1. <strong>Verificar
Instala√ß√£o do Pandoc e TeX Live</strong></h4>
<p>Certifique-se de que o Pandoc e o TeX Live est√£o instalados no MSYS2,
conforme descrito anteriormente: - <strong>Pandoc</strong>: Verifique
com <code>pandoc --version</code>. Se n√£o estiver instalado, baixe o
instalador MSI do <a href="https://pandoc.org/installing.html">site
oficial</a> e adicione ao PATH:
<code>bash   export PATH=&quot;$PATH:/c/Users/[seu_usuario]/AppData/Local/Pandoc&quot;</code>
Recarregue com <code>source ~/.bashrc</code>. - <strong>TeX
Live</strong>: Instale os pacotes necess√°rios para suporte a fontes
Unicode e emojis:
<code>bash   pacman -S mingw-w64-x86_64-texlive-core mingw-w64-x86_64-texlive-fonts-extra</code>
Isso inclui fontes como Noto Sans e Noto Color Emoji, que suportam
emojis.</p>
<h4 data-number="1.2.15.2" id="preparar-o-arquivo-markdown"><span class="header-section-number">1.2.15.2</span> 2. <strong>Preparar o
Arquivo Markdown</strong></h4>
<p>Seu arquivo <code>teste_emojis.md</code> j√° est√° bem estruturado, com
emojis em v√°rias se√ß√µes (t√≠tulos, listas, tabelas). Ele inclui metadados
impl√≠citos (como <code>lang: pt-PT</code> n√£o est√° presente, mas pode
ser adicionado para portugu√™s de Portugal). Para garantir que o Pandoc
use a hifeniza√ß√£o correta e renderize emojis, voc√™ pode adicionar
metadados no in√≠cio do arquivo, mas isso tamb√©m pode ser feito via linha
de comando.</p>
<p>Se quiser adicionar metadados diretamente no arquivo, edite
<code>teste_emojis.md</code> para incluir:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="an">lang:</span><span class="co"> pt-PT</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="an">mainfont:</span><span class="co"> Noto Sans</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="fu"># üåà Teste de Emojis em Markdown</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>...</span></code></pre></div>
<p>Isso define o idioma como portugu√™s de Portugal e a fonte como Noto
Sans. No entanto, voc√™ tamb√©m pode passar essas op√ß√µes diretamente no
comando do Pandoc.</p>
<h4 data-number="1.2.15.3" id="comando-para-converter-para-pdf"><span class="header-section-number">1.2.15.3</span> 3. <strong>Comando para
Converter para PDF</strong></h4>
<p>Para converter <code>teste_emojis.md</code> para PDF com suporte a
emojis, use o seguinte comando no terminal MSYS2 (certifique-se de estar
no diret√≥rio onde o arquivo est√° salvo):</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pandoc</span> teste_emojis.md <span class="at">-o</span> teste_emojis.pdf <span class="at">--pdf-engine</span><span class="op">=</span>xelatex <span class="at">-V</span> mainfont=<span class="st">&quot;Noto Sans&quot;</span> <span class="at">-V</span> lang=pt-PT</span></code></pre></div>
<ul>
<li><strong>Explica√ß√£o</strong>:
<ul>
<li><code>teste_emojis.md</code>: Arquivo de entrada.</li>
<li><code>-o teste_emojis.pdf</code>: Arquivo de sa√≠da (PDF).</li>
<li><code>--pdf-engine=xelatex</code>: Usa XeLaTeX para suportar fontes
Unicode e emojis.</li>
<li><code>-V mainfont=&quot;Noto Sans&quot;</code>: Define a fonte Noto Sans, que
suporta emojis.</li>
<li><code>-V lang=pt-PT</code>: Garante hifeniza√ß√£o e formata√ß√£o em
portugu√™s de Portugal.</li>
</ul></li>
</ul>
<h4 data-number="1.2.15.4" id="testar-emojis-coloridos-opcional"><span class="header-section-number">1.2.15.4</span> 4. <strong>Testar Emojis
Coloridos (Opcional)</strong></h4>
<p>Se quiser emojis coloridos no PDF (como o üåà ou üçé), use a fonte
<code>Noto Color Emoji</code> e o motor <code>lualatex</code>:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pandoc</span> teste_emojis.md <span class="at">-o</span> teste_emojis.pdf <span class="at">--pdf-engine</span><span class="op">=</span>lualatex <span class="at">-V</span> mainfont=<span class="st">&quot;Noto Color Emoji&quot;</span> <span class="at">-V</span> lang=pt-PT</span></code></pre></div>
<ul>
<li><strong>Nota</strong>: O suporte a emojis coloridos depende do
visualizador de PDF. Visualizadores como Adobe Acrobat ou Chrome podem
exibir emojis coloridos, mas outros (como Evince) podem mostrar apenas
em preto e branco.</li>
</ul>
<h4 data-number="1.2.15.5" id="solu√ß√£o-de-problemas-comuns"><span class="header-section-number">1.2.15.5</span> 5. <strong>Solu√ß√£o de
Problemas Comuns</strong></h4>
<ul>
<li><p><strong>Emojis aparecem como caixas (‚Äútofu‚Äù)</strong>:</p>
<ul>
<li><p>Verifique se a fonte <code>Noto Sans</code> ou
<code>Noto Color Emoji</code> est√° instalada:</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="ex">fc-list</span> <span class="kw">|</span> <span class="fu">grep</span> Noto</span></code></pre></div>
<p>Se n√£o aparecer, reinstale o pacote
<code>texlive-fonts-extra</code>:</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-S</span> mingw-w64-x86_64-texlive-fonts-extra</span></code></pre></div></li>
<li><p>Tente uma fonte alternativa, como
<code>Segoe UI Emoji</code>:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pandoc</span> teste_emojis.md <span class="at">-o</span> teste_emojis.pdf <span class="at">--pdf-engine</span><span class="op">=</span>xelatex <span class="at">-V</span> mainfont=<span class="st">&quot;Segoe UI Emoji&quot;</span> <span class="at">-V</span> lang=pt-PT</span></code></pre></div></li>
</ul></li>
<li><p><strong>Erro de PDF n√£o gerado</strong>: Confirme que o
<code>xelatex</code> ou <code>lualatex</code> est√° instalado:</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="ex">xelatex</span> <span class="at">--version</span></span></code></pre></div>
<p>Se n√£o estiver, instale:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-S</span> mingw-w64-x86_64-texlive-bin</span></code></pre></div></li>
<li><p><strong>Tabelas desalinhadas</strong>: As tabelas no seu Markdown
(como ‚ÄúPr√≥s vs Contras‚Äù) devem renderizar bem, mas se ficarem
desalinhadas, adicione a op√ß√£o <code>--columns=80</code> para ajustar a
largura:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pandoc</span> teste_emojis.md <span class="at">-o</span> teste_emojis.pdf <span class="at">--pdf-engine</span><span class="op">=</span>xelatex <span class="at">-V</span> mainfont=<span class="st">&quot;Noto Sans&quot;</span> <span class="at">-V</span> lang=pt-PT <span class="at">--columns</span><span class="op">=</span>80</span></code></pre></div></li>
<li><p><strong>Hifeniza√ß√£o incorreta</strong>: O
<code>-V lang=pt-PT</code> deve resolver, mas se houver problemas,
adicione o pacote LaTeX para portugu√™s:</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-S</span> mingw-w64-x86_64-texlive-lang-portuguese</span></code></pre></div></li>
</ul>
<h4 data-number="1.2.15.6" id="visualizar-o-resultado"><span class="header-section-number">1.2.15.6</span> 6. <strong>Visualizar o
Resultado</strong></h4>
<p>Abra o arquivo <code>teste_emojis.pdf</code> com um visualizador de
PDF (como Adobe Acrobat, Edge ou Chrome). Verifique se: - Os emojis (üåà,
üßä, üçö, etc.) aparecem corretamente. - O texto em portugu√™s de Portugal
est√° hifenizado corretamente (ex.: ‚Äúpraticidade‚Äù, ‚Äúdesperd√≠cio‚Äù). - As
tabelas e listas est√£o formatadas adequadamente.</p>
<h4 data-number="1.2.15.7" id="dicas-adicionais-1"><span class="header-section-number">1.2.15.7</span> 7. <strong>Dicas
Adicionais</strong></h4>
<ul>
<li><p><strong>Personalizar o PDF</strong>: Para ajustar margens ou
estilos, crie um arquivo de modelo LaTeX (ex.:
<code>template.tex</code>) e use com
<code>--template=template.tex</code>. Um exemplo b√°sico de modelo:</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode latex"><code class="sourceCode latex"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="bu">\documentclass</span>[a4paper,12pt]{<span class="ex">article</span>}</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="bu">\usepackage</span>{<span class="ex">fontspec</span>}</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a><span class="fu">\setmainfont</span>{Noto Sans}</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a><span class="bu">\usepackage</span>[portuguese]{<span class="ex">babel</span>}</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a><span class="bu">\usepackage</span>{<span class="ex">geometry</span>}</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a><span class="fu">\geometry</span>{margin=2cm}</span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a><span class="kw">\begin</span>{<span class="ex">document</span>}</span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a><span class="ss">$body$</span></span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a><span class="kw">\end</span>{<span class="ex">document</span>}</span></code></pre></div>
<p>Use com:</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pandoc</span> teste_emojis.md <span class="at">-o</span> teste_emojis.pdf <span class="at">--pdf-engine</span><span class="op">=</span>xelatex <span class="at">--template</span><span class="op">=</span>template.tex <span class="at">-V</span> lang=pt-PT</span></code></pre></div></li>
<li><p><strong>Automatizar</strong>: Se planeia converter m√∫ltiplos
arquivos, crie um script bash:</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/bin/bash</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="ex">pandoc</span> teste_emojis.md <span class="at">-o</span> teste_emojis.pdf <span class="at">--pdf-engine</span><span class="op">=</span>xelatex <span class="at">-V</span> mainfont=<span class="st">&quot;Noto Sans&quot;</span> <span class="at">-V</span> lang=pt-PT</span></code></pre></div>
<p>Salve como <code>converter.sh</code>, torne execut√°vel
(<code>chmod +x converter.sh</code>) e execute
(<code>./converter.sh</code>).</p></li>
</ul>
<h4 data-number="1.2.15.8" id="exemplo-de-resultado"><span class="header-section-number">1.2.15.8</span> 8. <strong>Exemplo de
Resultado</strong></h4>
<p>Seu arquivo <code>teste_emojis.md</code> ser√° convertido em um PDF
com: - T√≠tulos com emojis (ex.: üåà Teste de Emojis em Markdown). -
Listas de itens com emojis (ex.: üçö Arroz, ü•© Carnes). - Tabelas
formatadas (ex.: Pr√≥s vs Contras). - Se√ß√µes de emojis (como üòä, üê∂, üçî)
renderizadas corretamente com a fonte Noto Sans ou Noto Color Emoji.</p>
<p>Se encontrar algum erro ou quiser ajustes (ex.: fontes diferentes,
margens, emojis coloridos), me avise com os detalhes! üòÑ</p>
<hr />
<h3 data-number="1.2.16" id="utilizador-2025-10-28-203346-grok"><span class="header-section-number">1.2.16</span> üë§ Utilizador
<em>(2025-10-28 20:33:46)</em> <em>[Grok]</em></h3>
<p>este √© uma vers√£o que faz a convers√£o corecta. Haver√° outras formas
open-source e mais simples para fazer a convers√£o correctamente</p>
<hr />
<h3 data-number="1.2.17" id="grok-2025-10-28-203440-grok"><span class="header-section-number">1.2.17</span> ü§ñ Grok <em>(2025-10-28
20:34:40)</em> <em>[Grok]</em></h3>
<p>O script Python fornecido (<code>converter_final.py</code>) utiliza o
Selenium com ChromeDriver para converter o arquivo Markdown
<code>teste_emojis.md</code> em PDF, garantindo suporte a emojis e
estiliza√ß√£o personalizada. Ele √© funcional, mas depende de ferramentas
pesadas como o Selenium e o Chrome, o que pode n√£o ser a solu√ß√£o mais
simples ou leve. Existem alternativas open-source mais simples que podem
realizar a convers√£o de Markdown com emojis para PDF, especialmente
considerando o suporte a portugu√™s de Portugal e emojis Unicode. Abaixo,
exploro essas alternativas, comparando-as com o seu script, e mantenho o
foco em solu√ß√µes open-source e pr√°ticas para o ambiente MSYS2 ou outros
sistemas.</p>
<hr />
<h3 data-number="1.2.18" id="an√°lise-do-script-atual"><span class="header-section-number">1.2.18</span> An√°lise do Script Atual</h3>
<p>O script <code>converter_final.py</code> faz o seguinte: 1. L√™ o
arquivo Markdown (<code>teste_emojis.md</code>) e converte para HTML
usando a biblioteca <code>markdown</code> com extens√µes
(<code>extra</code>, <code>tables</code>). 2. Aplica estilos CSS
personalizados, incluindo fontes que suportam emojis
(<code>Segoe UI Emoji</code>, <code>Noto Color Emoji</code>). 3. Usa o
Selenium com Chrome em modo headless para renderizar o HTML e gerar um
PDF via <code>Page.printToPDF</code>. 4. Remove arquivos tempor√°rios e
lida com erros.</p>
<p><strong>Vantagens</strong>: - Suporta emojis coloridos (dependendo do
navegador e da fonte). - Permite estiliza√ß√£o avan√ßada via CSS. -
Funciona em qualquer sistema com Chrome instalado.</p>
<p><strong>Desvantagens</strong>: - Depende de ferramentas pesadas
(Selenium, ChromeDriver), o que aumenta a complexidade e o tempo de
execu√ß√£o. - Requer instala√ß√£o de depend√™ncias adicionais
(<code>selenium</code>, <code>webdriver_manager</code>). - Consome mais
recursos do que solu√ß√µes baseadas em Pandoc ou outras ferramentas leves.
- Pode ser mais lento devido ao carregamento do navegador.</p>
<hr />
<h3 data-number="1.2.19" id="alternativas-open-source-mais-simples"><span class="header-section-number">1.2.19</span> Alternativas Open-Source
Mais Simples</h3>
<p>Abaixo est√£o alternativas open-source para converter Markdown com
emojis para PDF de forma mais simples, mantendo o suporte a portugu√™s de
Portugal e emojis. Todas podem ser usadas no MSYS2 ou em outros
ambientes (Linux, Windows, macOS).</p>
<h4 data-number="1.2.19.1" id="pandoc-com-xelatex-ou-lualatex-recomendado"><span class="header-section-number">1.2.19.1</span> 1. <strong>Pandoc com
XeLaTeX ou LuaLaTeX (Recomendado)</strong></h4>
<p>O Pandoc, combinado com um motor LaTeX como XeLaTeX ou LuaLaTeX, √© a
solu√ß√£o mais robusta e leve para converter Markdown com emojis para PDF.
J√° discutimos isso anteriormente, mas aqui est√° uma vers√£o otimizada e
comparada com seu script.</p>
<p><strong>Passos</strong>: 1. <strong>Instalar depend√™ncias no
MSYS2</strong>:
<code>bash    pacman -S mingw-w64-x86_64-pandoc mingw-w64-x86_64-texlive-core mingw-w64-x86_64-texlive-fonts-extra</code>
Se o Pandoc n√£o estiver dispon√≠vel diretamente no MSYS2, instale-o via
instalador MSI do Windows e adicione ao PATH:
<code>bash    export PATH=&quot;$PATH:/c/Users/[seu_usuario]/AppData/Local/Pandoc&quot;</code></p>
<ol start="2" type="1">
<li><p><strong>Comando para convers√£o</strong>:</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pandoc</span> teste_emojis.md <span class="at">-o</span> teste_emojis.pdf <span class="at">--pdf-engine</span><span class="op">=</span>xelatex <span class="at">-V</span> mainfont=<span class="st">&quot;Noto Sans&quot;</span> <span class="at">-V</span> lang=pt-PT <span class="at">--css</span><span class="op">=</span>estilos.css</span></code></pre></div>
<ul>
<li><p>Para emojis coloridos, use:</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pandoc</span> teste_emojis.md <span class="at">-o</span> teste_emojis.pdf <span class="at">--pdf-engine</span><span class="op">=</span>lualatex <span class="at">-V</span> mainfont=<span class="st">&quot;Noto Color Emoji&quot;</span> <span class="at">-V</span> lang=pt-PT</span></code></pre></div></li>
</ul></li>
<li><p><strong>Estiliza√ß√£o (opcional)</strong>: Crie um arquivo
<code>estilos.css</code> com os estilos do seu script (adaptados para
Pandoc):</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>body {</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">font-family</span><span class="ch">:</span> <span class="st">&quot;Noto Sans&quot;</span><span class="op">,</span> <span class="st">&quot;Segoe UI Emoji&quot;</span><span class="op">,</span> <span class="dv">sans-serif</span><span class="op">;</span></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">line-height</span><span class="ch">:</span> <span class="dv">1.6</span><span class="op">;</span></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">color</span><span class="ch">:</span> <span class="cn">#333</span><span class="op">;</span></span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">max-width</span><span class="ch">:</span> <span class="dv">800</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span> <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">padding</span><span class="ch">:</span> <span class="dv">40</span><span class="dt">px</span> <span class="dv">20</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a>h1 {</span>
<span id="cb46-10"><a href="#cb46-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">color</span><span class="ch">:</span> <span class="cn">#0052d4</span><span class="op">;</span></span>
<span id="cb46-11"><a href="#cb46-11" aria-hidden="true" tabindex="-1"></a>    <span class="kw">border-bottom</span><span class="ch">:</span> <span class="dv">3</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#0052d4</span><span class="op">;</span></span>
<span id="cb46-12"><a href="#cb46-12" aria-hidden="true" tabindex="-1"></a>    <span class="kw">padding-bottom</span><span class="ch">:</span> <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb46-13"><a href="#cb46-13" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb46-14"><a href="#cb46-14" aria-hidden="true" tabindex="-1"></a><span class="co">/* Adicione outros estilos conforme necess√°rio */</span></span></code></pre></div>
<p>Use com <code>--css=estilos.css</code>.</p></li>
</ol>
<p><strong>Vantagens</strong>: - Muito mais leve e r√°pido que o
Selenium. - Suporte nativo a Markdown, tabelas e emojis com fontes
Unicode. - Totalmente open-source e amplamente utilizado. - F√°cil de
integrar em scripts ou pipelines. - Menor depend√™ncia de ferramentas
externas (apenas Pandoc e TeX Live).</p>
<p><strong>Desvantagens</strong>: - Emojis coloridos dependem do motor
(<code>lualatex</code>) e do visualizador de PDF. - Menos flexibilidade
para estiliza√ß√£o avan√ßada comparado ao CSS/HTML do Selenium. -
Configura√ß√£o inicial do TeX Live pode ser um pouco demorada.</p>
<p><strong>Compara√ß√£o com o script</strong>: -
<strong>Simplicidade</strong>: Muito mais simples, sem necessidade de
navegador ou drivers. - <strong>Desempenho</strong>: Mais r√°pido, pois
n√£o carrega um navegador headless. - <strong>Manuten√ß√£o</strong>: Menos
depend√™ncias para gerenciar.</p>
<h4 data-number="1.2.19.2" id="weasyprint"><span class="header-section-number">1.2.19.2</span> 2.
<strong>WeasyPrint</strong></h4>
<p>O WeasyPrint √© uma ferramenta Python open-source que converte
HTML/CSS para PDF, com excelente suporte a emojis e estiliza√ß√£o
moderna.</p>
<p><strong>Passos</strong>: 1. <strong>Instalar WeasyPrint</strong>: No
MSYS2, instale o Python e o WeasyPrint:
<code>bash    pacman -S mingw-w64-x86_64-python mingw-w64-x86_64-python-pip    pip install weasyprint markdown</code>
Nota: O WeasyPrint pode requerer bibliotecas adicionais no
Windows/MSYS2, como GTK3. Instale com:
<code>bash    pacman -S mingw-w64-x86_64-gtk3</code></p>
<ol start="2" type="1">
<li><p><strong>Script Python simplificado</strong>:</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/usr/bin/env python3</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> markdown</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> weasyprint <span class="im">import</span> HTML, CSS</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> convert_markdown_to_pdf(md_file, pdf_file):</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Ler Markdown</span></span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> <span class="bu">open</span>(md_file, <span class="st">&#39;r&#39;</span>, encoding<span class="op">=</span><span class="st">&#39;utf-8&#39;</span>) <span class="im">as</span> f:</span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>        markdown_content <span class="op">=</span> f.read()</span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Converter para HTML</span></span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a>    html_content <span class="op">=</span> markdown.markdown(markdown_content, extensions<span class="op">=</span>[<span class="st">&#39;extra&#39;</span>, <span class="st">&#39;tables&#39;</span>])</span>
<span id="cb47-12"><a href="#cb47-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-13"><a href="#cb47-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># HTML com estilos</span></span>
<span id="cb47-14"><a href="#cb47-14" aria-hidden="true" tabindex="-1"></a>    full_html <span class="op">=</span> <span class="ss">f&quot;&quot;&quot;</span></span>
<span id="cb47-15"><a href="#cb47-15" aria-hidden="true" tabindex="-1"></a><span class="ss">    &lt;!DOCTYPE html&gt;</span></span>
<span id="cb47-16"><a href="#cb47-16" aria-hidden="true" tabindex="-1"></a><span class="ss">    &lt;html&gt;</span></span>
<span id="cb47-17"><a href="#cb47-17" aria-hidden="true" tabindex="-1"></a><span class="ss">    &lt;head&gt;</span></span>
<span id="cb47-18"><a href="#cb47-18" aria-hidden="true" tabindex="-1"></a><span class="ss">        &lt;meta charset=&quot;UTF-8&quot;&gt;</span></span>
<span id="cb47-19"><a href="#cb47-19" aria-hidden="true" tabindex="-1"></a><span class="ss">        &lt;title&gt;Documento com Emojis&lt;/title&gt;</span></span>
<span id="cb47-20"><a href="#cb47-20" aria-hidden="true" tabindex="-1"></a><span class="ss">        &lt;style&gt;</span></span>
<span id="cb47-21"><a href="#cb47-21" aria-hidden="true" tabindex="-1"></a><span class="ss">            body </span><span class="ch">{{</span></span>
<span id="cb47-22"><a href="#cb47-22" aria-hidden="true" tabindex="-1"></a><span class="ss">                font-family: &quot;Noto Sans&quot;, &quot;Segoe UI Emoji&quot;, sans-serif;</span></span>
<span id="cb47-23"><a href="#cb47-23" aria-hidden="true" tabindex="-1"></a><span class="ss">                line-height: 1.6;</span></span>
<span id="cb47-24"><a href="#cb47-24" aria-hidden="true" tabindex="-1"></a><span class="ss">                color: #333;</span></span>
<span id="cb47-25"><a href="#cb47-25" aria-hidden="true" tabindex="-1"></a><span class="ss">                max-width: 800px;</span></span>
<span id="cb47-26"><a href="#cb47-26" aria-hidden="true" tabindex="-1"></a><span class="ss">                margin: 0 auto;</span></span>
<span id="cb47-27"><a href="#cb47-27" aria-hidden="true" tabindex="-1"></a><span class="ss">                padding: 40px 20px;</span></span>
<span id="cb47-28"><a href="#cb47-28" aria-hidden="true" tabindex="-1"></a><span class="ss">            </span><span class="ch">}}</span></span>
<span id="cb47-29"><a href="#cb47-29" aria-hidden="true" tabindex="-1"></a><span class="ss">            h1 </span><span class="ch">{{</span></span>
<span id="cb47-30"><a href="#cb47-30" aria-hidden="true" tabindex="-1"></a><span class="ss">                color: #0052d4;</span></span>
<span id="cb47-31"><a href="#cb47-31" aria-hidden="true" tabindex="-1"></a><span class="ss">                border-bottom: 3px solid #0052d4;</span></span>
<span id="cb47-32"><a href="#cb47-32" aria-hidden="true" tabindex="-1"></a><span class="ss">            </span><span class="ch">}}</span></span>
<span id="cb47-33"><a href="#cb47-33" aria-hidden="true" tabindex="-1"></a><span class="ss">            table </span><span class="ch">{{</span></span>
<span id="cb47-34"><a href="#cb47-34" aria-hidden="true" tabindex="-1"></a><span class="ss">                border-collapse: collapse;</span></span>
<span id="cb47-35"><a href="#cb47-35" aria-hidden="true" tabindex="-1"></a><span class="ss">                width: 100%;</span></span>
<span id="cb47-36"><a href="#cb47-36" aria-hidden="true" tabindex="-1"></a><span class="ss">                margin: 20px 0;</span></span>
<span id="cb47-37"><a href="#cb47-37" aria-hidden="true" tabindex="-1"></a><span class="ss">            </span><span class="ch">}}</span></span>
<span id="cb47-38"><a href="#cb47-38" aria-hidden="true" tabindex="-1"></a><span class="ss">            th, td </span><span class="ch">{{</span></span>
<span id="cb47-39"><a href="#cb47-39" aria-hidden="true" tabindex="-1"></a><span class="ss">                border: 1px solid #ddd;</span></span>
<span id="cb47-40"><a href="#cb47-40" aria-hidden="true" tabindex="-1"></a><span class="ss">                padding: 12px;</span></span>
<span id="cb47-41"><a href="#cb47-41" aria-hidden="true" tabindex="-1"></a><span class="ss">            </span><span class="ch">}}</span></span>
<span id="cb47-42"><a href="#cb47-42" aria-hidden="true" tabindex="-1"></a><span class="ss">        &lt;/style&gt;</span></span>
<span id="cb47-43"><a href="#cb47-43" aria-hidden="true" tabindex="-1"></a><span class="ss">    &lt;/head&gt;</span></span>
<span id="cb47-44"><a href="#cb47-44" aria-hidden="true" tabindex="-1"></a><span class="ss">    &lt;body&gt;</span><span class="sc">{</span>html_content<span class="sc">}</span><span class="ss">&lt;/body&gt;</span></span>
<span id="cb47-45"><a href="#cb47-45" aria-hidden="true" tabindex="-1"></a><span class="ss">    &lt;/html&gt;</span></span>
<span id="cb47-46"><a href="#cb47-46" aria-hidden="true" tabindex="-1"></a><span class="ss">    &quot;&quot;&quot;</span></span>
<span id="cb47-47"><a href="#cb47-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-48"><a href="#cb47-48" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Converter para PDF</span></span>
<span id="cb47-49"><a href="#cb47-49" aria-hidden="true" tabindex="-1"></a>    HTML(string<span class="op">=</span>full_html).write_pdf(pdf_file)</span>
<span id="cb47-50"><a href="#cb47-50" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f&quot;‚úÖ PDF gerado: </span><span class="sc">{</span>pdf_file<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb47-51"><a href="#cb47-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-52"><a href="#cb47-52" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">&quot;__main__&quot;</span>:</span>
<span id="cb47-53"><a href="#cb47-53" aria-hidden="true" tabindex="-1"></a>    convert_markdown_to_pdf(<span class="st">&quot;teste_emojis.md&quot;</span>, <span class="st">&quot;teste_emojis_weasy.pdf&quot;</span>)</span></code></pre></div></li>
<li><p><strong>Executar</strong>:</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="ex">python</span> converter_weasy.py</span></code></pre></div></li>
</ol>
<p><strong>Vantagens</strong>: - Mais leve que Selenium, sem necessidade
de navegador. - Excelente suporte a CSS moderno e emojis Unicode. -
Totalmente open-source e f√°cil de integrar em scripts Python. -
Resultados consistentes em diferentes plataformas.</p>
<p><strong>Desvantagens</strong>: - Instala√ß√£o no MSYS2/Windows pode
requerer bibliotecas adicionais (GTK3). - Menos flex√≠vel que o Pandoc
para op√ß√µes de formata√ß√£o LaTeX. - Emojis coloridos podem n√£o ser
suportados em todos os casos.</p>
<p><strong>Compara√ß√£o com o script</strong>: -
<strong>Simplicidade</strong>: Mais simples que Selenium, mas menos que
Pandoc (devido √†s depend√™ncias GTK3). - <strong>Desempenho</strong>:
Muito mais r√°pido que Selenium, similar ao Pandoc. -
<strong>Flexibilidade</strong>: Melhor suporte a CSS que o Pandoc, mas
menos op√ß√µes de formata√ß√£o espec√≠ficas para PDF.</p>
<h4 data-number="1.2.19.3" id="wkhtmltopdf"><span class="header-section-number">1.2.19.3</span> 3.
<strong>wkhtmltopdf</strong></h4>
<p>O <code>wkhtmltopdf</code> √© uma ferramenta open-source que converte
HTML para PDF usando o WebKit. √â uma alternativa leve ao Selenium, mas
mais pesada que o WeasyPrint.</p>
<p><strong>Passos</strong>: 1. <strong>Instalar wkhtmltopdf</strong>: No
MSYS2, instale:
<code>bash    pacman -S mingw-w64-x86_64-wkhtmltopdf</code> Ou baixe o
bin√°rio do <a href="https://wkhtmltopdf.org/downloads.html">site
oficial</a>.</p>
<ol start="2" type="1">
<li><p><strong>Script Python</strong>:</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/usr/bin/env python3</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> markdown</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> subprocess</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> convert_markdown_to_pdf(md_file, pdf_file):</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Ler Markdown</span></span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> <span class="bu">open</span>(md_file, <span class="st">&#39;r&#39;</span>, encoding<span class="op">=</span><span class="st">&#39;utf-8&#39;</span>) <span class="im">as</span> f:</span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>        markdown_content <span class="op">=</span> f.read()</span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Converter para HTML</span></span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a>    html_content <span class="op">=</span> markdown.markdown(markdown_content, extensions<span class="op">=</span>[<span class="st">&#39;extra&#39;</span>, <span class="st">&#39;tables&#39;</span>])</span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># HTML com estilos</span></span>
<span id="cb49-15"><a href="#cb49-15" aria-hidden="true" tabindex="-1"></a>    full_html <span class="op">=</span> <span class="ss">f&quot;&quot;&quot;</span></span>
<span id="cb49-16"><a href="#cb49-16" aria-hidden="true" tabindex="-1"></a><span class="ss">    &lt;!DOCTYPE html&gt;</span></span>
<span id="cb49-17"><a href="#cb49-17" aria-hidden="true" tabindex="-1"></a><span class="ss">    &lt;html&gt;</span></span>
<span id="cb49-18"><a href="#cb49-18" aria-hidden="true" tabindex="-1"></a><span class="ss">    &lt;head&gt;</span></span>
<span id="cb49-19"><a href="#cb49-19" aria-hidden="true" tabindex="-1"></a><span class="ss">        &lt;meta charset=&quot;UTF-8&quot;&gt;</span></span>
<span id="cb49-20"><a href="#cb49-20" aria-hidden="true" tabindex="-1"></a><span class="ss">        &lt;title&gt;Documento com Emojis&lt;/title&gt;</span></span>
<span id="cb49-21"><a href="#cb49-21" aria-hidden="true" tabindex="-1"></a><span class="ss">        &lt;style&gt;</span></span>
<span id="cb49-22"><a href="#cb49-22" aria-hidden="true" tabindex="-1"></a><span class="ss">            body </span><span class="ch">{{</span><span class="ss"> font-family: &quot;Noto Sans&quot;, &quot;Segoe UI Emoji&quot;, sans-serif; </span><span class="ch">}}</span></span>
<span id="cb49-23"><a href="#cb49-23" aria-hidden="true" tabindex="-1"></a><span class="ss">            h1 </span><span class="ch">{{</span><span class="ss"> color: #0052d4; </span><span class="ch">}}</span></span>
<span id="cb49-24"><a href="#cb49-24" aria-hidden="true" tabindex="-1"></a><span class="ss">            table </span><span class="ch">{{</span><span class="ss"> border-collapse: collapse; width: 100%; </span><span class="ch">}}</span></span>
<span id="cb49-25"><a href="#cb49-25" aria-hidden="true" tabindex="-1"></a><span class="ss">            th, td </span><span class="ch">{{</span><span class="ss"> border: 1px solid #ddd; padding: 12px; </span><span class="ch">}}</span></span>
<span id="cb49-26"><a href="#cb49-26" aria-hidden="true" tabindex="-1"></a><span class="ss">        &lt;/style&gt;</span></span>
<span id="cb49-27"><a href="#cb49-27" aria-hidden="true" tabindex="-1"></a><span class="ss">    &lt;/head&gt;</span></span>
<span id="cb49-28"><a href="#cb49-28" aria-hidden="true" tabindex="-1"></a><span class="ss">    &lt;body&gt;</span><span class="sc">{</span>html_content<span class="sc">}</span><span class="ss">&lt;/body&gt;</span></span>
<span id="cb49-29"><a href="#cb49-29" aria-hidden="true" tabindex="-1"></a><span class="ss">    &lt;/html&gt;</span></span>
<span id="cb49-30"><a href="#cb49-30" aria-hidden="true" tabindex="-1"></a><span class="ss">    &quot;&quot;&quot;</span></span>
<span id="cb49-31"><a href="#cb49-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-32"><a href="#cb49-32" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Salvar HTML tempor√°rio</span></span>
<span id="cb49-33"><a href="#cb49-33" aria-hidden="true" tabindex="-1"></a>    temp_html <span class="op">=</span> <span class="st">&quot;temp.html&quot;</span></span>
<span id="cb49-34"><a href="#cb49-34" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> <span class="bu">open</span>(temp_html, <span class="st">&#39;w&#39;</span>, encoding<span class="op">=</span><span class="st">&#39;utf-8&#39;</span>) <span class="im">as</span> f:</span>
<span id="cb49-35"><a href="#cb49-35" aria-hidden="true" tabindex="-1"></a>        f.write(full_html)</span>
<span id="cb49-36"><a href="#cb49-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-37"><a href="#cb49-37" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Converter para PDF</span></span>
<span id="cb49-38"><a href="#cb49-38" aria-hidden="true" tabindex="-1"></a>    subprocess.run([<span class="st">&quot;wkhtmltopdf&quot;</span>, temp_html, pdf_file])</span>
<span id="cb49-39"><a href="#cb49-39" aria-hidden="true" tabindex="-1"></a>    os.remove(temp_html)</span>
<span id="cb49-40"><a href="#cb49-40" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f&quot;‚úÖ PDF gerado: </span><span class="sc">{</span>pdf_file<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb49-41"><a href="#cb49-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-42"><a href="#cb49-42" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">&quot;__main__&quot;</span>:</span>
<span id="cb49-43"><a href="#cb49-43" aria-hidden="true" tabindex="-1"></a>    convert_markdown_to_pdf(<span class="st">&quot;teste_emojis.md&quot;</span>, <span class="st">&quot;teste_emojis_wkhtml.pdf&quot;</span>)</span></code></pre></div></li>
<li><p><strong>Executar</strong>:</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="ex">python</span> converter_wkhtml.py</span></code></pre></div></li>
</ol>
<p><strong>Vantagens</strong>: - R√°pido e leve comparado ao Selenium. -
Suporta CSS e emojis Unicode. - F√°cil de instalar no MSYS2.</p>
<p><strong>Desvantagens</strong>: - Menos mantido que o WeasyPrint ou
Pandoc. - Suporte a emojis coloridos pode ser inconsistente. - Requer
arquivo HTML tempor√°rio.</p>
<p><strong>Compara√ß√£o com o script</strong>: -
<strong>Simplicidade</strong>: Mais simples que Selenium, mas semelhante
ao WeasyPrint. - <strong>Desempenho</strong>: Mais r√°pido que Selenium,
mas similar ao WeasyPrint. - <strong>Manuten√ß√£o</strong>: Menos
atualizado que Pandoc ou WeasyPrint.</p>
<hr />
<h3 data-number="1.2.20" id="recomenda√ß√£o"><span class="header-section-number">1.2.20</span> Recomenda√ß√£o</h3>
<p>A solu√ß√£o mais simples e robusta para converter
<code>teste_emojis.md</code> para PDF com suporte a emojis e portugu√™s
de Portugal √© <strong>Pandoc com XeLaTeX ou LuaLaTeX</strong>. Motivos:
- <strong>Leveza</strong>: N√£o depende de navegadores ou drivers pesados
como o Selenium. - <strong>Flexibilidade</strong>: Suporta Markdown
nativamente, com extens√µes para tabelas e emojis. -
<strong>Manuten√ß√£o</strong>: Ativamente mantido e amplamente usado. -
<strong>Configura√ß√£o no MSYS2</strong>: F√°cil de configurar com pacotes
dispon√≠veis. - <strong>Qualidade</strong>: Gera PDFs consistentes com
suporte a hifeniza√ß√£o em portugu√™s (<code>pt-PT</code>) e emojis.</p>
<p><strong>Comando recomendado</strong>:</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pandoc</span> teste_emojis.md <span class="at">-o</span> teste_emojis.pdf <span class="at">--pdf-engine</span><span class="op">=</span>xelatex <span class="at">-V</span> mainfont=<span class="st">&quot;Noto Sans&quot;</span> <span class="at">-V</span> lang=pt-PT</span></code></pre></div>
<p>Para emojis coloridos:</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pandoc</span> teste_emojis.md <span class="at">-o</span> teste_emojis.pdf <span class="at">--pdf-engine</span><span class="op">=</span>lualatex <span class="at">-V</span> mainfont=<span class="st">&quot;Noto Color Emoji&quot;</span> <span class="at">-V</span> lang=pt-PT</span></code></pre></div>
<p>Se preferir uma solu√ß√£o baseada em Python com estiliza√ß√£o avan√ßada, o
<strong>WeasyPrint</strong> √© uma boa alternativa ao seu script, pois √©
mais leve que o Selenium e suporta CSS moderno.</p>
<p><strong>Pr√≥ximos passos</strong>: - Teste o comando Pandoc acima no
MSYS2 com <code>teste_emojis.md</code>. - Se precisar de estiliza√ß√£o
espec√≠fica (como no seu CSS), crie um arquivo <code>estilos.css</code> e
use com <code>--css=estilos.css</code> no Pandoc. - Se preferir
continuar com Python, experimente o script WeasyPrint para comparar o
resultado.</p>
<p>Se houver problemas ou voc√™ quiser ajuda para configurar uma dessas
alternativas, me avise com os detalhes (ex.: erro espec√≠fico,
prefer√™ncia por emojis coloridos)! üòä</p>
<hr />
<h3 data-number="1.2.21" id="utilizador-2025-10-28-210223-grok"><span class="header-section-number">1.2.21</span> üë§ Utilizador
<em>(2025-10-28 21:02:23)</em> <em>[Grok]</em></h3>
<p><a href="mailto:mpmen@MM04" class="email">mpmen@MM04</a> MINGW64
/d/Downloads/<em>DOCS</em>/<em>DOCS</em>/Teste_emojis_msys2 # python
converter_wkhtml.py Traceback (most recent call last): File
‚ÄúD:/Downloads/<em>DOCS</em>/<em>DOCS</em>/Teste_emojis_msys2/converter_wkhtml.py‚Äù,
line 43, in <module> convert_markdown_to_pdf(‚Äúteste_emojis.md‚Äù,
‚Äúteste_emojis_wkhtml.pdf‚Äù) File
‚ÄúD:/Downloads/<em>DOCS</em>/<em>DOCS</em>/Teste_emojis_msys2/converter_wkhtml.py‚Äù,
line 38, in convert_mark down_to_pdf subprocess.run([‚Äúwkhtmltopdf‚Äù,
temp_html, pdf_file]) File
‚ÄúC:/msys64/mingw64/lib/python3.12/subprocess.py‚Äù, line 548, in run with
Popen(*popenargs, **kwargs) as process: <sup></sup>^ File
‚ÄúC:/msys64/mingw64/lib/python3.12/subprocess.py‚Äù, line 1026, in
<strong>init</strong> self._execute_child(args, executable, preexec_fn,
close_fds, File ‚ÄúC:/msys64/mingw64/lib/python3.12/subprocess.py‚Äù, line
1538, in _execute_child hp, ht, pid, tid =
_winapi.CreateProcess(executable, args, <sup></sup>^ FileNotFoundError:
[WinError 2] The system cannot find the file specified</p>
<hr />
<h3 data-number="1.2.22" id="grok-2025-10-28-210307-grok"><span class="header-section-number">1.2.22</span> ü§ñ Grok <em>(2025-10-28
21:03:07)</em> <em>[Grok]</em></h3>
<p>O erro que voc√™ est√° enfrentando ao executar o script
<code>converter_wkhtml.py</code> indica que o comando
<code>wkhtmltopdf</code> n√£o foi encontrado pelo sistema
(<code>FileNotFoundError: [WinError 2] The system cannot find the file specified</code>).
Isso geralmente significa que o <code>wkhtmltopdf</code> n√£o est√°
instalado ou n√£o est√° acess√≠vel no PATH do MSYS2. Vou gui√°-lo para
corrigir esse problema e garantir que o script funcione corretamente
para converter o arquivo <code>teste_emojis.md</code> em PDF com suporte
a emojis no ambiente MSYS2, mantendo o foco no portugu√™s de
Portugal.</p>
<hr />
<h3 data-number="1.2.23" id="diagn√≥stico-do-erro"><span class="header-section-number">1.2.23</span> Diagn√≥stico do Erro</h3>
<p>O erro ocorre na linha onde o script tenta executar:</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>subprocess.run([<span class="st">&quot;wkhtmltopdf&quot;</span>, temp_html, pdf_file])</span></code></pre></div>
<p>O Python n√£o consegue encontrar o execut√°vel <code>wkhtmltopdf</code>
porque: 1. <strong>wkhtmltopdf n√£o est√° instalado</strong> no MSYS2. 2.
<strong>wkhtmltopdf est√° instalado</strong>, mas n√£o est√° no PATH do
sistema. 3. <strong>Conflito de ambiente</strong>: O MSYS2 pode n√£o
estar configurado corretamente para localizar o bin√°rio.</p>
<hr />
<h3 data-number="1.2.24" id="solu√ß√£o-instalar-e-configurar-wkhtmltopdf-no-msys2"><span class="header-section-number">1.2.24</span> Solu√ß√£o: Instalar e
Configurar wkhtmltopdf no MSYS2</h3>
<h4 data-number="1.2.24.1" id="verificar-se-wkhtmltopdf-est√°-instalado"><span class="header-section-number">1.2.24.1</span> 1. <strong>Verificar se
wkhtmltopdf est√° instalado</strong></h4>
<p>No terminal MSYS2 (MINGW64), execute:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="ex">wkhtmltopdf</span> <span class="at">--version</span></span></code></pre></div>
<ul>
<li><strong>Se aparecer a vers√£o</strong> (ex.:
<code>wkhtmltopdf 0.12.6</code>), o programa est√° instalado, mas pode
n√£o estar no PATH.</li>
<li><strong>Se der erro</strong> (como ‚Äúcommand not found‚Äù), o
wkhtmltopdf n√£o est√° instalado.</li>
</ul>
<h4 data-number="1.2.24.2" id="instalar-wkhtmltopdf"><span class="header-section-number">1.2.24.2</span> 2. <strong>Instalar
wkhtmltopdf</strong></h4>
<p>O pacote <code>wkhtmltopdf</code> pode n√£o estar dispon√≠vel
diretamente nos reposit√≥rios do MSYS2, mas voc√™ pode instal√°-lo
manualmente ou via um bin√°rio pr√©-compilado. Siga os passos abaixo:</p>
<p><strong>Op√ß√£o 1: Instalar via bin√°rio pr√©-compilado</strong> 1. Baixe
o instalador do wkhtmltopdf para Windows no <a href="https://wkhtmltopdf.org/downloads.html">site oficial</a>. Escolha
a vers√£o para Windows (ex.: <code>wkhtmltox-0.12.6-1.msys2.exe</code> ou
similar). 2. Execute o instalador no Windows (fora do MSYS2) e instale
em um diret√≥rio, como <code>C:\Program Files\wkhtmltopdf</code>. 3.
Adicione o diret√≥rio ao PATH do MSYS2: - Abra o terminal MSYS2
(MINGW64). - Edite o arquivo <code>~/.bashrc</code>:
<code>bash      nano ~/.bashrc</code> - Adicione a linha (ajuste o
caminho conforme o local de instala√ß√£o):
<code>bash      export PATH=&quot;$PATH:/c/Program Files/wkhtmltopdf/bin&quot;</code>
- Salve (Ctrl+O, Enter, Ctrl+X) e recarregue o perfil:
<code>bash      source ~/.bashrc</code> 4. Verifique novamente:
<code>bash    wkhtmltopdf --version</code></p>
<p><strong>Op√ß√£o 2: Instalar via MSYS2 (se dispon√≠vel)</strong> Tente
instalar diretamente pelo pacman (pode n√£o estar dispon√≠vel em todos os
reposit√≥rios):</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-S</span> mingw-w64-x86_64-wkhtmltopdf</span></code></pre></div>
<p>Se o pacote n√£o for encontrado, use a Op√ß√£o 1 ou instale manualmente
o bin√°rio.</p>
<p><strong>Op√ß√£o 3: Baixar bin√°rio manualmente</strong> 1. Baixe o
arquivo ZIP do wkhtmltopdf do <a href="https://github.com/wkhtmltopdf/wkhtmltopdf/releases">reposit√≥rio
GitHub</a>. 2. Extraia para um diret√≥rio, como
<code>C:\wkhtmltopdf</code>. 3. Adicione o diret√≥rio <code>bin</code> ao
PATH, como descrito na Op√ß√£o 1.</p>
<h4 data-number="1.2.24.3" id="testar-o-script-novamente"><span class="header-section-number">1.2.24.3</span> 3. <strong>Testar o Script
Novamente</strong></h4>
<p>Ap√≥s instalar o wkhtmltopdf e adicionar ao PATH, execute o script
novamente:</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="ex">python</span> converter_wkhtml.py</span></code></pre></div>
<ul>
<li>Certifique-se de estar no diret√≥rio correto
(<code>/d/Downloads/_DOCS_/_DOCS_/Teste_emojis_msys2</code>) e que o
arquivo <code>teste_emojis.md</code> existe.</li>
<li>O script deve gerar o arquivo
<code>teste_emojis_wkhtml.pdf</code>.</li>
</ul>
<h4 data-number="1.2.24.4" id="verificar-o-resultado"><span class="header-section-number">1.2.24.4</span> 4. <strong>Verificar o
Resultado</strong></h4>
<p>Abra o arquivo <code>teste_emojis_wkhtml.pdf</code> com um
visualizador de PDF (como Adobe Acrobat ou Edge) e confirme que: - Os
emojis (üåà, üçö, ü•©, etc.) est√£o renderizados corretamente. - O texto em
portugu√™s de Portugal est√° formatado adequadamente. - As tabelas (ex.:
‚ÄúPr√≥s vs Contras‚Äù) est√£o alinhadas.</p>
<hr />
<h3 data-number="1.2.25" id="alternativas-simples-ao-wkhtmltopdf"><span class="header-section-number">1.2.25</span> Alternativas Simples ao
wkhtmltopdf</h3>
<p>Se o wkhtmltopdf continuar problem√°tico ou voc√™ preferir uma solu√ß√£o
mais simples e robusta, recomendo usar o <strong>Pandoc</strong>, que √©
mais leve e nativamente compat√≠vel com Markdown. Como mencionado
anteriormente, o Pandoc √© a melhor op√ß√£o para converter
<code>teste_emojis.md</code> para PDF com emojis. Aqui est√° o comando
novamente:</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pandoc</span> teste_emojis.md <span class="at">-o</span> teste_emojis.pdf <span class="at">--pdf-engine</span><span class="op">=</span>xelatex <span class="at">-V</span> mainfont=<span class="st">&quot;Noto Sans&quot;</span> <span class="at">-V</span> lang=pt-PT</span></code></pre></div>
<p><strong>Por que Pandoc √© mais simples?</strong> - N√£o depende de
navegadores ou drivers (diferente do Selenium ou wkhtmltopdf). - J√°
suporta Markdown, tabelas e emojis nativamente. - Menos depend√™ncias
externas (apenas TeX Live para PDFs). - Mais r√°pido e leve.</p>
<p><strong>Instalar Pandoc e TeX Live no MSYS2</strong>:</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-S</span> mingw-w64-x86_64-texlive-core mingw-w64-x86_64-texlive-fonts-extra</span></code></pre></div>
<p>Se o Pandoc n√£o estiver no reposit√≥rio, instale via instalador MSI e
adicione ao PATH:</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">PATH</span><span class="op">=</span><span class="st">&quot;</span><span class="va">$PATH</span><span class="st">:/c/Users/[seu_usuario]/AppData/Local/Pandoc&quot;</span></span></code></pre></div>
<hr />
<h3 data-number="1.2.26" id="solu√ß√£o-de-problemas-adicionais"><span class="header-section-number">1.2.26</span> Solu√ß√£o de Problemas
Adicionais</h3>
<p>Se o erro persistir ap√≥s instalar o wkhtmltopdf, considere estas
possibilidades: 1. <strong>Caminho incorreto no PATH</strong>: -
Verifique o PATH atual: <code>bash      echo $PATH</code> - Confirme que
o diret√≥rio do wkhtmltopdf (ex.:
<code>/c/Program Files/wkhtmltopdf/bin</code>) est√° inclu√≠do. 2.
<strong>Permiss√µes</strong>: - Execute o MSYS2 como administrador
(clique com o bot√£o direito no √≠cone do MSYS2 e selecione ‚ÄúExecutar como
administrador‚Äù). 3. <strong>Vers√£o do wkhtmltopdf</strong>: - O
wkhtmltopdf 0.12.6 pode ter problemas com emojis modernos. Considere
usar uma vers√£o mais recente ou mudar para Pandoc/WeasyPrint. 4.
<strong>Erro no script</strong>: - Verifique se o arquivo
<code>teste_emojis.md</code> est√° no diret√≥rio correto. - Confirme que
as depend√™ncias Python est√£o instaladas:
<code>bash      pip install markdown</code></p>
<hr />
<h3 data-number="1.2.27" id="script-alternativo-com-pandoc"><span class="header-section-number">1.2.27</span> Script Alternativo com
Pandoc</h3>
<p>Se preferir continuar usando Python, aqui est√° um script simplificado
que usa o Pandoc em vez do wkhtmltopdf, mantendo a estiliza√ß√£o e suporte
a emojis:</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/usr/bin/env python3</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> subprocess</span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> convert_markdown_to_pdf(md_file, pdf_file):</span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f&quot;üîÑ Convertendo </span><span class="sc">{</span>md_file<span class="sc">}</span><span class="ss"> para PDF com Pandoc...&quot;</span>)</span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb60-8"><a href="#cb60-8" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Comando Pandoc com suporte a emojis e portugu√™s de Portugal</span></span>
<span id="cb60-9"><a href="#cb60-9" aria-hidden="true" tabindex="-1"></a>        cmd <span class="op">=</span> [</span>
<span id="cb60-10"><a href="#cb60-10" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;pandoc&quot;</span>,</span>
<span id="cb60-11"><a href="#cb60-11" aria-hidden="true" tabindex="-1"></a>            md_file,</span>
<span id="cb60-12"><a href="#cb60-12" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;-o&quot;</span>, pdf_file,</span>
<span id="cb60-13"><a href="#cb60-13" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;--pdf-engine=xelatex&quot;</span>,</span>
<span id="cb60-14"><a href="#cb60-14" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;-V&quot;</span>, <span class="st">&quot;mainfont=Noto Sans&quot;</span>,</span>
<span id="cb60-15"><a href="#cb60-15" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;-V&quot;</span>, <span class="st">&quot;lang=pt-PT&quot;</span></span>
<span id="cb60-16"><a href="#cb60-16" aria-hidden="true" tabindex="-1"></a>        ]</span>
<span id="cb60-17"><a href="#cb60-17" aria-hidden="true" tabindex="-1"></a>        subprocess.run(cmd, check<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb60-18"><a href="#cb60-18" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;‚úÖ PDF gerado: </span><span class="sc">{</span>pdf_file<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb60-19"><a href="#cb60-19" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;üìä Tamanho do arquivo: </span><span class="sc">{</span>os<span class="sc">.</span>path<span class="sc">.</span>getsize(pdf_file)<span class="sc">}</span><span class="ss"> bytes&quot;</span>)</span>
<span id="cb60-20"><a href="#cb60-20" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">True</span></span>
<span id="cb60-21"><a href="#cb60-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">Exception</span> <span class="im">as</span> e:</span>
<span id="cb60-22"><a href="#cb60-22" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;‚ùå Erro durante a convers√£o: </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb60-23"><a href="#cb60-23" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">False</span></span>
<span id="cb60-24"><a href="#cb60-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-25"><a href="#cb60-25" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">&quot;__main__&quot;</span>:</span>
<span id="cb60-26"><a href="#cb60-26" aria-hidden="true" tabindex="-1"></a>    success <span class="op">=</span> convert_markdown_to_pdf(<span class="st">&quot;teste_emojis.md&quot;</span>, <span class="st">&quot;teste_emojis_pandoc.pdf&quot;</span>)</span>
<span id="cb60-27"><a href="#cb60-27" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> success:</span>
<span id="cb60-28"><a href="#cb60-28" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">üéâ Convers√£o conclu√≠da com sucesso!&quot;</span>)</span>
<span id="cb60-29"><a href="#cb60-29" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb60-30"><a href="#cb60-30" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">üí• Falha na convers√£o.&quot;</span>)</span></code></pre></div>
<p><strong>Executar</strong>:</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="ex">python</span> converter_pandoc.py</span></code></pre></div>
<p><strong>Vantagens</strong>: - Mais simples e r√°pido que wkhtmltopdf
ou Selenium. - Suporte nativo a emojis com fontes como Noto Sans. -
Menos depend√™ncias e configura√ß√£o.</p>
<hr />
<h3 data-number="1.2.28" id="conclus√£o"><span class="header-section-number">1.2.28</span> Conclus√£o</h3>
<p>O erro atual √© devido ao <code>wkhtmltopdf</code> n√£o estar instalado
ou acess√≠vel no PATH do MSYS2. A solu√ß√£o mais direta √©: 1. Instalar o
wkhtmltopdf (via instalador Windows ou bin√°rio) e adicionar ao PATH. 2.
Reexecutar o script <code>converter_wkhtml.py</code>.</p>
<p>No entanto, recomendo fortemente mudar para o <strong>Pandoc</strong>
com XeLaTeX, pois √© mais simples, robusto e n√£o depende de ferramentas
pesadas. Use o comando:</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pandoc</span> teste_emojis.md <span class="at">-o</span> teste_emojis.pdf <span class="at">--pdf-engine</span><span class="op">=</span>xelatex <span class="at">-V</span> mainfont=<span class="st">&quot;Noto Sans&quot;</span> <span class="at">-V</span> lang=pt-PT</span></code></pre></div>
<p>Ou o script Python com Pandoc fornecido acima.</p>
<p>Se precisar de ajuda para instalar o wkhtmltopdf, configurar o
Pandoc, ou quiser testar outra alternativa (como WeasyPrint), me avise
com detalhes adicionais (ex.: sa√≠da de erros, prefer√™ncias de
estiliza√ß√£o)! üòä</p>
<hr />
<h3 data-number="1.2.29" id="utilizador-2025-10-28-212437-grok"><span class="header-section-number">1.2.29</span> üë§ Utilizador
<em>(2025-10-28 21:24:37)</em> <em>[Grok]</em></h3>
<p>converter_wkhtml.py produz teste_emojis_wkhtml.pdf mas os emojis n√£o
est√£o correctos, s√£o apenas rectangulos</p>
<hr />
<h3 data-number="1.2.30" id="grok-2025-10-28-212551-grok"><span class="header-section-number">1.2.30</span> ü§ñ Grok <em>(2025-10-28
21:25:51)</em> <em>[Grok]</em></h3>
<p>O problema que voc√™ descreve, onde o arquivo
<code>teste_emojis_wkhtml.pdf</code> gerado pelo script
<code>converter_wkhtml.py</code> mostra emojis como ret√¢ngulos
(conhecidos como ‚Äútofu‚Äù ou <code>‚ñ°</code>), indica que o
<code>wkhtmltopdf</code> n√£o est√° conseguindo renderizar os emojis
corretamente. Isso geralmente ocorre porque a fonte usada no HTML n√£o
suporta emojis Unicode ou porque o <code>wkhtmltopdf</code> (baseado no
WebKit) tem limita√ß√µes com fontes modernas que suportam emojis,
especialmente em vers√µes mais antigas. Vou explicar por que isso
acontece, como corrigir o problema com o <code>wkhtmltopdf</code> e
sugerir alternativas mais confi√°veis, como o Pandoc, para garantir que
os emojis em <code>teste_emojis.md</code> sejam renderizados
corretamente em portugu√™s de Portugal no ambiente MSYS2.</p>
<hr />
<h3 data-number="1.2.31" id="diagn√≥stico-do-problema"><span class="header-section-number">1.2.31</span> Diagn√≥stico do Problema</h3>
<p>O script <code>converter_wkhtml.py</code> faz o seguinte: 1. Converte
o Markdown (<code>teste_emojis.md</code>) para HTML usando a biblioteca
<code>markdown</code>. 2. Aplica um CSS com fontes que suportam emojis
(<code>Noto Sans</code>, <code>Segoe UI Emoji</code>, etc.). 3. Usa o
<code>wkhtmltopdf</code> para renderizar o HTML em PDF.</p>
<p>Os emojis aparecem como ret√¢ngulos no PDF porque: - <strong>Fonte sem
suporte a emojis</strong>: A fonte especificada no CSS
(<code>Noto Sans</code>, <code>Segoe UI Emoji</code>, etc.) pode n√£o
estar sendo usada corretamente pelo <code>wkhtmltopdf</code>, ou o
sistema n√£o tem essas fontes instaladas. - <strong>Limita√ß√µes do
wkhtmltopdf</strong>: O <code>wkhtmltopdf</code> (especialmente vers√µes
antigas, como 0.12.6) usa uma vers√£o desatualizada do WebKit, que pode
n√£o suportar emojis modernos ou fontes Unicode complexas. -
<strong>Configura√ß√£o do ambiente</strong>: No MSYS2/Windows, o acesso a
fontes do sistema pode ser limitado, especialmente em um ambiente
headless.</p>
<hr />
<h3 data-number="1.2.32" id="solu√ß√£o-1-corrigir-o-wkhtmltopdf"><span class="header-section-number">1.2.32</span> Solu√ß√£o 1: Corrigir o
wkhtmltopdf</h3>
<p>Para tentar corrigir os emojis no <code>wkhtmltopdf</code>, siga os
passos abaixo:</p>
<h4 data-number="1.2.32.1" id="verificar-a-vers√£o-do-wkhtmltopdf"><span class="header-section-number">1.2.32.1</span> 1. <strong>Verificar a
Vers√£o do wkhtmltopdf</strong></h4>
<p>Confirme a vers√£o instalada:</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="ex">wkhtmltopdf</span> <span class="at">--version</span></span></code></pre></div>
<ul>
<li><p>Se for uma vers√£o antiga (ex.: 0.12.6), ela pode n√£o suportar
emojis modernos. Baixe a vers√£o mais recente do <a href="https://wkhtmltopdf.org/downloads.html">site oficial</a> ou do <a href="https://github.com/wkhtmltopdf/wkhtmltopdf/releases">GitHub</a>.</p></li>
<li><p>Ap√≥s baixar, extraia o bin√°rio (ex.:
<code>wkhtmltox-0.12.6-1.mingw64.exe</code>) e adicione ao PATH, como
descrito anteriormente:</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">PATH</span><span class="op">=</span><span class="st">&quot;</span><span class="va">$PATH</span><span class="st">:/c/Program Files/wkhtmltopdf/bin&quot;</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a><span class="bu">source</span> ~/.bashrc</span></code></pre></div></li>
</ul>
<h4 data-number="1.2.32.2" id="garantir-fontes-com-suporte-a-emojis"><span class="header-section-number">1.2.32.2</span> 2. <strong>Garantir Fontes
com Suporte a Emojis</strong></h4>
<p>O CSS no script especifica <code>Noto Sans</code> e
<code>Segoe UI Emoji</code>. Confirme que essas fontes est√£o dispon√≠veis
no sistema: - <strong>No Windows</strong>: <code>Segoe UI Emoji</code>
j√° est√° inclu√≠da por padr√£o. - <strong>No MSYS2</strong>: Instale fontes
adicionais, como <code>Noto Sans</code> ou
<code>Noto Color Emoji</code>:
<code>bash   pacman -S mingw-w64-x86_64-noto-fonts</code> Isso instala a
fam√≠lia de fontes Noto, que suporta emojis.</p>
<h4 data-number="1.2.32.3" id="modificar-o-script-para-for√ßar-fontes"><span class="header-section-number">1.2.32.3</span> 3. <strong>Modificar o
Script para For√ßar Fontes</strong></h4>
<p>Atualize o script <code>converter_wkhtml.py</code> para garantir que
o CSS use fontes dispon√≠veis e adicione uma importa√ß√£o expl√≠cita de
fontes via <code>@font-face</code> (caso o <code>wkhtmltopdf</code>
tenha problemas com fontes do sistema). Aqui est√° uma vers√£o ajustada do
trecho relevante:</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="co"># HTML com estilos</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>full_html <span class="op">=</span> <span class="ss">f&quot;&quot;&quot;</span></span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a><span class="ss">&lt;!DOCTYPE html&gt;</span></span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a><span class="ss">&lt;html&gt;</span></span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a><span class="ss">&lt;head&gt;</span></span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a><span class="ss">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span></span>
<span id="cb65-7"><a href="#cb65-7" aria-hidden="true" tabindex="-1"></a><span class="ss">    &lt;title&gt;Documento com Emojis&lt;/title&gt;</span></span>
<span id="cb65-8"><a href="#cb65-8" aria-hidden="true" tabindex="-1"></a><span class="ss">    &lt;style&gt;</span></span>
<span id="cb65-9"><a href="#cb65-9" aria-hidden="true" tabindex="-1"></a><span class="ss">        @font-face </span><span class="ch">{{</span></span>
<span id="cb65-10"><a href="#cb65-10" aria-hidden="true" tabindex="-1"></a><span class="ss">            font-family: &#39;Noto Sans&#39;;</span></span>
<span id="cb65-11"><a href="#cb65-11" aria-hidden="true" tabindex="-1"></a><span class="ss">            src: url(&#39;https://fonts.googleapis.com/css2?family=Noto+Sans&amp;display=swap&#39;);</span></span>
<span id="cb65-12"><a href="#cb65-12" aria-hidden="true" tabindex="-1"></a><span class="ss">        </span><span class="ch">}}</span></span>
<span id="cb65-13"><a href="#cb65-13" aria-hidden="true" tabindex="-1"></a><span class="ss">        @font-face </span><span class="ch">{{</span></span>
<span id="cb65-14"><a href="#cb65-14" aria-hidden="true" tabindex="-1"></a><span class="ss">            font-family: &#39;Segoe UI Emoji&#39;;</span></span>
<span id="cb65-15"><a href="#cb65-15" aria-hidden="true" tabindex="-1"></a><span class="ss">            src: local(&#39;Segoe UI Emoji&#39;);</span></span>
<span id="cb65-16"><a href="#cb65-16" aria-hidden="true" tabindex="-1"></a><span class="ss">        </span><span class="ch">}}</span></span>
<span id="cb65-17"><a href="#cb65-17" aria-hidden="true" tabindex="-1"></a><span class="ss">        body </span><span class="ch">{{</span></span>
<span id="cb65-18"><a href="#cb65-18" aria-hidden="true" tabindex="-1"></a><span class="ss">            font-family: &#39;Segoe UI Emoji&#39;, &#39;Noto Sans&#39;, sans-serif;</span></span>
<span id="cb65-19"><a href="#cb65-19" aria-hidden="true" tabindex="-1"></a><span class="ss">            line-height: 1.6;</span></span>
<span id="cb65-20"><a href="#cb65-20" aria-hidden="true" tabindex="-1"></a><span class="ss">            color: #333;</span></span>
<span id="cb65-21"><a href="#cb65-21" aria-hidden="true" tabindex="-1"></a><span class="ss">            max-width: 800px;</span></span>
<span id="cb65-22"><a href="#cb65-22" aria-hidden="true" tabindex="-1"></a><span class="ss">            margin: 0 auto;</span></span>
<span id="cb65-23"><a href="#cb65-23" aria-hidden="true" tabindex="-1"></a><span class="ss">            padding: 40px 20px;</span></span>
<span id="cb65-24"><a href="#cb65-24" aria-hidden="true" tabindex="-1"></a><span class="ss">        </span><span class="ch">}}</span></span>
<span id="cb65-25"><a href="#cb65-25" aria-hidden="true" tabindex="-1"></a><span class="ss">        h1 </span><span class="ch">{{</span></span>
<span id="cb65-26"><a href="#cb65-26" aria-hidden="true" tabindex="-1"></a><span class="ss">            color: #0052d4;</span></span>
<span id="cb65-27"><a href="#cb65-27" aria-hidden="true" tabindex="-1"></a><span class="ss">            border-bottom: 3px solid #0052d4;</span></span>
<span id="cb65-28"><a href="#cb65-28" aria-hidden="true" tabindex="-1"></a><span class="ss">            padding-bottom: 10px;</span></span>
<span id="cb65-29"><a href="#cb65-29" aria-hidden="true" tabindex="-1"></a><span class="ss">        </span><span class="ch">}}</span></span>
<span id="cb65-30"><a href="#cb65-30" aria-hidden="true" tabindex="-1"></a><span class="ss">        table </span><span class="ch">{{</span></span>
<span id="cb65-31"><a href="#cb65-31" aria-hidden="true" tabindex="-1"></a><span class="ss">            border-collapse: collapse;</span></span>
<span id="cb65-32"><a href="#cb65-32" aria-hidden="true" tabindex="-1"></a><span class="ss">            width: 100%;</span></span>
<span id="cb65-33"><a href="#cb65-33" aria-hidden="true" tabindex="-1"></a><span class="ss">            margin: 20px 0;</span></span>
<span id="cb65-34"><a href="#cb65-34" aria-hidden="true" tabindex="-1"></a><span class="ss">        </span><span class="ch">}}</span></span>
<span id="cb65-35"><a href="#cb65-35" aria-hidden="true" tabindex="-1"></a><span class="ss">        th, td </span><span class="ch">{{</span></span>
<span id="cb65-36"><a href="#cb65-36" aria-hidden="true" tabindex="-1"></a><span class="ss">            border: 1px solid #ddd;</span></span>
<span id="cb65-37"><a href="#cb65-37" aria-hidden="true" tabindex="-1"></a><span class="ss">            padding: 12px;</span></span>
<span id="cb65-38"><a href="#cb65-38" aria-hidden="true" tabindex="-1"></a><span class="ss">            text-align: left;</span></span>
<span id="cb65-39"><a href="#cb65-39" aria-hidden="true" tabindex="-1"></a><span class="ss">        </span><span class="ch">}}</span></span>
<span id="cb65-40"><a href="#cb65-40" aria-hidden="true" tabindex="-1"></a><span class="ss">        .emoji-grid </span><span class="ch">{{</span></span>
<span id="cb65-41"><a href="#cb65-41" aria-hidden="true" tabindex="-1"></a><span class="ss">            font-size: 1.5em;</span></span>
<span id="cb65-42"><a href="#cb65-42" aria-hidden="true" tabindex="-1"></a><span class="ss">        </span><span class="ch">}}</span></span>
<span id="cb65-43"><a href="#cb65-43" aria-hidden="true" tabindex="-1"></a><span class="ss">    &lt;/style&gt;</span></span>
<span id="cb65-44"><a href="#cb65-44" aria-hidden="true" tabindex="-1"></a><span class="ss">&lt;/head&gt;</span></span>
<span id="cb65-45"><a href="#cb65-45" aria-hidden="true" tabindex="-1"></a><span class="ss">&lt;body&gt;</span><span class="sc">{</span>html_content<span class="sc">}</span><span class="ss">&lt;/body&gt;</span></span>
<span id="cb65-46"><a href="#cb65-46" aria-hidden="true" tabindex="-1"></a><span class="ss">&lt;/html&gt;</span></span>
<span id="cb65-47"><a href="#cb65-47" aria-hidden="true" tabindex="-1"></a><span class="ss">&quot;&quot;&quot;</span></span></code></pre></div>
<p><strong>Mudan√ßas</strong>: - Adiciona <code>@font-face</code> para
carregar <code>Noto Sans</code> via Google Fonts ou
<code>Segoe UI Emoji</code> localmente. - Prioriza
<code>Segoe UI Emoji</code> na lista de fontes, j√° que est√° dispon√≠vel
no Windows.</p>
<h4 data-number="1.2.32.4" id="executar-o-script"><span class="header-section-number">1.2.32.4</span> 4. <strong>Executar o
Script</strong></h4>
<p>Salve as altera√ß√µes no script e execute novamente:</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="ex">python</span> converter_wkhtml.py</span></code></pre></div>
<p>Verifique o arquivo <code>teste_emojis_wkhtml.pdf</code> para
confirmar se os emojis (ex.: üåà, üçö, üòä) aparecem corretamente.</p>
<h4 data-number="1.2.32.5" id="testar-configura√ß√µes-adicionais-do-wkhtmltopdf"><span class="header-section-number">1.2.32.5</span> 5. <strong>Testar
Configura√ß√µes Adicionais do wkhtmltopdf</strong></h4>
<p>Se os emojis ainda aparecerem como ret√¢ngulos, passe op√ß√µes
adicionais ao <code>wkhtmltopdf</code> para for√ßar o uso de fontes do
sistema:</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>subprocess.run([</span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;wkhtmltopdf&quot;</span>,</span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;--enable-local-file-access&quot;</span>,</span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;--dpi&quot;</span>, <span class="st">&quot;300&quot;</span>,</span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;--encoding&quot;</span>, <span class="st">&quot;UTF-8&quot;</span>,</span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a>    temp_html,</span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a>    pdf_file</span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a>])</span></code></pre></div>
<ul>
<li><code>--enable-local-file-access</code>: Permite acesso a fontes
locais.</li>
<li><code>--dpi 300</code>: Aumenta a resolu√ß√£o para melhor
renderiza√ß√£o.</li>
<li><code>--encoding UTF-8</code>: Garante suporte a Unicode.</li>
</ul>
<h4 data-number="1.2.32.6" id="limita√ß√µes-do-wkhtmltopdf"><span class="header-section-number">1.2.32.6</span> 6. <strong>Limita√ß√µes do
wkhtmltopdf</strong></h4>
<p>O <code>wkhtmltopdf</code> pode n√£o suportar emojis coloridos ou
certos emojis modernos devido √† sua engine WebKit desatualizada. Se os
emojis continuarem aparecendo como ret√¢ngulos, considere que o
<code>wkhtmltopdf</code> √© menos confi√°vel para emojis complexos
comparado a alternativas como Pandoc ou WeasyPrint.</p>
<hr />
<h3 data-number="1.2.33" id="solu√ß√£o-2-usar-pandoc-recomendado"><span class="header-section-number">1.2.33</span> Solu√ß√£o 2: Usar Pandoc
(Recomendado)</h3>
<p>Como o <code>wkhtmltopdf</code> est√° apresentando problemas com
emojis, recomendo novamente o <strong>Pandoc com XeLaTeX ou
LuaLaTeX</strong>, que √© mais robusto para renderizar emojis Unicode e
suporta portugu√™s de Portugal nativamente. Aqui est√° o procedimento:</p>
<h4 data-number="1.2.33.1" id="instalar-depend√™ncias"><span class="header-section-number">1.2.33.1</span> 1. <strong>Instalar
Depend√™ncias</strong></h4>
<p>Certifique-se de que o Pandoc e o TeX Live est√£o instalados no
MSYS2:</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-S</span> mingw-w64-x86_64-texlive-core mingw-w64-x86_64-texlive-fonts-extra mingw-w64-x86_64-texlive-lang-portuguese</span></code></pre></div>
<p>Se o Pandoc n√£o estiver no reposit√≥rio, instale-o via instalador MSI
do <a href="https://pandoc.org/installing.html">site oficial</a> e
adicione ao PATH:</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">PATH</span><span class="op">=</span><span class="st">&quot;</span><span class="va">$PATH</span><span class="st">:/c/Users/[seu_usuario]/AppData/Local/Pandoc&quot;</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a><span class="bu">source</span> ~/.bashrc</span></code></pre></div>
<h4 data-number="1.2.33.2" id="converter-com-pandoc"><span class="header-section-number">1.2.33.2</span> 2. <strong>Converter com
Pandoc</strong></h4>
<p>Use este comando para converter <code>teste_emojis.md</code>:</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pandoc</span> teste_emojis.md <span class="at">-o</span> teste_emojis.pdf <span class="at">--pdf-engine</span><span class="op">=</span>xelatex <span class="at">-V</span> mainfont=<span class="st">&quot;Noto Sans&quot;</span> <span class="at">-V</span> lang=pt-PT</span></code></pre></div>
<ul>
<li><p>Para emojis coloridos (se suportado pelo visualizador de
PDF):</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pandoc</span> teste_emojis.md <span class="at">-o</span> teste_emojis.pdf <span class="at">--pdf-engine</span><span class="op">=</span>lualatex <span class="at">-V</span> mainfont=<span class="st">&quot;Noto Color Emoji&quot;</span> <span class="at">-V</span> lang=pt-PT</span></code></pre></div></li>
</ul>
<h4 data-number="1.2.33.3" id="adicionar-estiliza√ß√£o"><span class="header-section-number">1.2.33.3</span> 3. <strong>Adicionar
Estiliza√ß√£o</strong></h4>
<p>Para replicar o estilo do seu script, crie um arquivo
<code>estilos.css</code>:</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>body {</span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">font-family</span><span class="ch">:</span> <span class="st">&quot;Noto Sans&quot;</span><span class="op">,</span> <span class="st">&quot;Segoe UI Emoji&quot;</span><span class="op">,</span> <span class="dv">sans-serif</span><span class="op">;</span></span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">line-height</span><span class="ch">:</span> <span class="dv">1.6</span><span class="op">;</span></span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">color</span><span class="ch">:</span> <span class="cn">#333</span><span class="op">;</span></span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">max-width</span><span class="ch">:</span> <span class="dv">800</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span> <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb72-7"><a href="#cb72-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">padding</span><span class="ch">:</span> <span class="dv">40</span><span class="dt">px</span> <span class="dv">20</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb72-8"><a href="#cb72-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb72-9"><a href="#cb72-9" aria-hidden="true" tabindex="-1"></a>h1 {</span>
<span id="cb72-10"><a href="#cb72-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">color</span><span class="ch">:</span> <span class="cn">#0052d4</span><span class="op">;</span></span>
<span id="cb72-11"><a href="#cb72-11" aria-hidden="true" tabindex="-1"></a>    <span class="kw">border-bottom</span><span class="ch">:</span> <span class="dv">3</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#0052d4</span><span class="op">;</span></span>
<span id="cb72-12"><a href="#cb72-12" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb72-13"><a href="#cb72-13" aria-hidden="true" tabindex="-1"></a>table {</span>
<span id="cb72-14"><a href="#cb72-14" aria-hidden="true" tabindex="-1"></a>    <span class="kw">border-collapse</span><span class="ch">:</span> <span class="dv">collapse</span><span class="op">;</span></span>
<span id="cb72-15"><a href="#cb72-15" aria-hidden="true" tabindex="-1"></a>    <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb72-16"><a href="#cb72-16" aria-hidden="true" tabindex="-1"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">20</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb72-17"><a href="#cb72-17" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb72-18"><a href="#cb72-18" aria-hidden="true" tabindex="-1"></a>th<span class="op">,</span> td {</span>
<span id="cb72-19"><a href="#cb72-19" aria-hidden="true" tabindex="-1"></a>    <span class="kw">border</span><span class="ch">:</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#ddd</span><span class="op">;</span></span>
<span id="cb72-20"><a href="#cb72-20" aria-hidden="true" tabindex="-1"></a>    <span class="kw">padding</span><span class="ch">:</span> <span class="dv">12</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb72-21"><a href="#cb72-21" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Use com:</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pandoc</span> teste_emojis.md <span class="at">-o</span> teste_emojis.pdf <span class="at">--pdf-engine</span><span class="op">=</span>xelatex <span class="at">-V</span> mainfont=<span class="st">&quot;Noto Sans&quot;</span> <span class="at">-V</span> lang=pt-PT <span class="at">--css</span><span class="op">=</span>estilos.css</span></code></pre></div>
<h4 data-number="1.2.33.4" id="script-python-com-pandoc"><span class="header-section-number">1.2.33.4</span> 4. <strong>Script Python
com Pandoc</strong></h4>
<p>Se preferir usar Python, aqui est√° uma vers√£o atualizada do script
usando Pandoc:</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/usr/bin/env python3</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> subprocess</span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> convert_markdown_to_pdf(md_file, pdf_file):</span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f&quot;üîÑ Convertendo </span><span class="sc">{</span>md_file<span class="sc">}</span><span class="ss"> para PDF com Pandoc...&quot;</span>)</span>
<span id="cb74-7"><a href="#cb74-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb74-8"><a href="#cb74-8" aria-hidden="true" tabindex="-1"></a>        cmd <span class="op">=</span> [</span>
<span id="cb74-9"><a href="#cb74-9" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;pandoc&quot;</span>,</span>
<span id="cb74-10"><a href="#cb74-10" aria-hidden="true" tabindex="-1"></a>            md_file,</span>
<span id="cb74-11"><a href="#cb74-11" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;-o&quot;</span>, pdf_file,</span>
<span id="cb74-12"><a href="#cb74-12" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;--pdf-engine=xelatex&quot;</span>,</span>
<span id="cb74-13"><a href="#cb74-13" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;-V&quot;</span>, <span class="st">&quot;mainfont=Noto Sans&quot;</span>,</span>
<span id="cb74-14"><a href="#cb74-14" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;-V&quot;</span>, <span class="st">&quot;lang=pt-PT&quot;</span>,</span>
<span id="cb74-15"><a href="#cb74-15" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;--css=estilos.css&quot;</span></span>
<span id="cb74-16"><a href="#cb74-16" aria-hidden="true" tabindex="-1"></a>        ]</span>
<span id="cb74-17"><a href="#cb74-17" aria-hidden="true" tabindex="-1"></a>        subprocess.run(cmd, check<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb74-18"><a href="#cb74-18" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;‚úÖ PDF gerado: </span><span class="sc">{</span>pdf_file<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb74-19"><a href="#cb74-19" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;üìä Tamanho do arquivo: </span><span class="sc">{</span>os<span class="sc">.</span>path<span class="sc">.</span>getsize(pdf_file)<span class="sc">}</span><span class="ss"> bytes&quot;</span>)</span>
<span id="cb74-20"><a href="#cb74-20" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">True</span></span>
<span id="cb74-21"><a href="#cb74-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">Exception</span> <span class="im">as</span> e:</span>
<span id="cb74-22"><a href="#cb74-22" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;‚ùå Erro durante a convers√£o: </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb74-23"><a href="#cb74-23" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">False</span></span>
<span id="cb74-24"><a href="#cb74-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-25"><a href="#cb74-25" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">&quot;__main__&quot;</span>:</span>
<span id="cb74-26"><a href="#cb74-26" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Criar estilos.css</span></span>
<span id="cb74-27"><a href="#cb74-27" aria-hidden="true" tabindex="-1"></a>    css_content <span class="op">=</span> <span class="st">&quot;&quot;&quot;</span></span>
<span id="cb74-28"><a href="#cb74-28" aria-hidden="true" tabindex="-1"></a><span class="st">    body {</span></span>
<span id="cb74-29"><a href="#cb74-29" aria-hidden="true" tabindex="-1"></a><span class="st">        font-family: &quot;Noto Sans&quot;, &quot;Segoe UI Emoji&quot;, sans-serif;</span></span>
<span id="cb74-30"><a href="#cb74-30" aria-hidden="true" tabindex="-1"></a><span class="st">        line-height: 1.6;</span></span>
<span id="cb74-31"><a href="#cb74-31" aria-hidden="true" tabindex="-1"></a><span class="st">        color: #333;</span></span>
<span id="cb74-32"><a href="#cb74-32" aria-hidden="true" tabindex="-1"></a><span class="st">        max-width: 800px;</span></span>
<span id="cb74-33"><a href="#cb74-33" aria-hidden="true" tabindex="-1"></a><span class="st">        margin: 0 auto;</span></span>
<span id="cb74-34"><a href="#cb74-34" aria-hidden="true" tabindex="-1"></a><span class="st">        padding: 40px 20px;</span></span>
<span id="cb74-35"><a href="#cb74-35" aria-hidden="true" tabindex="-1"></a><span class="st">    }</span></span>
<span id="cb74-36"><a href="#cb74-36" aria-hidden="true" tabindex="-1"></a><span class="st">    h1 {</span></span>
<span id="cb74-37"><a href="#cb74-37" aria-hidden="true" tabindex="-1"></a><span class="st">        color: #0052d4;</span></span>
<span id="cb74-38"><a href="#cb74-38" aria-hidden="true" tabindex="-1"></a><span class="st">        border-bottom: 3px solid #0052d4;</span></span>
<span id="cb74-39"><a href="#cb74-39" aria-hidden="true" tabindex="-1"></a><span class="st">    }</span></span>
<span id="cb74-40"><a href="#cb74-40" aria-hidden="true" tabindex="-1"></a><span class="st">    table {</span></span>
<span id="cb74-41"><a href="#cb74-41" aria-hidden="true" tabindex="-1"></a><span class="st">        border-collapse: collapse;</span></span>
<span id="cb74-42"><a href="#cb74-42" aria-hidden="true" tabindex="-1"></a><span class="st">        width: 100%;</span></span>
<span id="cb74-43"><a href="#cb74-43" aria-hidden="true" tabindex="-1"></a><span class="st">        margin: 20px 0;</span></span>
<span id="cb74-44"><a href="#cb74-44" aria-hidden="true" tabindex="-1"></a><span class="st">    }</span></span>
<span id="cb74-45"><a href="#cb74-45" aria-hidden="true" tabindex="-1"></a><span class="st">    th, td {</span></span>
<span id="cb74-46"><a href="#cb74-46" aria-hidden="true" tabindex="-1"></a><span class="st">        border: 1px solid #ddd;</span></span>
<span id="cb74-47"><a href="#cb74-47" aria-hidden="true" tabindex="-1"></a><span class="st">        padding: 12px;</span></span>
<span id="cb74-48"><a href="#cb74-48" aria-hidden="true" tabindex="-1"></a><span class="st">    }</span></span>
<span id="cb74-49"><a href="#cb74-49" aria-hidden="true" tabindex="-1"></a><span class="st">    .emoji-grid {</span></span>
<span id="cb74-50"><a href="#cb74-50" aria-hidden="true" tabindex="-1"></a><span class="st">        font-size: 1.5em;</span></span>
<span id="cb74-51"><a href="#cb74-51" aria-hidden="true" tabindex="-1"></a><span class="st">    }</span></span>
<span id="cb74-52"><a href="#cb74-52" aria-hidden="true" tabindex="-1"></a><span class="st">    &quot;&quot;&quot;</span></span>
<span id="cb74-53"><a href="#cb74-53" aria-hidden="true" tabindex="-1"></a>    <span class="cf">with</span> <span class="bu">open</span>(<span class="st">&quot;estilos.css&quot;</span>, <span class="st">&quot;w&quot;</span>, encoding<span class="op">=</span><span class="st">&quot;utf-8&quot;</span>) <span class="im">as</span> f:</span>
<span id="cb74-54"><a href="#cb74-54" aria-hidden="true" tabindex="-1"></a>        f.write(css_content)</span>
<span id="cb74-55"><a href="#cb74-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-56"><a href="#cb74-56" aria-hidden="true" tabindex="-1"></a>    success <span class="op">=</span> convert_markdown_to_pdf(<span class="st">&quot;teste_emojis.md&quot;</span>, <span class="st">&quot;teste_emojis_pandoc.pdf&quot;</span>)</span>
<span id="cb74-57"><a href="#cb74-57" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> success:</span>
<span id="cb74-58"><a href="#cb74-58" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">üéâ Convers√£o conclu√≠da com sucesso!&quot;</span>)</span>
<span id="cb74-59"><a href="#cb74-59" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb74-60"><a href="#cb74-60" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">üí• Falha na convers√£o.&quot;</span>)</span></code></pre></div>
<p><strong>Executar</strong>:</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="ex">python</span> converter_pandoc.py</span></code></pre></div>
<hr />
<h3 data-number="1.2.34" id="solu√ß√£o-3-usar-weasyprint"><span class="header-section-number">1.2.34</span> Solu√ß√£o 3: Usar
WeasyPrint</h3>
<p>O WeasyPrint √© uma alternativa mais moderna e confi√°vel que o
<code>wkhtmltopdf</code> para renderizar HTML/CSS em PDF com suporte a
emojis. Ele √© mais leve que o Selenium e suporta fontes Unicode.</p>
<h4 data-number="1.2.34.1" id="instalar-weasyprint"><span class="header-section-number">1.2.34.1</span> 1. <strong>Instalar
WeasyPrint</strong></h4>
<p>No MSYS2:</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-S</span> mingw-w64-x86_64-python mingw-w64-x86_64-python-pip mingw-w64-x86_64-gtk3</span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a><span class="ex">pip</span> install weasyprint markdown</span></code></pre></div>
<h4 data-number="1.2.34.2" id="script-com-weasyprint"><span class="header-section-number">1.2.34.2</span> 2. <strong>Script com
WeasyPrint</strong></h4>
<div class="sourceCode" id="cb77"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/usr/bin/env python3</span></span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> markdown</span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> weasyprint <span class="im">import</span> HTML, CSS</span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-5"><a href="#cb77-5" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> convert_markdown_to_pdf(md_file, pdf_file):</span>
<span id="cb77-6"><a href="#cb77-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f&quot;üîÑ Convertendo </span><span class="sc">{</span>md_file<span class="sc">}</span><span class="ss"> para PDF com WeasyPrint...&quot;</span>)</span>
<span id="cb77-7"><a href="#cb77-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb77-8"><a href="#cb77-8" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Ler Markdown</span></span>
<span id="cb77-9"><a href="#cb77-9" aria-hidden="true" tabindex="-1"></a>        <span class="cf">with</span> <span class="bu">open</span>(md_file, <span class="st">&#39;r&#39;</span>, encoding<span class="op">=</span><span class="st">&#39;utf-8&#39;</span>) <span class="im">as</span> f:</span>
<span id="cb77-10"><a href="#cb77-10" aria-hidden="true" tabindex="-1"></a>            markdown_content <span class="op">=</span> f.read()</span>
<span id="cb77-11"><a href="#cb77-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-12"><a href="#cb77-12" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Converter para HTML</span></span>
<span id="cb77-13"><a href="#cb77-13" aria-hidden="true" tabindex="-1"></a>        html_content <span class="op">=</span> markdown.markdown(markdown_content, extensions<span class="op">=</span>[<span class="st">&#39;extra&#39;</span>, <span class="st">&#39;tables&#39;</span>])</span>
<span id="cb77-14"><a href="#cb77-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-15"><a href="#cb77-15" aria-hidden="true" tabindex="-1"></a>        <span class="co"># HTML com estilos</span></span>
<span id="cb77-16"><a href="#cb77-16" aria-hidden="true" tabindex="-1"></a>        full_html <span class="op">=</span> <span class="ss">f&quot;&quot;&quot;</span></span>
<span id="cb77-17"><a href="#cb77-17" aria-hidden="true" tabindex="-1"></a><span class="ss">        &lt;!DOCTYPE html&gt;</span></span>
<span id="cb77-18"><a href="#cb77-18" aria-hidden="true" tabindex="-1"></a><span class="ss">        &lt;html&gt;</span></span>
<span id="cb77-19"><a href="#cb77-19" aria-hidden="true" tabindex="-1"></a><span class="ss">        &lt;head&gt;</span></span>
<span id="cb77-20"><a href="#cb77-20" aria-hidden="true" tabindex="-1"></a><span class="ss">            &lt;meta charset=&quot;UTF-8&quot;&gt;</span></span>
<span id="cb77-21"><a href="#cb77-21" aria-hidden="true" tabindex="-1"></a><span class="ss">            &lt;title&gt;Documento com Emojis&lt;/title&gt;</span></span>
<span id="cb77-22"><a href="#cb77-22" aria-hidden="true" tabindex="-1"></a><span class="ss">            &lt;style&gt;</span></span>
<span id="cb77-23"><a href="#cb77-23" aria-hidden="true" tabindex="-1"></a><span class="ss">                @font-face </span><span class="ch">{{</span></span>
<span id="cb77-24"><a href="#cb77-24" aria-hidden="true" tabindex="-1"></a><span class="ss">                    font-family: &#39;Noto Sans&#39;;</span></span>
<span id="cb77-25"><a href="#cb77-25" aria-hidden="true" tabindex="-1"></a><span class="ss">                    src: url(&#39;https://fonts.googleapis.com/css2?family=Noto+Sans&amp;display=swap&#39;);</span></span>
<span id="cb77-26"><a href="#cb77-26" aria-hidden="true" tabindex="-1"></a><span class="ss">                </span><span class="ch">}}</span></span>
<span id="cb77-27"><a href="#cb77-27" aria-hidden="true" tabindex="-1"></a><span class="ss">                body </span><span class="ch">{{</span></span>
<span id="cb77-28"><a href="#cb77-28" aria-hidden="true" tabindex="-1"></a><span class="ss">                    font-family: &#39;Noto Sans&#39;, &#39;Segoe UI Emoji&#39;, sans-serif;</span></span>
<span id="cb77-29"><a href="#cb77-29" aria-hidden="true" tabindex="-1"></a><span class="ss">                    line-height: 1.6;</span></span>
<span id="cb77-30"><a href="#cb77-30" aria-hidden="true" tabindex="-1"></a><span class="ss">                    color: #333;</span></span>
<span id="cb77-31"><a href="#cb77-31" aria-hidden="true" tabindex="-1"></a><span class="ss">                    max-width: 800px;</span></span>
<span id="cb77-32"><a href="#cb77-32" aria-hidden="true" tabindex="-1"></a><span class="ss">                    margin: 0 auto;</span></span>
<span id="cb77-33"><a href="#cb77-33" aria-hidden="true" tabindex="-1"></a><span class="ss">                    padding: 40px 20px;</span></span>
<span id="cb77-34"><a href="#cb77-34" aria-hidden="true" tabindex="-1"></a><span class="ss">                </span><span class="ch">}}</span></span>
<span id="cb77-35"><a href="#cb77-35" aria-hidden="true" tabindex="-1"></a><span class="ss">                h1 </span><span class="ch">{{</span></span>
<span id="cb77-36"><a href="#cb77-36" aria-hidden="true" tabindex="-1"></a><span class="ss">                    color: #0052d4;</span></span>
<span id="cb77-37"><a href="#cb77-37" aria-hidden="true" tabindex="-1"></a><span class="ss">                    border-bottom: 3px solid #0052d4;</span></span>
<span id="cb77-38"><a href="#cb77-38" aria-hidden="true" tabindex="-1"></a><span class="ss">                </span><span class="ch">}}</span></span>
<span id="cb77-39"><a href="#cb77-39" aria-hidden="true" tabindex="-1"></a><span class="ss">                table </span><span class="ch">{{</span></span>
<span id="cb77-40"><a href="#cb77-40" aria-hidden="true" tabindex="-1"></a><span class="ss">                    border-collapse: collapse;</span></span>
<span id="cb77-41"><a href="#cb77-41" aria-hidden="true" tabindex="-1"></a><span class="ss">                    width: 100%;</span></span>
<span id="cb77-42"><a href="#cb77-42" aria-hidden="true" tabindex="-1"></a><span class="ss">                    margin: 20px 0;</span></span>
<span id="cb77-43"><a href="#cb77-43" aria-hidden="true" tabindex="-1"></a><span class="ss">                </span><span class="ch">}}</span></span>
<span id="cb77-44"><a href="#cb77-44" aria-hidden="true" tabindex="-1"></a><span class="ss">                th, td </span><span class="ch">{{</span></span>
<span id="cb77-45"><a href="#cb77-45" aria-hidden="true" tabindex="-1"></a><span class="ss">                    border: 1px solid #ddd;</span></span>
<span id="cb77-46"><a href="#cb77-46" aria-hidden="true" tabindex="-1"></a><span class="ss">                    padding: 12px;</span></span>
<span id="cb77-47"><a href="#cb77-47" aria-hidden="true" tabindex="-1"></a><span class="ss">                </span><span class="ch">}}</span></span>
<span id="cb77-48"><a href="#cb77-48" aria-hidden="true" tabindex="-1"></a><span class="ss">                .emoji-grid </span><span class="ch">{{</span></span>
<span id="cb77-49"><a href="#cb77-49" aria-hidden="true" tabindex="-1"></a><span class="ss">                    font-size: 1.5em;</span></span>
<span id="cb77-50"><a href="#cb77-50" aria-hidden="true" tabindex="-1"></a><span class="ss">                </span><span class="ch">}}</span></span>
<span id="cb77-51"><a href="#cb77-51" aria-hidden="true" tabindex="-1"></a><span class="ss">            &lt;/style&gt;</span></span>
<span id="cb77-52"><a href="#cb77-52" aria-hidden="true" tabindex="-1"></a><span class="ss">        &lt;/head&gt;</span></span>
<span id="cb77-53"><a href="#cb77-53" aria-hidden="true" tabindex="-1"></a><span class="ss">        &lt;body&gt;</span><span class="sc">{</span>html_content<span class="sc">}</span><span class="ss">&lt;/body&gt;</span></span>
<span id="cb77-54"><a href="#cb77-54" aria-hidden="true" tabindex="-1"></a><span class="ss">        &lt;/html&gt;</span></span>
<span id="cb77-55"><a href="#cb77-55" aria-hidden="true" tabindex="-1"></a><span class="ss">        &quot;&quot;&quot;</span></span>
<span id="cb77-56"><a href="#cb77-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-57"><a href="#cb77-57" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Converter para PDF</span></span>
<span id="cb77-58"><a href="#cb77-58" aria-hidden="true" tabindex="-1"></a>        HTML(string<span class="op">=</span>full_html).write_pdf(pdf_file)</span>
<span id="cb77-59"><a href="#cb77-59" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;‚úÖ PDF gerado: </span><span class="sc">{</span>pdf_file<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb77-60"><a href="#cb77-60" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;üìä Tamanho do arquivo: </span><span class="sc">{</span>os<span class="sc">.</span>path<span class="sc">.</span>getsize(pdf_file)<span class="sc">}</span><span class="ss"> bytes&quot;</span>)</span>
<span id="cb77-61"><a href="#cb77-61" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">True</span></span>
<span id="cb77-62"><a href="#cb77-62" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">Exception</span> <span class="im">as</span> e:</span>
<span id="cb77-63"><a href="#cb77-63" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;‚ùå Erro durante a convers√£o: </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb77-64"><a href="#cb77-64" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">False</span></span>
<span id="cb77-65"><a href="#cb77-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-66"><a href="#cb77-66" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">&quot;__main__&quot;</span>:</span>
<span id="cb77-67"><a href="#cb77-67" aria-hidden="true" tabindex="-1"></a>    success <span class="op">=</span> convert_markdown_to_pdf(<span class="st">&quot;teste_emojis.md&quot;</span>, <span class="st">&quot;teste_emojis_weasy.pdf&quot;</span>)</span>
<span id="cb77-68"><a href="#cb77-68" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> success:</span>
<span id="cb77-69"><a href="#cb77-69" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">üéâ Convers√£o conclu√≠da com sucesso!&quot;</span>)</span>
<span id="cb77-70"><a href="#cb77-70" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb77-71"><a href="#cb77-71" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">üí• Falha na convers√£o.&quot;</span>)</span></code></pre></div>
<p><strong>Executar</strong>:</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="ex">python</span> converter_weasy.py</span></code></pre></div>
<hr />
<h3 data-number="1.2.35" id="recomenda√ß√£o-1"><span class="header-section-number">1.2.35</span> Recomenda√ß√£o</h3>
<p>O <strong>Pandoc com XeLaTeX</strong> √© a solu√ß√£o mais confi√°vel e
simples para corrigir o problema dos emojis aparecendo como ret√¢ngulos.
Ele suporta emojis Unicode (e coloridos com <code>lualatex</code>) e √©
mais robusto que o <code>wkhtmltopdf</code>. Execute:</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pandoc</span> teste_emojis.md <span class="at">-o</span> teste_emojis.pdf <span class="at">--pdf-engine</span><span class="op">=</span>xelatex <span class="at">-V</span> mainfont=<span class="st">&quot;Noto Sans&quot;</span> <span class="at">-V</span> lang=pt-PT</span></code></pre></div>
<p>Se preferir continuar com uma abordagem baseada em Python, o
<strong>WeasyPrint</strong> √© uma alternativa melhor que o
<code>wkhtmltopdf</code>, pois suporta emojis modernos e CSS avan√ßado
sem as limita√ß√µes do WebKit.</p>
<p><strong>Pr√≥ximos Passos</strong>: 1. Tente o comando Pandoc acima e
verifique o PDF gerado. 2. Se quiser continuar com o
<code>wkhtmltopdf</code>, atualize o script com as mudan√ßas sugeridas e
confirme a instala√ß√£o das fontes. 3. Se preferir o WeasyPrint, use o
script fornecido e instale as depend√™ncias.</p>
<p>Se ainda houver problemas (ex.: emojis espec√≠ficos n√£o renderizam,
erros no WeasyPrint), compartilhe os detalhes (ex.: vers√£o do
wkhtmltopdf, visualizador de PDF usado) para uma solu√ß√£o mais
direcionada! üòä</p>
<hr />
<h3 data-number="1.2.36" id="utilizador-2025-10-28-212747-grok"><span class="header-section-number">1.2.36</span> üë§ Utilizador
<em>(2025-10-28 21:27:47)</em> <em>[Grok]</em></h3>
<a href="mailto:mpmen@MM04" class="email">mpmen@MM04</a> MINGW64
/d/Downloads/<em>DOCS</em>/<em>DOCS</em>/Teste_emojis_msys2 #
wkhtmltopdf ‚Äìversion wkhtmltopdf 0.12.6 (with patched qt) <a href="mailto:mpmen@MM04" class="email">mpmen@MM04</a> MINGW64
/d/Downloads/<em>DOCS</em>/<em>DOCS</em>/Teste_emojis_msys2 # python
converter_wkhtml.py Traceback (most recent call last): File
‚ÄúD:/Downloads/<em>DOCS</em>/<em>DOCS</em>/Teste_emojis_msys2/converter_wkhtml.py‚Äù,
line 45, in <module>
<body>
{html_content}

        <script id="fixed-toc-script">
        document.addEventListener('DOMContentLoaded', function() {
            const toc = document.getElementById('TOC');
            if (toc) {
                const tocTitle = toc.querySelector('h2');
                if (tocTitle) {
                    const toggleBtn = document.createElement('button');
                    toggleBtn.innerHTML = '‚ò∞';
                    toggleBtn.className = 'toc-toggle-btn';
                    toggleBtn.title = 'Minimizar/Expandir TOC';
                    let isMinimized = false;
                    toggleBtn.addEventListener('click', function(e) {
                        e.stopPropagation();
                        isMinimized = !isMinimized;
                        if (isMinimized) {
                            toc.classList.add('toc-minimized');
                        } else {
                            toc.classList.remove('toc-minimized');
                        }
                    });
                    tocTitle.appendChild(toggleBtn);
                }
            }
            
            // SCROLLSPY
            const sections = document.querySelectorAll('h1, h2, h3, h4, h5');
            const tocLinks = document.querySelectorAll('#TOC a');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const id = entry.target.getAttribute('id');
                        tocLinks.forEach(link => {
                            link.classList.remove('active');
                            if (link.getAttribute('href') === '#' + id) {
                                link.classList.add('active');
                            }
                        });
                    }
                });
            }, { 
                rootMargin: '-20% 0px -60% 0px', 
                threshold: 0 
            });
            
            sections.forEach(section => {
                if (section.id) observer.observe(section);
            });
            
            // Scroll suave
            tocLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const targetId = link.getAttribute('href').substring(1);
                    const targetElement = document.getElementById(targetId);
                    if (targetElement) {
                        const offsetTop = targetElement.offsetTop - 80;
                        window.scrollTo({ top: offsetTop, behavior: 'smooth' });
                    }
                });
            });
            
            // BOT√ÉO VOLTAR AO TOPO
            const backToTopBtn = document.createElement('button');
            backToTopBtn.className = 'back-to-top-content';
            backToTopBtn.innerHTML = '‚Üë';
            backToTopBtn.title = 'Voltar ao Topo';
            document.body.appendChild(backToTopBtn);
            
            window.addEventListener('scroll', () => {
                if (window.pageYOffset > 300) {
                    backToTopBtn.classList.add('show');
                } else {
                    backToTopBtn.classList.remove('show');
                }
            });
            
            backToTopBtn.addEventListener('click', () => {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
        });
        </script>
        
</body>
<pre><code>       ^^^^^^^^^^^^</code></pre>
<p>NameError: name ‚Äòhtml_content‚Äô is not defined</p>
<hr />
<h3 data-number="1.2.37" id="grok-2025-10-28-212849-grok"><span class="header-section-number">1.2.37</span> ü§ñ Grok <em>(2025-10-28
21:28:49)</em> <em>[Grok]</em></h3>
<p>O erro que voc√™ est√° enfrentando ao executar o script
<code>converter_wkhtml.py</code>
(<code>NameError: name &#39;html_content&#39; is not defined</code>) indica que
a vari√°vel <code>html_content</code> n√£o est√° definida no script antes
de ser usada na string <code>full_html</code>. Isso sugere que o script
que voc√™ est√° executando n√£o est√° completo ou foi modificado de forma
que a convers√£o do Markdown para HTML n√£o est√° acontecendo corretamente.
Al√©m disso, voc√™ confirmou que o <code>wkhtmltopdf</code> vers√£o 0.12.6
est√° instalado, mas os emojis ainda aparecem como ret√¢ngulos no PDF
gerado anteriormente, o que refor√ßa a necessidade de ajustar o script ou
mudar para uma solu√ß√£o mais confi√°vel.</p>
<p>Vou: 1. Corrigir o erro <code>NameError</code> no script
<code>converter_wkhtml.py</code>. 2. Ajustar o script para garantir que
os emojis sejam renderizados corretamente com o
<code>wkhtmltopdf</code>. 3. Reafirmar a recomenda√ß√£o de usar o
<strong>Pandoc</strong> como a solu√ß√£o mais simples e robusta, dado que
o <code>wkhtmltopdf</code> 0.12.6 tem limita√ß√µes com emojis
modernos.</p>
<hr />
<h3 data-number="1.2.38" id="corrigindo-o-erro-no-script-converter_wkhtml.py"><span class="header-section-number">1.2.38</span> Corrigindo o Erro no Script
<code>converter_wkhtml.py</code></h3>
<p>O erro <code>NameError: name &#39;html_content&#39; is not defined</code>
ocorre porque a vari√°vel <code>html_content</code> n√£o foi criada antes
de ser usada na string <code>full_html</code>. Isso acontece se a parte
do c√≥digo que converte o Markdown para HTML (usando a biblioteca
<code>markdown</code>) est√° ausente ou comentada. Aqui est√° a vers√£o
corrigida do script, baseada no seu contexto anterior e otimizada para
suportar emojis:</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/usr/bin/env python3</span></span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> markdown</span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> subprocess</span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-6"><a href="#cb81-6" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> convert_markdown_to_pdf(md_file, pdf_file):</span>
<span id="cb81-7"><a href="#cb81-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f&quot;üîÑ Convertendo </span><span class="sc">{</span>md_file<span class="sc">}</span><span class="ss"> para PDF com wkhtmltopdf...&quot;</span>)</span>
<span id="cb81-8"><a href="#cb81-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb81-9"><a href="#cb81-9" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Ler Markdown</span></span>
<span id="cb81-10"><a href="#cb81-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">with</span> <span class="bu">open</span>(md_file, <span class="st">&#39;r&#39;</span>, encoding<span class="op">=</span><span class="st">&#39;utf-8&#39;</span>) <span class="im">as</span> f:</span>
<span id="cb81-11"><a href="#cb81-11" aria-hidden="true" tabindex="-1"></a>            markdown_content <span class="op">=</span> f.read()</span>
<span id="cb81-12"><a href="#cb81-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-13"><a href="#cb81-13" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Converter para HTML</span></span>
<span id="cb81-14"><a href="#cb81-14" aria-hidden="true" tabindex="-1"></a>        html_content <span class="op">=</span> markdown.markdown(markdown_content, extensions<span class="op">=</span>[<span class="st">&#39;extra&#39;</span>, <span class="st">&#39;tables&#39;</span>])</span>
<span id="cb81-15"><a href="#cb81-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-16"><a href="#cb81-16" aria-hidden="true" tabindex="-1"></a>        <span class="co"># HTML com estilos</span></span>
<span id="cb81-17"><a href="#cb81-17" aria-hidden="true" tabindex="-1"></a>        full_html <span class="op">=</span> <span class="ss">f&quot;&quot;&quot;</span></span>
<span id="cb81-18"><a href="#cb81-18" aria-hidden="true" tabindex="-1"></a><span class="ss">        &lt;!DOCTYPE html&gt;</span></span>
<span id="cb81-19"><a href="#cb81-19" aria-hidden="true" tabindex="-1"></a><span class="ss">        &lt;html&gt;</span></span>
<span id="cb81-20"><a href="#cb81-20" aria-hidden="true" tabindex="-1"></a><span class="ss">        &lt;head&gt;</span></span>
<span id="cb81-21"><a href="#cb81-21" aria-hidden="true" tabindex="-1"></a><span class="ss">            &lt;meta charset=&quot;UTF-8&quot;&gt;</span></span>
<span id="cb81-22"><a href="#cb81-22" aria-hidden="true" tabindex="-1"></a><span class="ss">            &lt;title&gt;Documento com Emojis&lt;/title&gt;</span></span>
<span id="cb81-23"><a href="#cb81-23" aria-hidden="true" tabindex="-1"></a><span class="ss">            &lt;style&gt;</span></span>
<span id="cb81-24"><a href="#cb81-24" aria-hidden="true" tabindex="-1"></a><span class="ss">                @font-face </span><span class="ch">{{</span></span>
<span id="cb81-25"><a href="#cb81-25" aria-hidden="true" tabindex="-1"></a><span class="ss">                    font-family: &#39;Noto Sans&#39;;</span></span>
<span id="cb81-26"><a href="#cb81-26" aria-hidden="true" tabindex="-1"></a><span class="ss">                    src: url(&#39;https://fonts.googleapis.com/css2?family=Noto+Sans&amp;display=swap&#39;);</span></span>
<span id="cb81-27"><a href="#cb81-27" aria-hidden="true" tabindex="-1"></a><span class="ss">                </span><span class="ch">}}</span></span>
<span id="cb81-28"><a href="#cb81-28" aria-hidden="true" tabindex="-1"></a><span class="ss">                body </span><span class="ch">{{</span></span>
<span id="cb81-29"><a href="#cb81-29" aria-hidden="true" tabindex="-1"></a><span class="ss">                    font-family: &#39;Segoe UI Emoji&#39;, &#39;Noto Sans&#39;, sans-serif;</span></span>
<span id="cb81-30"><a href="#cb81-30" aria-hidden="true" tabindex="-1"></a><span class="ss">                    line-height: 1.6;</span></span>
<span id="cb81-31"><a href="#cb81-31" aria-hidden="true" tabindex="-1"></a><span class="ss">                    color: #333;</span></span>
<span id="cb81-32"><a href="#cb81-32" aria-hidden="true" tabindex="-1"></a><span class="ss">                    max-width: 800px;</span></span>
<span id="cb81-33"><a href="#cb81-33" aria-hidden="true" tabindex="-1"></a><span class="ss">                    margin: 0 auto;</span></span>
<span id="cb81-34"><a href="#cb81-34" aria-hidden="true" tabindex="-1"></a><span class="ss">                    padding: 40px 20px;</span></span>
<span id="cb81-35"><a href="#cb81-35" aria-hidden="true" tabindex="-1"></a><span class="ss">                </span><span class="ch">}}</span></span>
<span id="cb81-36"><a href="#cb81-36" aria-hidden="true" tabindex="-1"></a><span class="ss">                h1 </span><span class="ch">{{</span></span>
<span id="cb81-37"><a href="#cb81-37" aria-hidden="true" tabindex="-1"></a><span class="ss">                    color: #0052d4;</span></span>
<span id="cb81-38"><a href="#cb81-38" aria-hidden="true" tabindex="-1"></a><span class="ss">                    border-bottom: 3px solid #0052d4;</span></span>
<span id="cb81-39"><a href="#cb81-39" aria-hidden="true" tabindex="-1"></a><span class="ss">                    padding-bottom: 10px;</span></span>
<span id="cb81-40"><a href="#cb81-40" aria-hidden="true" tabindex="-1"></a><span class="ss">                </span><span class="ch">}}</span></span>
<span id="cb81-41"><a href="#cb81-41" aria-hidden="true" tabindex="-1"></a><span class="ss">                table </span><span class="ch">{{</span></span>
<span id="cb81-42"><a href="#cb81-42" aria-hidden="true" tabindex="-1"></a><span class="ss">                    border-collapse: collapse;</span></span>
<span id="cb81-43"><a href="#cb81-43" aria-hidden="true" tabindex="-1"></a><span class="ss">                    width: 100%;</span></span>
<span id="cb81-44"><a href="#cb81-44" aria-hidden="true" tabindex="-1"></a><span class="ss">                    margin: 20px 0;</span></span>
<span id="cb81-45"><a href="#cb81-45" aria-hidden="true" tabindex="-1"></a><span class="ss">                </span><span class="ch">}}</span></span>
<span id="cb81-46"><a href="#cb81-46" aria-hidden="true" tabindex="-1"></a><span class="ss">                th, td </span><span class="ch">{{</span></span>
<span id="cb81-47"><a href="#cb81-47" aria-hidden="true" tabindex="-1"></a><span class="ss">                    border: 1px solid #ddd;</span></span>
<span id="cb81-48"><a href="#cb81-48" aria-hidden="true" tabindex="-1"></a><span class="ss">                    padding: 12px;</span></span>
<span id="cb81-49"><a href="#cb81-49" aria-hidden="true" tabindex="-1"></a><span class="ss">                    text-align: left;</span></span>
<span id="cb81-50"><a href="#cb81-50" aria-hidden="true" tabindex="-1"></a><span class="ss">                </span><span class="ch">}}</span></span>
<span id="cb81-51"><a href="#cb81-51" aria-hidden="true" tabindex="-1"></a><span class="ss">                .emoji-grid </span><span class="ch">{{</span></span>
<span id="cb81-52"><a href="#cb81-52" aria-hidden="true" tabindex="-1"></a><span class="ss">                    font-size: 1.5em;</span></span>
<span id="cb81-53"><a href="#cb81-53" aria-hidden="true" tabindex="-1"></a><span class="ss">                </span><span class="ch">}}</span></span>
<span id="cb81-54"><a href="#cb81-54" aria-hidden="true" tabindex="-1"></a><span class="ss">            &lt;/style&gt;</span></span>
<span id="cb81-55"><a href="#cb81-55" aria-hidden="true" tabindex="-1"></a><span class="ss">        &lt;/head&gt;</span></span>
<span id="cb81-56"><a href="#cb81-56" aria-hidden="true" tabindex="-1"></a><span class="ss">        &lt;body&gt;</span><span class="sc">{</span>html_content<span class="sc">}</span><span class="ss">&lt;/body&gt;</span></span>
<span id="cb81-57"><a href="#cb81-57" aria-hidden="true" tabindex="-1"></a><span class="ss">        &lt;/html&gt;</span></span>
<span id="cb81-58"><a href="#cb81-58" aria-hidden="true" tabindex="-1"></a><span class="ss">        &quot;&quot;&quot;</span></span>
<span id="cb81-59"><a href="#cb81-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-60"><a href="#cb81-60" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Salvar HTML tempor√°rio</span></span>
<span id="cb81-61"><a href="#cb81-61" aria-hidden="true" tabindex="-1"></a>        temp_html <span class="op">=</span> <span class="st">&quot;temp.html&quot;</span></span>
<span id="cb81-62"><a href="#cb81-62" aria-hidden="true" tabindex="-1"></a>        <span class="cf">with</span> <span class="bu">open</span>(temp_html, <span class="st">&#39;w&#39;</span>, encoding<span class="op">=</span><span class="st">&#39;utf-8&#39;</span>) <span class="im">as</span> f:</span>
<span id="cb81-63"><a href="#cb81-63" aria-hidden="true" tabindex="-1"></a>            f.write(full_html)</span>
<span id="cb81-64"><a href="#cb81-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-65"><a href="#cb81-65" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Converter para PDF com wkhtmltopdf</span></span>
<span id="cb81-66"><a href="#cb81-66" aria-hidden="true" tabindex="-1"></a>        subprocess.run([</span>
<span id="cb81-67"><a href="#cb81-67" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;wkhtmltopdf&quot;</span>,</span>
<span id="cb81-68"><a href="#cb81-68" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;--enable-local-file-access&quot;</span>,</span>
<span id="cb81-69"><a href="#cb81-69" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;--dpi&quot;</span>, <span class="st">&quot;300&quot;</span>,</span>
<span id="cb81-70"><a href="#cb81-70" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;--encoding&quot;</span>, <span class="st">&quot;UTF-8&quot;</span>,</span>
<span id="cb81-71"><a href="#cb81-71" aria-hidden="true" tabindex="-1"></a>            temp_html,</span>
<span id="cb81-72"><a href="#cb81-72" aria-hidden="true" tabindex="-1"></a>            pdf_file</span>
<span id="cb81-73"><a href="#cb81-73" aria-hidden="true" tabindex="-1"></a>        ], check<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb81-74"><a href="#cb81-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-75"><a href="#cb81-75" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Remover arquivo tempor√°rio</span></span>
<span id="cb81-76"><a href="#cb81-76" aria-hidden="true" tabindex="-1"></a>        os.remove(temp_html)</span>
<span id="cb81-77"><a href="#cb81-77" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;‚úÖ PDF gerado: </span><span class="sc">{</span>pdf_file<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb81-78"><a href="#cb81-78" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;üìä Tamanho do arquivo: </span><span class="sc">{</span>os<span class="sc">.</span>path<span class="sc">.</span>getsize(pdf_file)<span class="sc">}</span><span class="ss"> bytes&quot;</span>)</span>
<span id="cb81-79"><a href="#cb81-79" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">True</span></span>
<span id="cb81-80"><a href="#cb81-80" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">Exception</span> <span class="im">as</span> e:</span>
<span id="cb81-81"><a href="#cb81-81" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;‚ùå Erro durante a convers√£o: </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb81-82"><a href="#cb81-82" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> os.path.exists(temp_html):</span>
<span id="cb81-83"><a href="#cb81-83" aria-hidden="true" tabindex="-1"></a>            os.remove(temp_html)</span>
<span id="cb81-84"><a href="#cb81-84" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">False</span></span>
<span id="cb81-85"><a href="#cb81-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-86"><a href="#cb81-86" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">&quot;__main__&quot;</span>:</span>
<span id="cb81-87"><a href="#cb81-87" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Instalar markdown se necess√°rio</span></span>
<span id="cb81-88"><a href="#cb81-88" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb81-89"><a href="#cb81-89" aria-hidden="true" tabindex="-1"></a>        <span class="im">import</span> markdown</span>
<span id="cb81-90"><a href="#cb81-90" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">ImportError</span>:</span>
<span id="cb81-91"><a href="#cb81-91" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot;üì¶ Instalando pacote markdown...&quot;</span>)</span>
<span id="cb81-92"><a href="#cb81-92" aria-hidden="true" tabindex="-1"></a>        subprocess.check_call([<span class="st">&quot;pip&quot;</span>, <span class="st">&quot;install&quot;</span>, <span class="st">&quot;markdown&quot;</span>])</span>
<span id="cb81-93"><a href="#cb81-93" aria-hidden="true" tabindex="-1"></a>        <span class="im">import</span> markdown</span>
<span id="cb81-94"><a href="#cb81-94" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-95"><a href="#cb81-95" aria-hidden="true" tabindex="-1"></a>    success <span class="op">=</span> convert_markdown_to_pdf(<span class="st">&quot;teste_emojis.md&quot;</span>, <span class="st">&quot;teste_emojis_wkhtml.pdf&quot;</span>)</span>
<span id="cb81-96"><a href="#cb81-96" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> success:</span>
<span id="cb81-97"><a href="#cb81-97" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">üéâ Convers√£o conclu√≠da com sucesso!&quot;</span>)</span>
<span id="cb81-98"><a href="#cb81-98" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb81-99"><a href="#cb81-99" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">üí• Falha na convers√£o.&quot;</span>)</span></code></pre></div>
<p><strong>Mudan√ßas principais</strong>: 1. Adicionada a importa√ß√£o da
biblioteca <code>markdown</code> e a convers√£o do Markdown para HTML:
<code>python    html_content = markdown.markdown(markdown_content, extensions=[&#39;extra&#39;, &#39;tables&#39;])</code>
2. Inclu√≠das op√ß√µes adicionais para o <code>wkhtmltopdf</code>
(<code>--enable-local-file-access</code>, <code>--dpi 300</code>,
<code>--encoding UTF-8</code>) para melhorar a compatibilidade com
emojis. 3. Mantida a estrutura do CSS com fontes que suportam emojis
(<code>Segoe UI Emoji</code>, <code>Noto Sans</code>). 4. Adicionada
limpeza do arquivo tempor√°rio em caso de erro.</p>
<p><strong>Executar</strong>: 1. Salve o script como
<code>converter_wkhtml.py</code>. 2. Certifique-se de que o
<code>markdown</code> est√° instalado:
<code>bash    pip install markdown</code> 3. Execute:
<code>bash    python converter_wkhtml.py</code></p>
<hr />
<h3 data-number="1.2.39" id="corrigindo-os-emojis-como-ret√¢ngulos-no-wkhtmltopdf"><span class="header-section-number">1.2.39</span> Corrigindo os Emojis como
Ret√¢ngulos no wkhtmltopdf</h3>
<p>O <code>wkhtmltopdf</code> 0.12.6 usa uma vers√£o antiga do WebKit,
que tem suporte limitado a emojis modernos, especialmente emojis
coloridos ou complexos (como os do seu arquivo
<code>teste_emojis.md</code>, ex.: üåà, üçö, üòä). Para tentar melhorar a
renderiza√ß√£o:</p>
<ol type="1">
<li><p><strong>Verificar Fontes Dispon√≠veis</strong>: Confirme se as
fontes <code>Segoe UI Emoji</code> ou <code>Noto Sans</code> est√£o
acess√≠veis:</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="ex">fc-list</span> <span class="kw">|</span> <span class="fu">grep</span> <span class="at">-i</span> <span class="st">&quot;Segoe UI Emoji&quot;</span></span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a><span class="ex">fc-list</span> <span class="kw">|</span> <span class="fu">grep</span> <span class="at">-i</span> <span class="st">&quot;Noto Sans&quot;</span></span></code></pre></div>
<p>Se <code>Noto Sans</code> n√£o estiver instalada, instale-a:</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-S</span> mingw-w64-x86_64-noto-fonts</span></code></pre></div></li>
<li><p><strong>Usar Fontes Locais</strong>: No CSS, a tentativa de
carregar <code>Noto Sans</code> via Google Fonts
(<code>@font-face</code>) pode falhar no <code>wkhtmltopdf</code> devido
a restri√ß√µes de rede ou suporte. Como alternativa, use fontes
locais:</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="im">@font-face</span> {</span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">font-family</span><span class="ch">:</span> <span class="st">&#39;Segoe UI Emoji&#39;</span><span class="op">;</span></span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">src</span><span class="ch">:</span> <span class="fu">local(</span><span class="st">&#39;Segoe UI Emoji&#39;</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb84-4"><a href="#cb84-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb84-5"><a href="#cb84-5" aria-hidden="true" tabindex="-1"></a>body {</span>
<span id="cb84-6"><a href="#cb84-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">font-family</span><span class="ch">:</span> <span class="st">&#39;Segoe UI Emoji&#39;</span><span class="op">,</span> <span class="dv">sans-serif</span><span class="op">;</span></span>
<span id="cb84-7"><a href="#cb84-7" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div></li>
<li><p><strong>Testar com Vers√£o Mais Recente</strong>: A vers√£o 0.12.6
do <code>wkhtmltopdf</code> √© conhecida por ter problemas com emojis
modernos. Se poss√≠vel, baixe uma vers√£o mais recente (se dispon√≠vel) ou
use um bin√°rio pr√©-compilado do <a href="https://github.com/wkhtmltopdf/wkhtmltopdf/releases">GitHub</a>.
Extraia e atualize o PATH:</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">PATH</span><span class="op">=</span><span class="st">&quot;</span><span class="va">$PATH</span><span class="st">:/c/caminho/para/wkhtmltopdf/bin&quot;</span></span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a><span class="bu">source</span> ~/.bashrc</span></code></pre></div></li>
<li><p><strong>Limitar Emojis Complexos</strong>: Se apenas alguns
emojis aparecem como ret√¢ngulos, teste com um subconjunto do arquivo
<code>teste_emojis.md</code> contendo emojis simples (ex.: üòä, ‚≠ê) para
verificar se o problema √© espec√≠fico de certos emojis.</p></li>
</ol>
<hr />
<h3 data-number="1.2.40" id="solu√ß√£o-recomendada-pandoc"><span class="header-section-number">1.2.40</span> Solu√ß√£o Recomendada:
Pandoc</h3>
<p>Dado que o <code>wkhtmltopdf</code> 0.12.6 tem limita√ß√µes
significativas com emojis modernos, recomendo fortemente mudar para o
<strong>Pandoc com XeLaTeX ou LuaLaTeX</strong>, que √© mais confi√°vel
para renderizar emojis e suporta portugu√™s de Portugal nativamente. O
Pandoc √© mais leve, mais mantido e n√£o depende de engines WebKit
desatualizadas.</p>
<h4 data-number="1.2.40.1" id="instalar-depend√™ncias-1"><span class="header-section-number">1.2.40.1</span> 1. <strong>Instalar
Depend√™ncias</strong></h4>
<p>Certifique-se de que o Pandoc e o TeX Live est√£o instalados:</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-S</span> mingw-w64-x86_64-texlive-core mingw-w64-x86_64-texlive-fonts-extra mingw-w64-x86_64-texlive-lang-portuguese</span></code></pre></div>
<p>Se o Pandoc n√£o estiver no reposit√≥rio, instale via instalador MSI do
<a href="https://pandoc.org/installing.html">site oficial</a> e adicione
ao PATH:</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">PATH</span><span class="op">=</span><span class="st">&quot;</span><span class="va">$PATH</span><span class="st">:/c/Users/[seu_usuario]/AppData/Local/Pandoc&quot;</span></span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a><span class="bu">source</span> ~/.bashrc</span></code></pre></div>
<h4 data-number="1.2.40.2" id="converter-com-pandoc-1"><span class="header-section-number">1.2.40.2</span> 2. <strong>Converter com
Pandoc</strong></h4>
<p>Use este comando:</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pandoc</span> teste_emojis.md <span class="at">-o</span> teste_emojis.pdf <span class="at">--pdf-engine</span><span class="op">=</span>xelatex <span class="at">-V</span> mainfont=<span class="st">&quot;Noto Sans&quot;</span> <span class="at">-V</span> lang=pt-PT</span></code></pre></div>
<p>Para emojis coloridos (se suportado pelo visualizador de PDF):</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pandoc</span> teste_emojis.md <span class="at">-o</span> teste_emojis.pdf <span class="at">--pdf-engine</span><span class="op">=</span>lualatex <span class="at">-V</span> mainfont=<span class="st">&quot;Noto Color Emoji&quot;</span> <span class="at">-V</span> lang=pt-PT</span></code></pre></div>
<h4 data-number="1.2.40.3" id="script-python-com-pandoc-1"><span class="header-section-number">1.2.40.3</span> 3. <strong>Script Python
com Pandoc</strong></h4>
<p>Se preferir usar Python, aqui est√° um script equivalente ao
<code>converter_wkhtml.py</code>, mas usando Pandoc:</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/usr/bin/env python3</span></span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> subprocess</span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb90-4"><a href="#cb90-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-5"><a href="#cb90-5" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> convert_markdown_to_pdf(md_file, pdf_file):</span>
<span id="cb90-6"><a href="#cb90-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f&quot;üîÑ Convertendo </span><span class="sc">{</span>md_file<span class="sc">}</span><span class="ss"> para PDF com Pandoc...&quot;</span>)</span>
<span id="cb90-7"><a href="#cb90-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb90-8"><a href="#cb90-8" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Criar arquivo CSS</span></span>
<span id="cb90-9"><a href="#cb90-9" aria-hidden="true" tabindex="-1"></a>        css_content <span class="op">=</span> <span class="st">&quot;&quot;&quot;</span></span>
<span id="cb90-10"><a href="#cb90-10" aria-hidden="true" tabindex="-1"></a><span class="st">        body {</span></span>
<span id="cb90-11"><a href="#cb90-11" aria-hidden="true" tabindex="-1"></a><span class="st">            font-family: &quot;Noto Sans&quot;, &quot;Segoe UI Emoji&quot;, sans-serif;</span></span>
<span id="cb90-12"><a href="#cb90-12" aria-hidden="true" tabindex="-1"></a><span class="st">            line-height: 1.6;</span></span>
<span id="cb90-13"><a href="#cb90-13" aria-hidden="true" tabindex="-1"></a><span class="st">            color: #333;</span></span>
<span id="cb90-14"><a href="#cb90-14" aria-hidden="true" tabindex="-1"></a><span class="st">            max-width: 800px;</span></span>
<span id="cb90-15"><a href="#cb90-15" aria-hidden="true" tabindex="-1"></a><span class="st">            margin: 0 auto;</span></span>
<span id="cb90-16"><a href="#cb90-16" aria-hidden="true" tabindex="-1"></a><span class="st">            padding: 40px 20px;</span></span>
<span id="cb90-17"><a href="#cb90-17" aria-hidden="true" tabindex="-1"></a><span class="st">        }</span></span>
<span id="cb90-18"><a href="#cb90-18" aria-hidden="true" tabindex="-1"></a><span class="st">        h1 {</span></span>
<span id="cb90-19"><a href="#cb90-19" aria-hidden="true" tabindex="-1"></a><span class="st">            color: #0052d4;</span></span>
<span id="cb90-20"><a href="#cb90-20" aria-hidden="true" tabindex="-1"></a><span class="st">            border-bottom: 3px solid #0052d4;</span></span>
<span id="cb90-21"><a href="#cb90-21" aria-hidden="true" tabindex="-1"></a><span class="st">        }</span></span>
<span id="cb90-22"><a href="#cb90-22" aria-hidden="true" tabindex="-1"></a><span class="st">        table {</span></span>
<span id="cb90-23"><a href="#cb90-23" aria-hidden="true" tabindex="-1"></a><span class="st">            border-collapse: collapse;</span></span>
<span id="cb90-24"><a href="#cb90-24" aria-hidden="true" tabindex="-1"></a><span class="st">            width: 100%;</span></span>
<span id="cb90-25"><a href="#cb90-25" aria-hidden="true" tabindex="-1"></a><span class="st">            margin: 20px 0;</span></span>
<span id="cb90-26"><a href="#cb90-26" aria-hidden="true" tabindex="-1"></a><span class="st">        }</span></span>
<span id="cb90-27"><a href="#cb90-27" aria-hidden="true" tabindex="-1"></a><span class="st">        th, td {</span></span>
<span id="cb90-28"><a href="#cb90-28" aria-hidden="true" tabindex="-1"></a><span class="st">            border: 1px solid #ddd;</span></span>
<span id="cb90-29"><a href="#cb90-29" aria-hidden="true" tabindex="-1"></a><span class="st">            padding: 12px;</span></span>
<span id="cb90-30"><a href="#cb90-30" aria-hidden="true" tabindex="-1"></a><span class="st">        }</span></span>
<span id="cb90-31"><a href="#cb90-31" aria-hidden="true" tabindex="-1"></a><span class="st">        .emoji-grid {</span></span>
<span id="cb90-32"><a href="#cb90-32" aria-hidden="true" tabindex="-1"></a><span class="st">            font-size: 1.5em;</span></span>
<span id="cb90-33"><a href="#cb90-33" aria-hidden="true" tabindex="-1"></a><span class="st">        }</span></span>
<span id="cb90-34"><a href="#cb90-34" aria-hidden="true" tabindex="-1"></a><span class="st">        &quot;&quot;&quot;</span></span>
<span id="cb90-35"><a href="#cb90-35" aria-hidden="true" tabindex="-1"></a>        <span class="cf">with</span> <span class="bu">open</span>(<span class="st">&quot;estilos.css&quot;</span>, <span class="st">&quot;w&quot;</span>, encoding<span class="op">=</span><span class="st">&quot;utf-8&quot;</span>) <span class="im">as</span> f:</span>
<span id="cb90-36"><a href="#cb90-36" aria-hidden="true" tabindex="-1"></a>            f.write(css_content)</span>
<span id="cb90-37"><a href="#cb90-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-38"><a href="#cb90-38" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Comando Pandoc</span></span>
<span id="cb90-39"><a href="#cb90-39" aria-hidden="true" tabindex="-1"></a>        cmd <span class="op">=</span> [</span>
<span id="cb90-40"><a href="#cb90-40" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;pandoc&quot;</span>,</span>
<span id="cb90-41"><a href="#cb90-41" aria-hidden="true" tabindex="-1"></a>            md_file,</span>
<span id="cb90-42"><a href="#cb90-42" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;-o&quot;</span>, pdf_file,</span>
<span id="cb90-43"><a href="#cb90-43" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;--pdf-engine=xelatex&quot;</span>,</span>
<span id="cb90-44"><a href="#cb90-44" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;-V&quot;</span>, <span class="st">&quot;mainfont=Noto Sans&quot;</span>,</span>
<span id="cb90-45"><a href="#cb90-45" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;-V&quot;</span>, <span class="st">&quot;lang=pt-PT&quot;</span>,</span>
<span id="cb90-46"><a href="#cb90-46" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;--css=estilos.css&quot;</span></span>
<span id="cb90-47"><a href="#cb90-47" aria-hidden="true" tabindex="-1"></a>        ]</span>
<span id="cb90-48"><a href="#cb90-48" aria-hidden="true" tabindex="-1"></a>        subprocess.run(cmd, check<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb90-49"><a href="#cb90-49" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;‚úÖ PDF gerado: </span><span class="sc">{</span>pdf_file<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb90-50"><a href="#cb90-50" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;üìä Tamanho do arquivo: </span><span class="sc">{</span>os<span class="sc">.</span>path<span class="sc">.</span>getsize(pdf_file)<span class="sc">}</span><span class="ss"> bytes&quot;</span>)</span>
<span id="cb90-51"><a href="#cb90-51" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">True</span></span>
<span id="cb90-52"><a href="#cb90-52" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">Exception</span> <span class="im">as</span> e:</span>
<span id="cb90-53"><a href="#cb90-53" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;‚ùå Erro durante a convers√£o: </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb90-54"><a href="#cb90-54" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">False</span></span>
<span id="cb90-55"><a href="#cb90-55" aria-hidden="true" tabindex="-1"></a>    <span class="cf">finally</span>:</span>
<span id="cb90-56"><a href="#cb90-56" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> os.path.exists(<span class="st">&quot;estilos.css&quot;</span>):</span>
<span id="cb90-57"><a href="#cb90-57" aria-hidden="true" tabindex="-1"></a>            os.remove(<span class="st">&quot;estilos.css&quot;</span>)</span>
<span id="cb90-58"><a href="#cb90-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-59"><a href="#cb90-59" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">&quot;__main__&quot;</span>:</span>
<span id="cb90-60"><a href="#cb90-60" aria-hidden="true" tabindex="-1"></a>    success <span class="op">=</span> convert_markdown_to_pdf(<span class="st">&quot;teste_emojis.md&quot;</span>, <span class="st">&quot;teste_emojis_pandoc.pdf&quot;</span>)</span>
<span id="cb90-61"><a href="#cb90-61" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> success:</span>
<span id="cb90-62"><a href="#cb90-62" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">üéâ Convers√£o conclu√≠da com sucesso!&quot;</span>)</span>
<span id="cb90-63"><a href="#cb90-63" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb90-64"><a href="#cb90-64" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">üí• Falha na convers√£o.&quot;</span>)</span></code></pre></div>
<p><strong>Executar</strong>:</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="ex">python</span> converter_pandoc.py</span></code></pre></div>
<hr />
<h3 data-number="1.2.41" id="por-que-o-pandoc-√©-melhor"><span class="header-section-number">1.2.41</span> Por que o Pandoc √©
Melhor?</h3>
<ul>
<li><strong>Suporte a Emojis</strong>: O Pandoc com XeLaTeX ou LuaLaTeX
suporta emojis Unicode modernos e, com <code>Noto Color Emoji</code>,
pode renderizar emojis coloridos (dependendo do visualizador de
PDF).</li>
<li><strong>Leveza</strong>: N√£o depende de engines WebKit ou
navegadores headless, ao contr√°rio do <code>wkhtmltopdf</code>.</li>
<li><strong>Manuten√ß√£o</strong>: O Pandoc √© ativamente mantido, enquanto
o <code>wkhtmltopdf</code> 0.12.6 √© antigo e tem suporte limitado.</li>
<li><strong>Flexibilidade</strong>: Suporta Markdown nativamente, com
extens√µes para tabelas, listas e hifeniza√ß√£o em portugu√™s de Portugal
(<code>pt-PT</code>).</li>
</ul>
<hr />
<h3 data-number="1.2.42" id="solu√ß√£o-de-problemas-adicionais-1"><span class="header-section-number">1.2.42</span> Solu√ß√£o de Problemas
Adicionais</h3>
<p>Se os emojis ainda aparecerem como ret√¢ngulos com o script corrigido
do <code>wkhtmltopdf</code>: 1. <strong>Testar com um Visualizador de
PDF Diferente</strong>: Alguns visualizadores (ex.: Evince) podem n√£o
renderizar emojis corretamente. Use Adobe Acrobat, Chrome ou Edge. 2.
<strong>Simplificar o Arquivo Markdown</strong>: Crie um arquivo de
teste com emojis simples:
<code>markdown    # Teste üòä‚≠ê    - Sorriso üòä    - Estrela ‚≠ê</code>
Converta com: <code>bash    python converter_wkhtml.py</code> Isso ajuda
a isolar se o problema √© com emojis espec√≠ficos. 3. <strong>Verificar
Fontes no Sistema</strong>:
<code>bash    fc-list | grep -i &quot;Noto&quot;</code> Se <code>Noto Sans</code>
ou <code>Noto Color Emoji</code> n√£o aparecerem, reinstale:
<code>bash    pacman -S mingw-w64-x86_64-noto-fonts</code></p>
<hr />
<h3 data-number="1.2.43" id="conclus√£o-1"><span class="header-section-number">1.2.43</span> Conclus√£o</h3>
<p>O erro <code>NameError: name &#39;html_content&#39; is not defined</code> foi
corrigido no script atualizado acima. No entanto, o
<code>wkhtmltopdf</code> 0.12.6 tem limita√ß√µes significativas para
renderizar emojis modernos, o que explica os ret√¢ngulos no PDF. A
solu√ß√£o mais confi√°vel √© usar o <strong>Pandoc com XeLaTeX</strong>:</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pandoc</span> teste_emojis.md <span class="at">-o</span> teste_emojis.pdf <span class="at">--pdf-engine</span><span class="op">=</span>xelatex <span class="at">-V</span> mainfont=<span class="st">&quot;Noto Sans&quot;</span> <span class="at">-V</span> lang=pt-PT</span></code></pre></div>
<p>Ou o script Python com Pandoc fornecido.</p>
<p><strong>Pr√≥ximos Passos</strong>: 1. Teste o script
<code>converter_wkhtml.py</code> corrigido e verifique se os emojis
aparecem. 2. Se os emojis ainda forem ret√¢ngulos, mude para o Pandoc
(comando ou script Python). 3. Se precisar de emojis coloridos, use o
Pandoc com <code>lualatex</code> e <code>Noto Color Emoji</code>.</p>
<p>Se houver mais erros ou os emojis continuarem problem√°ticos,
compartilhe detalhes (ex.: quais emojis falham, visualizador de PDF
usado, sa√≠da de erros) para uma solu√ß√£o mais espec√≠fica! üòä</p>
<hr />
<h3 data-number="1.2.44" id="utilizador-2025-10-28-212945-grok"><span class="header-section-number">1.2.44</span> üë§ Utilizador
<em>(2025-10-28 21:29:45)</em> <em>[Grok]</em></h3>
<p>Corrigindo o Erro no Script converter_wkhtml.py os emojis est√£o a
preto e branco</p>
<hr />
<h3 data-number="1.2.45" id="grok-2025-10-28-213050-grok"><span class="header-section-number">1.2.45</span> ü§ñ Grok <em>(2025-10-28
21:30:50)</em> <em>[Grok]</em></h3>
<p>Agrade√ßo por confirmar que o erro
<code>NameError: name &#39;html_content&#39; is not defined</code> foi resolvido
no script <code>converter_wkhtml.py</code>. No entanto, voc√™ mencionou
que os emojis no arquivo <code>teste_emojis_wkhtml.pdf</code> est√£o
aparecendo a preto e branco, em vez de coloridos, como esperado. Isso √©
uma limita√ß√£o comum do <code>wkhtmltopdf</code> (vers√£o 0.12.6, conforme
indicado anteriormente), pois sua engine WebKit tem suporte limitado
para emojis coloridos. Abaixo, explico por que isso acontece, como
tentar melhorar a renderiza√ß√£o com o <code>wkhtmltopdf</code> e, mais
importante, refor√ßo a recomenda√ß√£o de usar o <strong>Pandoc com
LuaLaTeX</strong>, que suporta emojis coloridos de forma mais robusta no
ambiente MSYS2, mantendo o suporte ao portugu√™s de Portugal.</p>
<hr />
<h3 data-number="1.2.46" id="por-que-os-emojis-est√£o-a-preto-e-branco"><span class="header-section-number">1.2.46</span> Por que os Emojis Est√£o a
Preto e Branco?</h3>
<p>O <code>wkhtmltopdf</code> 0.12.6 usa uma vers√£o antiga do WebKit,
que n√£o suporta totalmente emojis coloridos (como üåà, üçö, üòä) devido √†s
limita√ß√µes na renderiza√ß√£o de fontes modernas, como
<code>Noto Color Emoji</code>. Mesmo que o CSS do script especifique
fontes que suportam emojis coloridos (ex.: <code>Segoe UI Emoji</code>,
<code>Noto Color Emoji</code>), o <code>wkhtmltopdf</code> pode: 1.
Ignorar fontes coloridas e usar uma representa√ß√£o monocrom√°tica. 2. N√£o
carregar corretamente fontes externas ou locais que suportam emojis
coloridos. 3. Depender do visualizador de PDF, que pode n√£o renderizar
emojis coloridos mesmo que estejam presentes no arquivo.</p>
<p>Al√©m disso, o suporte a emojis coloridos requer fontes espec√≠ficas
(como <code>Noto Color Emoji</code>) e um mecanismo de renderiza√ß√£o que
suporte SVG ou camadas de cores, algo que o <code>wkhtmltopdf</code> n√£o
gerencia bem.</p>
<hr />
<h3 data-number="1.2.47" id="solu√ß√£o-1-tentar-melhorar-o-wkhtmltopdf"><span class="header-section-number">1.2.47</span> Solu√ß√£o 1: Tentar Melhorar o
wkhtmltopdf</h3>
<p>Embora o <code>wkhtmltopdf</code> tenha limita√ß√µes, podemos tentar
otimizar o script para maximizar a chance de renderizar emojis coloridos
ou, pelo menos, garantir que os emojis sejam exibidos corretamente
(mesmo que monocrom√°ticos).</p>
<h4 data-number="1.2.47.1" id="atualizar-o-script-para-for√ßar-fontes-coloridas"><span class="header-section-number">1.2.47.1</span> 1. <strong>Atualizar o
Script para For√ßar Fontes Coloridas</strong></h4>
<p>Modifique o script <code>converter_wkhtml.py</code> para usar
explicitamente a fonte <code>Noto Color Emoji</code> e garantir que ela
seja carregada. Aqui est√° a vers√£o atualizada:</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/usr/bin/env python3</span></span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> markdown</span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> subprocess</span>
<span id="cb93-4"><a href="#cb93-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb93-5"><a href="#cb93-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-6"><a href="#cb93-6" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> convert_markdown_to_pdf(md_file, pdf_file):</span>
<span id="cb93-7"><a href="#cb93-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f&quot;üîÑ Convertendo </span><span class="sc">{</span>md_file<span class="sc">}</span><span class="ss"> para PDF com wkhtmltopdf...&quot;</span>)</span>
<span id="cb93-8"><a href="#cb93-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb93-9"><a href="#cb93-9" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Ler Markdown</span></span>
<span id="cb93-10"><a href="#cb93-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">with</span> <span class="bu">open</span>(md_file, <span class="st">&#39;r&#39;</span>, encoding<span class="op">=</span><span class="st">&#39;utf-8&#39;</span>) <span class="im">as</span> f:</span>
<span id="cb93-11"><a href="#cb93-11" aria-hidden="true" tabindex="-1"></a>            markdown_content <span class="op">=</span> f.read()</span>
<span id="cb93-12"><a href="#cb93-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-13"><a href="#cb93-13" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Converter para HTML</span></span>
<span id="cb93-14"><a href="#cb93-14" aria-hidden="true" tabindex="-1"></a>        html_content <span class="op">=</span> markdown.markdown(markdown_content, extensions<span class="op">=</span>[<span class="st">&#39;extra&#39;</span>, <span class="st">&#39;tables&#39;</span>])</span>
<span id="cb93-15"><a href="#cb93-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-16"><a href="#cb93-16" aria-hidden="true" tabindex="-1"></a>        <span class="co"># HTML com estilos</span></span>
<span id="cb93-17"><a href="#cb93-17" aria-hidden="true" tabindex="-1"></a>        full_html <span class="op">=</span> <span class="ss">f&quot;&quot;&quot;</span></span>
<span id="cb93-18"><a href="#cb93-18" aria-hidden="true" tabindex="-1"></a><span class="ss">        &lt;!DOCTYPE html&gt;</span></span>
<span id="cb93-19"><a href="#cb93-19" aria-hidden="true" tabindex="-1"></a><span class="ss">        &lt;html&gt;</span></span>
<span id="cb93-20"><a href="#cb93-20" aria-hidden="true" tabindex="-1"></a><span class="ss">        &lt;head&gt;</span></span>
<span id="cb93-21"><a href="#cb93-21" aria-hidden="true" tabindex="-1"></a><span class="ss">            &lt;meta charset=&quot;UTF-8&quot;&gt;</span></span>
<span id="cb93-22"><a href="#cb93-22" aria-hidden="true" tabindex="-1"></a><span class="ss">            &lt;title&gt;Documento com Emojis&lt;/title&gt;</span></span>
<span id="cb93-23"><a href="#cb93-23" aria-hidden="true" tabindex="-1"></a><span class="ss">            &lt;style&gt;</span></span>
<span id="cb93-24"><a href="#cb93-24" aria-hidden="true" tabindex="-1"></a><span class="ss">                @font-face </span><span class="ch">{{</span></span>
<span id="cb93-25"><a href="#cb93-25" aria-hidden="true" tabindex="-1"></a><span class="ss">                    font-family: &#39;Noto Color Emoji&#39;;</span></span>
<span id="cb93-26"><a href="#cb93-26" aria-hidden="true" tabindex="-1"></a><span class="ss">                    src: url(&#39;https://fonts.googleapis.com/css2?family=Noto+Color+Emoji&amp;display=swap&#39;);</span></span>
<span id="cb93-27"><a href="#cb93-27" aria-hidden="true" tabindex="-1"></a><span class="ss">                </span><span class="ch">}}</span></span>
<span id="cb93-28"><a href="#cb93-28" aria-hidden="true" tabindex="-1"></a><span class="ss">                body </span><span class="ch">{{</span></span>
<span id="cb93-29"><a href="#cb93-29" aria-hidden="true" tabindex="-1"></a><span class="ss">                    font-family: &#39;Noto Color Emoji&#39;, &#39;Segoe UI Emoji&#39;, &#39;Noto Sans&#39;, sans-serif;</span></span>
<span id="cb93-30"><a href="#cb93-30" aria-hidden="true" tabindex="-1"></a><span class="ss">                    line-height: 1.6;</span></span>
<span id="cb93-31"><a href="#cb93-31" aria-hidden="true" tabindex="-1"></a><span class="ss">                    color: #333;</span></span>
<span id="cb93-32"><a href="#cb93-32" aria-hidden="true" tabindex="-1"></a><span class="ss">                    max-width: 800px;</span></span>
<span id="cb93-33"><a href="#cb93-33" aria-hidden="true" tabindex="-1"></a><span class="ss">                    margin: 0 auto;</span></span>
<span id="cb93-34"><a href="#cb93-34" aria-hidden="true" tabindex="-1"></a><span class="ss">                    padding: 40px 20px;</span></span>
<span id="cb93-35"><a href="#cb93-35" aria-hidden="true" tabindex="-1"></a><span class="ss">                </span><span class="ch">}}</span></span>
<span id="cb93-36"><a href="#cb93-36" aria-hidden="true" tabindex="-1"></a><span class="ss">                h1 </span><span class="ch">{{</span></span>
<span id="cb93-37"><a href="#cb93-37" aria-hidden="true" tabindex="-1"></a><span class="ss">                    color: #0052d4;</span></span>
<span id="cb93-38"><a href="#cb93-38" aria-hidden="true" tabindex="-1"></a><span class="ss">                    border-bottom: 3px solid #0052d4;</span></span>
<span id="cb93-39"><a href="#cb93-39" aria-hidden="true" tabindex="-1"></a><span class="ss">                    padding-bottom: 10px;</span></span>
<span id="cb93-40"><a href="#cb93-40" aria-hidden="true" tabindex="-1"></a><span class="ss">                </span><span class="ch">}}</span></span>
<span id="cb93-41"><a href="#cb93-41" aria-hidden="true" tabindex="-1"></a><span class="ss">                table </span><span class="ch">{{</span></span>
<span id="cb93-42"><a href="#cb93-42" aria-hidden="true" tabindex="-1"></a><span class="ss">                    border-collapse: collapse;</span></span>
<span id="cb93-43"><a href="#cb93-43" aria-hidden="true" tabindex="-1"></a><span class="ss">                    width: 100%;</span></span>
<span id="cb93-44"><a href="#cb93-44" aria-hidden="true" tabindex="-1"></a><span class="ss">                    margin: 20px 0;</span></span>
<span id="cb93-45"><a href="#cb93-45" aria-hidden="true" tabindex="-1"></a><span class="ss">                </span><span class="ch">}}</span></span>
<span id="cb93-46"><a href="#cb93-46" aria-hidden="true" tabindex="-1"></a><span class="ss">                th, td </span><span class="ch">{{</span></span>
<span id="cb93-47"><a href="#cb93-47" aria-hidden="true" tabindex="-1"></a><span class="ss">                    border: 1px solid #ddd;</span></span>
<span id="cb93-48"><a href="#cb93-48" aria-hidden="true" tabindex="-1"></a><span class="ss">                    padding: 12px;</span></span>
<span id="cb93-49"><a href="#cb93-49" aria-hidden="true" tabindex="-1"></a><span class="ss">                    text-align: left;</span></span>
<span id="cb93-50"><a href="#cb93-50" aria-hidden="true" tabindex="-1"></a><span class="ss">                </span><span class="ch">}}</span></span>
<span id="cb93-51"><a href="#cb93-51" aria-hidden="true" tabindex="-1"></a><span class="ss">                .emoji-grid </span><span class="ch">{{</span></span>
<span id="cb93-52"><a href="#cb93-52" aria-hidden="true" tabindex="-1"></a><span class="ss">                    font-size: 1.5em;</span></span>
<span id="cb93-53"><a href="#cb93-53" aria-hidden="true" tabindex="-1"></a><span class="ss">                </span><span class="ch">}}</span></span>
<span id="cb93-54"><a href="#cb93-54" aria-hidden="true" tabindex="-1"></a><span class="ss">            &lt;/style&gt;</span></span>
<span id="cb93-55"><a href="#cb93-55" aria-hidden="true" tabindex="-1"></a><span class="ss">        &lt;/head&gt;</span></span>
<span id="cb93-56"><a href="#cb93-56" aria-hidden="true" tabindex="-1"></a><span class="ss">        &lt;body&gt;</span><span class="sc">{</span>html_content<span class="sc">}</span><span class="ss">&lt;/body&gt;</span></span>
<span id="cb93-57"><a href="#cb93-57" aria-hidden="true" tabindex="-1"></a><span class="ss">        &lt;/html&gt;</span></span>
<span id="cb93-58"><a href="#cb93-58" aria-hidden="true" tabindex="-1"></a><span class="ss">        &quot;&quot;&quot;</span></span>
<span id="cb93-59"><a href="#cb93-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-60"><a href="#cb93-60" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Salvar HTML tempor√°rio</span></span>
<span id="cb93-61"><a href="#cb93-61" aria-hidden="true" tabindex="-1"></a>        temp_html <span class="op">=</span> <span class="st">&quot;temp.html&quot;</span></span>
<span id="cb93-62"><a href="#cb93-62" aria-hidden="true" tabindex="-1"></a>        <span class="cf">with</span> <span class="bu">open</span>(temp_html, <span class="st">&#39;w&#39;</span>, encoding<span class="op">=</span><span class="st">&#39;utf-8&#39;</span>) <span class="im">as</span> f:</span>
<span id="cb93-63"><a href="#cb93-63" aria-hidden="true" tabindex="-1"></a>            f.write(full_html)</span>
<span id="cb93-64"><a href="#cb93-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-65"><a href="#cb93-65" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Converter para PDF com wkhtmltopdf</span></span>
<span id="cb93-66"><a href="#cb93-66" aria-hidden="true" tabindex="-1"></a>        subprocess.run([</span>
<span id="cb93-67"><a href="#cb93-67" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;wkhtmltopdf&quot;</span>,</span>
<span id="cb93-68"><a href="#cb93-68" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;--enable-local-file-access&quot;</span>,</span>
<span id="cb93-69"><a href="#cb93-69" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;--dpi&quot;</span>, <span class="st">&quot;300&quot;</span>,</span>
<span id="cb93-70"><a href="#cb93-70" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;--encoding&quot;</span>, <span class="st">&quot;UTF-8&quot;</span>,</span>
<span id="cb93-71"><a href="#cb93-71" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;--javascript-delay&quot;</span>, <span class="st">&quot;1000&quot;</span>,</span>
<span id="cb93-72"><a href="#cb93-72" aria-hidden="true" tabindex="-1"></a>            temp_html,</span>
<span id="cb93-73"><a href="#cb93-73" aria-hidden="true" tabindex="-1"></a>            pdf_file</span>
<span id="cb93-74"><a href="#cb93-74" aria-hidden="true" tabindex="-1"></a>        ], check<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb93-75"><a href="#cb93-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-76"><a href="#cb93-76" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Remover arquivo tempor√°rio</span></span>
<span id="cb93-77"><a href="#cb93-77" aria-hidden="true" tabindex="-1"></a>        os.remove(temp_html)</span>
<span id="cb93-78"><a href="#cb93-78" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;‚úÖ PDF gerado: </span><span class="sc">{</span>pdf_file<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb93-79"><a href="#cb93-79" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;üìä Tamanho do arquivo: </span><span class="sc">{</span>os<span class="sc">.</span>path<span class="sc">.</span>getsize(pdf_file)<span class="sc">}</span><span class="ss"> bytes&quot;</span>)</span>
<span id="cb93-80"><a href="#cb93-80" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">True</span></span>
<span id="cb93-81"><a href="#cb93-81" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">Exception</span> <span class="im">as</span> e:</span>
<span id="cb93-82"><a href="#cb93-82" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;‚ùå Erro durante a convers√£o: </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb93-83"><a href="#cb93-83" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> os.path.exists(temp_html):</span>
<span id="cb93-84"><a href="#cb93-84" aria-hidden="true" tabindex="-1"></a>            os.remove(temp_html)</span>
<span id="cb93-85"><a href="#cb93-85" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">False</span></span>
<span id="cb93-86"><a href="#cb93-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-87"><a href="#cb93-87" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">&quot;__main__&quot;</span>:</span>
<span id="cb93-88"><a href="#cb93-88" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Instalar markdown se necess√°rio</span></span>
<span id="cb93-89"><a href="#cb93-89" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb93-90"><a href="#cb93-90" aria-hidden="true" tabindex="-1"></a>        <span class="im">import</span> markdown</span>
<span id="cb93-91"><a href="#cb93-91" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">ImportError</span>:</span>
<span id="cb93-92"><a href="#cb93-92" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot;üì¶ Instalando pacote markdown...&quot;</span>)</span>
<span id="cb93-93"><a href="#cb93-93" aria-hidden="true" tabindex="-1"></a>        subprocess.check_call([<span class="st">&quot;pip&quot;</span>, <span class="st">&quot;install&quot;</span>, <span class="st">&quot;markdown&quot;</span>])</span>
<span id="cb93-94"><a href="#cb93-94" aria-hidden="true" tabindex="-1"></a>        <span class="im">import</span> markdown</span>
<span id="cb93-95"><a href="#cb93-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-96"><a href="#cb93-96" aria-hidden="true" tabindex="-1"></a>    success <span class="op">=</span> convert_markdown_to_pdf(<span class="st">&quot;teste_emojis.md&quot;</span>, <span class="st">&quot;teste_emojis_wkhtml.pdf&quot;</span>)</span>
<span id="cb93-97"><a href="#cb93-97" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> success:</span>
<span id="cb93-98"><a href="#cb93-98" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">üéâ Convers√£o conclu√≠da com sucesso!&quot;</span>)</span>
<span id="cb93-99"><a href="#cb93-99" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb93-100"><a href="#cb93-100" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">üí• Falha na convers√£o.&quot;</span>)</span></code></pre></div>
<p><strong>Mudan√ßas</strong>: - Adicionada a fonte
<code>Noto Color Emoji</code> via <code>@font-face</code> do Google
Fonts. - Priorizada <code>Noto Color Emoji</code> na lista de fontes do
CSS. - Adicionada a op√ß√£o <code>--javascript-delay 1000</code> para dar
tempo ao <code>wkhtmltopdf</code> carregar fontes externas.</p>
<p><strong>Executar</strong>: 1. Salve o script como
<code>converter_wkhtml.py</code>. 2. Certifique-se de que o
<code>markdown</code> est√° instalado:
<code>bash    pip install markdown</code> 3. Execute:
<code>bash    python converter_wkhtml.py</code></p>
<h4 data-number="1.2.47.2" id="instalar-fontes-locais"><span class="header-section-number">1.2.47.2</span> 2. <strong>Instalar Fontes
Locais</strong></h4>
<p>Se a fonte <code>Noto Color Emoji</code> via Google Fonts n√£o
funcionar (o <code>wkhtmltopdf</code> pode ter problemas com fontes
externas), instale-a localmente:</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-S</span> mingw-w64-x86_64-noto-fonts</span></code></pre></div>
<p>Modifique o CSS para usar a fonte local:</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="im">@font-face</span> {</span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">font-family</span><span class="ch">:</span> <span class="st">&#39;Noto Color Emoji&#39;</span><span class="op">;</span></span>
<span id="cb95-3"><a href="#cb95-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">src</span><span class="ch">:</span> <span class="fu">local(</span><span class="st">&#39;Noto Color Emoji&#39;</span><span class="fu">)</span><span class="op">;</span></span>
<span id="cb95-4"><a href="#cb95-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb95-5"><a href="#cb95-5" aria-hidden="true" tabindex="-1"></a>body {</span>
<span id="cb95-6"><a href="#cb95-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">font-family</span><span class="ch">:</span> <span class="st">&#39;Noto Color Emoji&#39;</span><span class="op">,</span> <span class="st">&#39;Segoe UI Emoji&#39;</span><span class="op">,</span> <span class="dv">sans-serif</span><span class="op">;</span></span>
<span id="cb95-7"><a href="#cb95-7" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<h4 data-number="1.2.47.3" id="testar-o-visualizador-de-pdf"><span class="header-section-number">1.2.47.3</span> 3. <strong>Testar o
Visualizador de PDF</strong></h4>
<p>O suporte a emojis coloridos depende do visualizador de PDF: -
<strong>Recomendados</strong>: Adobe Acrobat, Google Chrome, Microsoft
Edge. - <strong>N√£o recomendados</strong>: Evince ou outros
visualizadores que n√£o suportam camadas de cores ou SVG. Abra o arquivo
<code>teste_emojis_wkhtml.pdf</code> em um visualizador compat√≠vel e
verifique se os emojis (ex.: üåà, üçö, üòä) aparecem coloridos.</p>
<h4 data-number="1.2.47.4" id="limita√ß√µes-do-wkhtmltopdf-1"><span class="header-section-number">1.2.47.4</span> 4. <strong>Limita√ß√µes do
wkhtmltopdf</strong></h4>
<p>O <code>wkhtmltopdf</code> 0.12.6 tem suporte limitado a emojis
coloridos devido √† sua engine WebKit desatualizada. Mesmo com as
altera√ß√µes acima, √© prov√°vel que os emojis permane√ßam monocrom√°ticos. Se
isso persistir, o <code>wkhtmltopdf</code> n√£o √© a melhor ferramenta
para seu caso.</p>
<hr />
<h3 data-number="1.2.48" id="solu√ß√£o-2-pandoc-com-lualatex-recomendado-para-emojis-coloridos"><span class="header-section-number">1.2.48</span> Solu√ß√£o 2: Pandoc com
LuaLaTeX (Recomendado para Emojis Coloridos)</h3>
<p>O <strong>Pandoc com LuaLaTeX</strong> √© a solu√ß√£o mais confi√°vel
para renderizar emojis coloridos em PDFs, pois suporta fontes modernas
como <code>Noto Color Emoji</code> e usa um motor de renderiza√ß√£o
(LuaLaTeX) que lida bem com emojis Unicode e camadas de cores.</p>
<h4 data-number="1.2.48.1" id="instalar-depend√™ncias-2"><span class="header-section-number">1.2.48.1</span> 1. <strong>Instalar
Depend√™ncias</strong></h4>
<p>Certifique-se de que o Pandoc e o TeX Live est√£o instalados no
MSYS2:</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-S</span> mingw-w64-x86_64-texlive-core mingw-w64-x86_64-texlive-fonts-extra mingw-w64-x86_64-texlive-lang-portuguese</span></code></pre></div>
<p>Se o Pandoc n√£o estiver no reposit√≥rio, instale via instalador MSI do
<a href="https://pandoc.org/installing.html">site oficial</a> e adicione
ao PATH:</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">PATH</span><span class="op">=</span><span class="st">&quot;</span><span class="va">$PATH</span><span class="st">:/c/Users/[seu_usuario]/AppData/Local/Pandoc&quot;</span></span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a><span class="bu">source</span> ~/.bashrc</span></code></pre></div>
<h4 data-number="1.2.48.2" id="converter-com-pandoc-2"><span class="header-section-number">1.2.48.2</span> 2. <strong>Converter com
Pandoc</strong></h4>
<p>Use este comando para gerar um PDF com emojis coloridos:</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pandoc</span> teste_emojis.md <span class="at">-o</span> teste_emojis.pdf <span class="at">--pdf-engine</span><span class="op">=</span>lualatex <span class="at">-V</span> mainfont=<span class="st">&quot;Noto Color Emoji&quot;</span> <span class="at">-V</span> lang=pt-PT</span></code></pre></div>
<ul>
<li><strong>Nota</strong>: O motor <code>lualatex</code> √© necess√°rio
para emojis coloridos, pois suporta fontes com camadas SVG (como
<code>Noto Color Emoji</code>). O <code>xelatex</code> pode renderizar
emojis, mas geralmente em preto e branco.</li>
</ul>
<h4 data-number="1.2.48.3" id="adicionar-estiliza√ß√£o-1"><span class="header-section-number">1.2.48.3</span> 3. <strong>Adicionar
Estiliza√ß√£o</strong></h4>
<p>Para replicar o estilo do seu script, crie um arquivo
<code>estilos.css</code>:</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>body {</span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">font-family</span><span class="ch">:</span> <span class="st">&quot;Noto Color Emoji&quot;</span><span class="op">,</span> <span class="st">&quot;Noto Sans&quot;</span><span class="op">,</span> <span class="st">&quot;Segoe UI Emoji&quot;</span><span class="op">,</span> <span class="dv">sans-serif</span><span class="op">;</span></span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">line-height</span><span class="ch">:</span> <span class="dv">1.6</span><span class="op">;</span></span>
<span id="cb99-4"><a href="#cb99-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">color</span><span class="ch">:</span> <span class="cn">#333</span><span class="op">;</span></span>
<span id="cb99-5"><a href="#cb99-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">max-width</span><span class="ch">:</span> <span class="dv">800</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb99-6"><a href="#cb99-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span> <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb99-7"><a href="#cb99-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">padding</span><span class="ch">:</span> <span class="dv">40</span><span class="dt">px</span> <span class="dv">20</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb99-8"><a href="#cb99-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb99-9"><a href="#cb99-9" aria-hidden="true" tabindex="-1"></a>h1 {</span>
<span id="cb99-10"><a href="#cb99-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">color</span><span class="ch">:</span> <span class="cn">#0052d4</span><span class="op">;</span></span>
<span id="cb99-11"><a href="#cb99-11" aria-hidden="true" tabindex="-1"></a>    <span class="kw">border-bottom</span><span class="ch">:</span> <span class="dv">3</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#0052d4</span><span class="op">;</span></span>
<span id="cb99-12"><a href="#cb99-12" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb99-13"><a href="#cb99-13" aria-hidden="true" tabindex="-1"></a>table {</span>
<span id="cb99-14"><a href="#cb99-14" aria-hidden="true" tabindex="-1"></a>    <span class="kw">border-collapse</span><span class="ch">:</span> <span class="dv">collapse</span><span class="op">;</span></span>
<span id="cb99-15"><a href="#cb99-15" aria-hidden="true" tabindex="-1"></a>    <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb99-16"><a href="#cb99-16" aria-hidden="true" tabindex="-1"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">20</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb99-17"><a href="#cb99-17" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb99-18"><a href="#cb99-18" aria-hidden="true" tabindex="-1"></a>th<span class="op">,</span> td {</span>
<span id="cb99-19"><a href="#cb99-19" aria-hidden="true" tabindex="-1"></a>    <span class="kw">border</span><span class="ch">:</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#ddd</span><span class="op">;</span></span>
<span id="cb99-20"><a href="#cb99-20" aria-hidden="true" tabindex="-1"></a>    <span class="kw">padding</span><span class="ch">:</span> <span class="dv">12</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb99-21"><a href="#cb99-21" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb99-22"><a href="#cb99-22" aria-hidden="true" tabindex="-1"></a><span class="fu">.emoji-grid</span> {</span>
<span id="cb99-23"><a href="#cb99-23" aria-hidden="true" tabindex="-1"></a>    <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">1.5</span><span class="dt">em</span><span class="op">;</span></span>
<span id="cb99-24"><a href="#cb99-24" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Use com:</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pandoc</span> teste_emojis.md <span class="at">-o</span> teste_emojis.pdf <span class="at">--pdf-engine</span><span class="op">=</span>lualatex <span class="at">-V</span> mainfont=<span class="st">&quot;Noto Color Emoji&quot;</span> <span class="at">-V</span> lang=pt-PT <span class="at">--css</span><span class="op">=</span>estilos.css</span></code></pre></div>
<h4 data-number="1.2.48.4" id="script-python-com-pandoc-2"><span class="header-section-number">1.2.48.4</span> 4. <strong>Script Python
com Pandoc</strong></h4>
<p>Se preferir usar Python, aqui est√° um script que usa o Pandoc para
gerar PDFs com emojis coloridos:</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/usr/bin/env python3</span></span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> subprocess</span>
<span id="cb101-3"><a href="#cb101-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb101-4"><a href="#cb101-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-5"><a href="#cb101-5" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> convert_markdown_to_pdf(md_file, pdf_file):</span>
<span id="cb101-6"><a href="#cb101-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f&quot;üîÑ Convertendo </span><span class="sc">{</span>md_file<span class="sc">}</span><span class="ss"> para PDF com Pandoc...&quot;</span>)</span>
<span id="cb101-7"><a href="#cb101-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb101-8"><a href="#cb101-8" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Criar arquivo CSS</span></span>
<span id="cb101-9"><a href="#cb101-9" aria-hidden="true" tabindex="-1"></a>        css_content <span class="op">=</span> <span class="st">&quot;&quot;&quot;</span></span>
<span id="cb101-10"><a href="#cb101-10" aria-hidden="true" tabindex="-1"></a><span class="st">        body {</span></span>
<span id="cb101-11"><a href="#cb101-11" aria-hidden="true" tabindex="-1"></a><span class="st">            font-family: &quot;Noto Color Emoji&quot;, &quot;Noto Sans&quot;, &quot;Segoe UI Emoji&quot;, sans-serif;</span></span>
<span id="cb101-12"><a href="#cb101-12" aria-hidden="true" tabindex="-1"></a><span class="st">            line-height: 1.6;</span></span>
<span id="cb101-13"><a href="#cb101-13" aria-hidden="true" tabindex="-1"></a><span class="st">            color: #333;</span></span>
<span id="cb101-14"><a href="#cb101-14" aria-hidden="true" tabindex="-1"></a><span class="st">            max-width: 800px;</span></span>
<span id="cb101-15"><a href="#cb101-15" aria-hidden="true" tabindex="-1"></a><span class="st">            margin: 0 auto;</span></span>
<span id="cb101-16"><a href="#cb101-16" aria-hidden="true" tabindex="-1"></a><span class="st">            padding: 40px 20px;</span></span>
<span id="cb101-17"><a href="#cb101-17" aria-hidden="true" tabindex="-1"></a><span class="st">        }</span></span>
<span id="cb101-18"><a href="#cb101-18" aria-hidden="true" tabindex="-1"></a><span class="st">        h1 {</span></span>
<span id="cb101-19"><a href="#cb101-19" aria-hidden="true" tabindex="-1"></a><span class="st">            color: #0052d4;</span></span>
<span id="cb101-20"><a href="#cb101-20" aria-hidden="true" tabindex="-1"></a><span class="st">            border-bottom: 3px solid #0052d4;</span></span>
<span id="cb101-21"><a href="#cb101-21" aria-hidden="true" tabindex="-1"></a><span class="st">        }</span></span>
<span id="cb101-22"><a href="#cb101-22" aria-hidden="true" tabindex="-1"></a><span class="st">        table {</span></span>
<span id="cb101-23"><a href="#cb101-23" aria-hidden="true" tabindex="-1"></a><span class="st">            border-collapse: collapse;</span></span>
<span id="cb101-24"><a href="#cb101-24" aria-hidden="true" tabindex="-1"></a><span class="st">            width: 100%;</span></span>
<span id="cb101-25"><a href="#cb101-25" aria-hidden="true" tabindex="-1"></a><span class="st">            margin: 20px 0;</span></span>
<span id="cb101-26"><a href="#cb101-26" aria-hidden="true" tabindex="-1"></a><span class="st">        }</span></span>
<span id="cb101-27"><a href="#cb101-27" aria-hidden="true" tabindex="-1"></a><span class="st">        th, td {</span></span>
<span id="cb101-28"><a href="#cb101-28" aria-hidden="true" tabindex="-1"></a><span class="st">            border: 1px solid #ddd;</span></span>
<span id="cb101-29"><a href="#cb101-29" aria-hidden="true" tabindex="-1"></a><span class="st">            padding: 12px;</span></span>
<span id="cb101-30"><a href="#cb101-30" aria-hidden="true" tabindex="-1"></a><span class="st">        }</span></span>
<span id="cb101-31"><a href="#cb101-31" aria-hidden="true" tabindex="-1"></a><span class="st">        .emoji-grid {</span></span>
<span id="cb101-32"><a href="#cb101-32" aria-hidden="true" tabindex="-1"></a><span class="st">            font-size: 1.5em;</span></span>
<span id="cb101-33"><a href="#cb101-33" aria-hidden="true" tabindex="-1"></a><span class="st">        }</span></span>
<span id="cb101-34"><a href="#cb101-34" aria-hidden="true" tabindex="-1"></a><span class="st">        &quot;&quot;&quot;</span></span>
<span id="cb101-35"><a href="#cb101-35" aria-hidden="true" tabindex="-1"></a>        <span class="cf">with</span> <span class="bu">open</span>(<span class="st">&quot;estilos.css&quot;</span>, <span class="st">&quot;w&quot;</span>, encoding<span class="op">=</span><span class="st">&quot;utf-8&quot;</span>) <span class="im">as</span> f:</span>
<span id="cb101-36"><a href="#cb101-36" aria-hidden="true" tabindex="-1"></a>            f.write(css_content)</span>
<span id="cb101-37"><a href="#cb101-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-38"><a href="#cb101-38" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Comando Pandoc</span></span>
<span id="cb101-39"><a href="#cb101-39" aria-hidden="true" tabindex="-1"></a>        cmd <span class="op">=</span> [</span>
<span id="cb101-40"><a href="#cb101-40" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;pandoc&quot;</span>,</span>
<span id="cb101-41"><a href="#cb101-41" aria-hidden="true" tabindex="-1"></a>            md_file,</span>
<span id="cb101-42"><a href="#cb101-42" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;-o&quot;</span>, pdf_file,</span>
<span id="cb101-43"><a href="#cb101-43" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;--pdf-engine=lualatex&quot;</span>,</span>
<span id="cb101-44"><a href="#cb101-44" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;-V&quot;</span>, <span class="st">&quot;mainfont=Noto Color Emoji&quot;</span>,</span>
<span id="cb101-45"><a href="#cb101-45" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;-V&quot;</span>, <span class="st">&quot;lang=pt-PT&quot;</span>,</span>
<span id="cb101-46"><a href="#cb101-46" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;--css=estilos.css&quot;</span></span>
<span id="cb101-47"><a href="#cb101-47" aria-hidden="true" tabindex="-1"></a>        ]</span>
<span id="cb101-48"><a href="#cb101-48" aria-hidden="true" tabindex="-1"></a>        subprocess.run(cmd, check<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb101-49"><a href="#cb101-49" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;‚úÖ PDF gerado: </span><span class="sc">{</span>pdf_file<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb101-50"><a href="#cb101-50" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;üìä Tamanho do arquivo: </span><span class="sc">{</span>os<span class="sc">.</span>path<span class="sc">.</span>getsize(pdf_file)<span class="sc">}</span><span class="ss"> bytes&quot;</span>)</span>
<span id="cb101-51"><a href="#cb101-51" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">True</span></span>
<span id="cb101-52"><a href="#cb101-52" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">Exception</span> <span class="im">as</span> e:</span>
<span id="cb101-53"><a href="#cb101-53" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;‚ùå Erro durante a convers√£o: </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb101-54"><a href="#cb101-54" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">False</span></span>
<span id="cb101-55"><a href="#cb101-55" aria-hidden="true" tabindex="-1"></a>    <span class="cf">finally</span>:</span>
<span id="cb101-56"><a href="#cb101-56" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> os.path.exists(<span class="st">&quot;estilos.css&quot;</span>):</span>
<span id="cb101-57"><a href="#cb101-57" aria-hidden="true" tabindex="-1"></a>            os.remove(<span class="st">&quot;estilos.css&quot;</span>)</span>
<span id="cb101-58"><a href="#cb101-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb101-59"><a href="#cb101-59" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">&quot;__main__&quot;</span>:</span>
<span id="cb101-60"><a href="#cb101-60" aria-hidden="true" tabindex="-1"></a>    success <span class="op">=</span> convert_markdown_to_pdf(<span class="st">&quot;teste_emojis.md&quot;</span>, <span class="st">&quot;teste_emojis_pandoc.pdf&quot;</span>)</span>
<span id="cb101-61"><a href="#cb101-61" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> success:</span>
<span id="cb101-62"><a href="#cb101-62" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">üéâ Convers√£o conclu√≠da com sucesso!&quot;</span>)</span>
<span id="cb101-63"><a href="#cb101-63" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb101-64"><a href="#cb101-64" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">üí• Falha na convers√£o.&quot;</span>)</span></code></pre></div>
<p><strong>Executar</strong>:</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="ex">python</span> converter_pandoc.py</span></code></pre></div>
<h4 data-number="1.2.48.5" id="verificar-o-resultado-1"><span class="header-section-number">1.2.48.5</span> 5. <strong>Verificar o
Resultado</strong></h4>
<p>Abra o arquivo <code>teste_emojis_pandoc.pdf</code> em um
visualizador de PDF que suporte emojis coloridos (ex.: Adobe Acrobat,
Chrome, Edge). Confirme que os emojis (ex.: üåà, üçö, üòä) aparecem
coloridos e que o texto em portugu√™s de Portugal est√° formatado
corretamente.</p>
<hr />
<h3 data-number="1.2.49" id="solu√ß√£o-3-weasyprint"><span class="header-section-number">1.2.49</span> Solu√ß√£o 3: WeasyPrint</h3>
<p>Se preferir uma solu√ß√£o baseada em Python que suporte emojis
coloridos, o <strong>WeasyPrint</strong> √© uma alternativa melhor que o
<code>wkhtmltopdf</code>, pois usa uma engine mais moderna e suporta
fontes com emojis coloridos.</p>
<h4 data-number="1.2.49.1" id="instalar-weasyprint-1"><span class="header-section-number">1.2.49.1</span> 1. <strong>Instalar
WeasyPrint</strong></h4>
<p>No MSYS2:</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-S</span> mingw-w64-x86_64-python mingw-w64-x86_64-python-pip mingw-w64-x86_64-gtk3</span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a><span class="ex">pip</span> install weasyprint markdown</span></code></pre></div>
<h4 data-number="1.2.49.2" id="script-com-weasyprint-1"><span class="header-section-number">1.2.49.2</span> 2. <strong>Script com
WeasyPrint</strong></h4>
<div class="sourceCode" id="cb104"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/usr/bin/env python3</span></span>
<span id="cb104-2"><a href="#cb104-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> markdown</span>
<span id="cb104-3"><a href="#cb104-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> weasyprint <span class="im">import</span> HTML, CSS</span>
<span id="cb104-4"><a href="#cb104-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb104-5"><a href="#cb104-5" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> convert_markdown_to_pdf(md_file, pdf_file):</span>
<span id="cb104-6"><a href="#cb104-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f&quot;üîÑ Convertendo </span><span class="sc">{</span>md_file<span class="sc">}</span><span class="ss"> para PDF com WeasyPrint...&quot;</span>)</span>
<span id="cb104-7"><a href="#cb104-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb104-8"><a href="#cb104-8" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Ler Markdown</span></span>
<span id="cb104-9"><a href="#cb104-9" aria-hidden="true" tabindex="-1"></a>        <span class="cf">with</span> <span class="bu">open</span>(md_file, <span class="st">&#39;r&#39;</span>, encoding<span class="op">=</span><span class="st">&#39;utf-8&#39;</span>) <span class="im">as</span> f:</span>
<span id="cb104-10"><a href="#cb104-10" aria-hidden="true" tabindex="-1"></a>            markdown_content <span class="op">=</span> f.read()</span>
<span id="cb104-11"><a href="#cb104-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb104-12"><a href="#cb104-12" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Converter para HTML</span></span>
<span id="cb104-13"><a href="#cb104-13" aria-hidden="true" tabindex="-1"></a>        html_content <span class="op">=</span> markdown.markdown(markdown_content, extensions<span class="op">=</span>[<span class="st">&#39;extra&#39;</span>, <span class="st">&#39;tables&#39;</span>])</span>
<span id="cb104-14"><a href="#cb104-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb104-15"><a href="#cb104-15" aria-hidden="true" tabindex="-1"></a>        <span class="co"># HTML com estilos</span></span>
<span id="cb104-16"><a href="#cb104-16" aria-hidden="true" tabindex="-1"></a>        full_html <span class="op">=</span> <span class="ss">f&quot;&quot;&quot;</span></span>
<span id="cb104-17"><a href="#cb104-17" aria-hidden="true" tabindex="-1"></a><span class="ss">        &lt;!DOCTYPE html&gt;</span></span>
<span id="cb104-18"><a href="#cb104-18" aria-hidden="true" tabindex="-1"></a><span class="ss">        &lt;html&gt;</span></span>
<span id="cb104-19"><a href="#cb104-19" aria-hidden="true" tabindex="-1"></a><span class="ss">        &lt;head&gt;</span></span>
<span id="cb104-20"><a href="#cb104-20" aria-hidden="true" tabindex="-1"></a><span class="ss">            &lt;meta charset=&quot;UTF-8&quot;&gt;</span></span>
<span id="cb104-21"><a href="#cb104-21" aria-hidden="true" tabindex="-1"></a><span class="ss">            &lt;title&gt;Documento com Emojis&lt;/title&gt;</span></span>
<span id="cb104-22"><a href="#cb104-22" aria-hidden="true" tabindex="-1"></a><span class="ss">            &lt;style&gt;</span></span>
<span id="cb104-23"><a href="#cb104-23" aria-hidden="true" tabindex="-1"></a><span class="ss">                @font-face </span><span class="ch">{{</span></span>
<span id="cb104-24"><a href="#cb104-24" aria-hidden="true" tabindex="-1"></a><span class="ss">                    font-family: &#39;Noto Color Emoji&#39;;</span></span>
<span id="cb104-25"><a href="#cb104-25" aria-hidden="true" tabindex="-1"></a><span class="ss">                    src: url(&#39;https://fonts.googleapis.com/css2?family=Noto+Color+Emoji&amp;display=swap&#39;);</span></span>
<span id="cb104-26"><a href="#cb104-26" aria-hidden="true" tabindex="-1"></a><span class="ss">                </span><span class="ch">}}</span></span>
<span id="cb104-27"><a href="#cb104-27" aria-hidden="true" tabindex="-1"></a><span class="ss">                body </span><span class="ch">{{</span></span>
<span id="cb104-28"><a href="#cb104-28" aria-hidden="true" tabindex="-1"></a><span class="ss">                    font-family: &#39;Noto Color Emoji&#39;, &#39;Segoe UI Emoji&#39;, &#39;Noto Sans&#39;, sans-serif;</span></span>
<span id="cb104-29"><a href="#cb104-29" aria-hidden="true" tabindex="-1"></a><span class="ss">                    line-height: 1.6;</span></span>
<span id="cb104-30"><a href="#cb104-30" aria-hidden="true" tabindex="-1"></a><span class="ss">                    color: #333;</span></span>
<span id="cb104-31"><a href="#cb104-31" aria-hidden="true" tabindex="-1"></a><span class="ss">                    max-width: 800px;</span></span>
<span id="cb104-32"><a href="#cb104-32" aria-hidden="true" tabindex="-1"></a><span class="ss">                    margin: 0 auto;</span></span>
<span id="cb104-33"><a href="#cb104-33" aria-hidden="true" tabindex="-1"></a><span class="ss">                    padding: 40px 20px;</span></span>
<span id="cb104-34"><a href="#cb104-34" aria-hidden="true" tabindex="-1"></a><span class="ss">                </span><span class="ch">}}</span></span>
<span id="cb104-35"><a href="#cb104-35" aria-hidden="true" tabindex="-1"></a><span class="ss">                h1 </span><span class="ch">{{</span></span>
<span id="cb104-36"><a href="#cb104-36" aria-hidden="true" tabindex="-1"></a><span class="ss">                    color: #0052d4;</span></span>
<span id="cb104-37"><a href="#cb104-37" aria-hidden="true" tabindex="-1"></a><span class="ss">                    border-bottom: 3px solid #0052d4;</span></span>
<span id="cb104-38"><a href="#cb104-38" aria-hidden="true" tabindex="-1"></a><span class="ss">                </span><span class="ch">}}</span></span>
<span id="cb104-39"><a href="#cb104-39" aria-hidden="true" tabindex="-1"></a><span class="ss">                table </span><span class="ch">{{</span></span>
<span id="cb104-40"><a href="#cb104-40" aria-hidden="true" tabindex="-1"></a><span class="ss">                    border-collapse: collapse;</span></span>
<span id="cb104-41"><a href="#cb104-41" aria-hidden="true" tabindex="-1"></a><span class="ss">                    width: 100%;</span></span>
<span id="cb104-42"><a href="#cb104-42" aria-hidden="true" tabindex="-1"></a><span class="ss">                    margin: 20px 0;</span></span>
<span id="cb104-43"><a href="#cb104-43" aria-hidden="true" tabindex="-1"></a><span class="ss">                </span><span class="ch">}}</span></span>
<span id="cb104-44"><a href="#cb104-44" aria-hidden="true" tabindex="-1"></a><span class="ss">                th, td </span><span class="ch">{{</span></span>
<span id="cb104-45"><a href="#cb104-45" aria-hidden="true" tabindex="-1"></a><span class="ss">                    border: 1px solid #ddd;</span></span>
<span id="cb104-46"><a href="#cb104-46" aria-hidden="true" tabindex="-1"></a><span class="ss">                    padding: 12px;</span></span>
<span id="cb104-47"><a href="#cb104-47" aria-hidden="true" tabindex="-1"></a><span class="ss">                </span><span class="ch">}}</span></span>
<span id="cb104-48"><a href="#cb104-48" aria-hidden="true" tabindex="-1"></a><span class="ss">                .emoji-grid </span><span class="ch">{{</span></span>
<span id="cb104-49"><a href="#cb104-49" aria-hidden="true" tabindex="-1"></a><span class="ss">                    font-size: 1.5em;</span></span>
<span id="cb104-50"><a href="#cb104-50" aria-hidden="true" tabindex="-1"></a><span class="ss">                </span><span class="ch">}}</span></span>
<span id="cb104-51"><a href="#cb104-51" aria-hidden="true" tabindex="-1"></a><span class="ss">            &lt;/style&gt;</span></span>
<span id="cb104-52"><a href="#cb104-52" aria-hidden="true" tabindex="-1"></a><span class="ss">        &lt;/head&gt;</span></span>
<span id="cb104-53"><a href="#cb104-53" aria-hidden="true" tabindex="-1"></a><span class="ss">        &lt;body&gt;</span><span class="sc">{</span>html_content<span class="sc">}</span><span class="ss">&lt;/body&gt;</span></span>
<span id="cb104-54"><a href="#cb104-54" aria-hidden="true" tabindex="-1"></a><span class="ss">        &lt;/html&gt;</span></span>
<span id="cb104-55"><a href="#cb104-55" aria-hidden="true" tabindex="-1"></a><span class="ss">        &quot;&quot;&quot;</span></span>
<span id="cb104-56"><a href="#cb104-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb104-57"><a href="#cb104-57" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Converter para PDF</span></span>
<span id="cb104-58"><a href="#cb104-58" aria-hidden="true" tabindex="-1"></a>        HTML(string<span class="op">=</span>full_html).write_pdf(pdf_file)</span>
<span id="cb104-59"><a href="#cb104-59" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;‚úÖ PDF gerado: </span><span class="sc">{</span>pdf_file<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb104-60"><a href="#cb104-60" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;üìä Tamanho do arquivo: </span><span class="sc">{</span>os<span class="sc">.</span>path<span class="sc">.</span>getsize(pdf_file)<span class="sc">}</span><span class="ss"> bytes&quot;</span>)</span>
<span id="cb104-61"><a href="#cb104-61" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">True</span></span>
<span id="cb104-62"><a href="#cb104-62" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">Exception</span> <span class="im">as</span> e:</span>
<span id="cb104-63"><a href="#cb104-63" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;‚ùå Erro durante a convers√£o: </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb104-64"><a href="#cb104-64" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">False</span></span>
<span id="cb104-65"><a href="#cb104-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb104-66"><a href="#cb104-66" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">&quot;__main__&quot;</span>:</span>
<span id="cb104-67"><a href="#cb104-67" aria-hidden="true" tabindex="-1"></a>    success <span class="op">=</span> convert_markdown_to_pdf(<span class="st">&quot;teste_emojis.md&quot;</span>, <span class="st">&quot;teste_emojis_weasy.pdf&quot;</span>)</span>
<span id="cb104-68"><a href="#cb104-68" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> success:</span>
<span id="cb104-69"><a href="#cb104-69" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">üéâ Convers√£o conclu√≠da com sucesso!&quot;</span>)</span>
<span id="cb104-70"><a href="#cb104-70" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb104-71"><a href="#cb104-71" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">üí• Falha na convers√£o.&quot;</span>)</span></code></pre></div>
<p><strong>Executar</strong>:</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="ex">python</span> converter_weasy.py</span></code></pre></div>
<hr />
<h3 data-number="1.2.50" id="recomenda√ß√£o-final"><span class="header-section-number">1.2.50</span> Recomenda√ß√£o Final</h3>
<p>O <code>wkhtmltopdf</code> 0.12.6 √© limitado para renderizar emojis
coloridos devido √† sua engine WebKit desatualizada. Mesmo com as
otimiza√ß√µes sugeridas, √© prov√°vel que os emojis permane√ßam
monocrom√°ticos. A melhor solu√ß√£o √© usar o <strong>Pandoc com
LuaLaTeX</strong>, que suporta emojis coloridos com a fonte
<code>Noto Color Emoji</code> e √© mais simples, leve e confi√°vel.</p>
<p><strong>Comando recomendado</strong>:</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pandoc</span> teste_emojis.md <span class="at">-o</span> teste_emojis.pdf <span class="at">--pdf-engine</span><span class="op">=</span>lualatex <span class="at">-V</span> mainfont=<span class="st">&quot;Noto Color Emoji&quot;</span> <span class="at">-V</span> lang=pt-PT</span></code></pre></div>
<p><strong>Por que Pandoc?</strong> - Suporta emojis coloridos com
<code>lualatex</code> e <code>Noto Color Emoji</code>. - N√£o depende de
engines desatualizadas como o WebKit. - Integra-se bem com o MSYS2 e
suporta portugu√™s de Portugal (<code>pt-PT</code>). - Menos depend√™ncias
e configura√ß√£o que o <code>wkhtmltopdf</code> ou WeasyPrint.</p>
<p><strong>Pr√≥ximos Passos</strong>: 1. Teste o script
<code>converter_wkhtml.py</code> atualizado e verifique se os emojis
aparecem (mesmo que monocrom√°ticos). 2. Execute o comando Pandoc com
<code>lualatex</code> para emojis coloridos. 3. Se preferir Python, use
o script com Pandoc ou WeasyPrint. 4. Abra o PDF em Adobe Acrobat,
Chrome ou Edge para confirmar os emojis coloridos.</p>
<p>Se os emojis ainda n√£o aparecerem coloridos ou houver outros
problemas, compartilhe detalhes (ex.: visualizador de PDF usado, emojis
espec√≠ficos que falham, erros adicionais) para uma solu√ß√£o mais
direcionada! üòä</p>
<hr />
<h3 data-number="1.2.51" id="utilizador-2025-10-28-213440-grok"><span class="header-section-number">1.2.51</span> üë§ Utilizador
<em>(2025-10-28 21:34:40)</em> <em>[Grok]</em></h3>
<p><a href="mailto:mpmen@MM04" class="email">mpmen@MM04</a> MINGW64
/d/Downloads/<em>DOCS</em>/<em>DOCS</em>/Teste_emojis_msys2 # python
converter_pandoc.py üîÑ Convertendo teste_emojis.md para PDF com Pandoc‚Ä¶
Error producing PDF. ! error: (file
c:/msys64/mingw64/share/texmf-dist/fonts/truetype/google/noto-em
oji/notocoloremoji.ttf) (ttf): loca table not found ! ==&gt; Fatal error
occurred, no output PDF file produced!</p>
<p>‚ùå Erro durante a convers√£o: Command ‚Äò[‚Äôpandoc‚Äô, ‚Äôteste_emojis.md‚Äô,
‚Äô-o‚Äô, ‚Äôteste_emojis_pandoc.pdf‚Äô, ‚Äô‚Äìpdf-engine=lualatex‚Äô, ‚Äô-V‚Äô,
‚Äômainfont=Noto Color Emoji‚Äô, ‚Äô-V‚Äô, ‚Äôlang=pt-PT‚Äô, ‚Äô‚Äìcss=estilos.css‚Äô]‚Äô
returned non-zero exit status 43.</p>
<p>üí• Falha na convers√£o.</p>
<hr />
<h3 data-number="1.2.52" id="grok-2025-10-28-213538-grok"><span class="header-section-number">1.2.52</span> ü§ñ Grok <em>(2025-10-28
21:35:38)</em> <em>[Grok]</em></h3>
<p>O erro que voc√™ est√° enfrentando ao executar o script
<code>converter_pandoc.py</code> indica que o Pandoc, ao usar o motor
<code>lualatex</code>, n√£o conseguiu gerar o PDF devido a um problema
com a fonte <code>Noto Color Emoji</code>. A mensagem de erro espec√≠fica
(<code>loca table not found</code> em <code>notocoloremoji.ttf</code>)
sugere que a fonte <code>Noto Color Emoji</code> instalada no seu
sistema (via TeX Live no MSYS2) est√° corrompida, desatualizada ou n√£o √©
compat√≠vel com o <code>lualatex</code>. Isso impede a renderiza√ß√£o
correta dos emojis coloridos no arquivo
<code>teste_emojis_pandoc.pdf</code>. Vou gui√°-lo para corrigir esse
erro e garantir que os emojis (coloridos ou n√£o) sejam renderizados
corretamente no PDF, mantendo o suporte ao portugu√™s de Portugal no
ambiente MSYS2.</p>
<hr />
<h3 data-number="1.2.53" id="diagn√≥stico-do-erro-1"><span class="header-section-number">1.2.53</span> Diagn√≥stico do Erro</h3>
<p>O erro ocorre no comando:</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pandoc</span> teste_emojis.md <span class="at">-o</span> teste_emojis_pandoc.pdf <span class="at">--pdf-engine</span><span class="op">=</span>lualatex <span class="at">-V</span> mainfont=<span class="st">&quot;Noto Color Emoji&quot;</span> <span class="at">-V</span> lang=pt-PT <span class="at">--css</span><span class="op">=</span>estilos.css</span></code></pre></div>
<ul>
<li><strong>Causa principal</strong>: O arquivo
<code>notocoloremoji.ttf</code> (fonte <code>Noto Color Emoji</code>) no
TeX Live do MSYS2 est√° com um problema no formato da tabela
<code>loca</code>, que √© essencial para fontes TrueType. Isso pode ser
devido a:
<ul>
<li>Uma vers√£o corrompida ou desatualizada da fonte no pacote
<code>texlive-fonts-extra</code>.</li>
<li>Incompatibilidade entre a fonte e o motor
<code>lualatex</code>.</li>
<li>Configura√ß√£o incorreta do TeX Live no MSYS2.</li>
</ul></li>
<li><strong>Impacto</strong>: O <code>lualatex</code> falha ao processar
a fonte, resultando em nenhum PDF gerado
(<code>no output PDF file produced</code>).</li>
<li><strong>Status do wkhtmltopdf</strong>: Voc√™ mencionou que o script
<code>converter_wkhtml.py</code> funciona, mas os emojis aparecem em
preto e branco, o que √© esperado devido √†s limita√ß√µes do
<code>wkhtmltopdf</code> 0.12.6.</li>
</ul>
<hr />
<h3 data-number="1.2.54" id="solu√ß√£o-corrigir-o-problema-com-pandoc-e-noto-color-emoji"><span class="header-section-number">1.2.54</span> Solu√ß√£o: Corrigir o Problema
com Pandoc e Noto Color Emoji</h3>
<h4 data-number="1.2.54.1" id="verificar-a-instala√ß√£o-do-tex-live"><span class="header-section-number">1.2.54.1</span> 1. <strong>Verificar a
Instala√ß√£o do TeX Live</strong></h4>
<p>Certifique-se de que o TeX Live e as fontes necess√°rias est√£o
instalados corretamente:</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-S</span> mingw-w64-x86_64-texlive-core mingw-w64-x86_64-texlive-fonts-extra mingw-w64-x86_64-texlive-lang-portuguese</span></code></pre></div>
<p>Verifique se o <code>lualatex</code> est√° funcionando:</p>
<div class="sourceCode" id="cb109"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="ex">lualatex</span> <span class="at">--version</span></span></code></pre></div>
<p>Se n√£o estiver instalado, reinstale o pacote
<code>texlive-bin</code>:</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-S</span> mingw-w64-x86_64-texlive-bin</span></code></pre></div>
<h4 data-number="1.2.54.2" id="atualizar-ou-substituir-a-fonte-noto-color-emoji"><span class="header-section-number">1.2.54.2</span> 2. <strong>Atualizar ou
Substituir a Fonte Noto Color Emoji</strong></h4>
<p>O erro sugere que a fonte <code>Noto Color Emoji</code> no TeX Live
est√° com problemas. Vamos tentar atualizar ou usar uma fonte
alternativa.</p>
<p><strong>Passo 1: Atualizar o TeX Live</strong> Atualize todos os
pacotes do MSYS2 para garantir a vers√£o mais recente das fontes:</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-Syu</span></span></code></pre></div>
<p>Reinstale o pacote de fontes:</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-S</span> <span class="at">--force</span> mingw-w64-x86_64-texlive-fonts-extra</span></code></pre></div>
<p><strong>Passo 2: Verificar Fontes Dispon√≠veis</strong> Liste as
fontes dispon√≠veis para confirmar se <code>Noto Color Emoji</code> est√°
presente:</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="ex">fc-list</span> <span class="kw">|</span> <span class="fu">grep</span> <span class="at">-i</span> <span class="st">&quot;Noto Color Emoji&quot;</span></span></code></pre></div>
<p>Se n√£o aparecer, a fonte pode estar faltando ou corrompida.</p>
<p><strong>Passo 3: Baixar e Instalar Noto Color Emoji
Manualmente</strong> Se a fonte n√£o funcionar, baixe-a diretamente do
Google Fonts ou do reposit√≥rio oficial: 1. Acesse <a href="https://fonts.google.com/noto/specimen/Noto+Color+Emoji">https://fonts.google.com/noto/specimen/Noto+Color+Emoji</a>.
2. Baixe o arquivo <code>NotoColorEmoji.ttf</code>. 3. Copie o arquivo
para o diret√≥rio de fontes do TeX Live no MSYS2:
<code>bash    mkdir -p /c/msys64/mingw64/share/texmf-dist/fonts/truetype/google/noto-emoji    cp NotoColorEmoji.ttf /c/msys64/mingw64/share/texmf-dist/fonts/truetype/google/noto-emoji/</code>
4. Atualize o cache de fontes do TeX Live:
<code>bash    fc-cache -fv</code></p>
<p><strong>Passo 4: Testar com Outra Fonte</strong> Se o problema
persistir com <code>Noto Color Emoji</code>, tente uma fonte alternativa
que suporte emojis, como <code>Segoe UI Emoji</code> (nativa no
Windows):</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pandoc</span> teste_emojis.md <span class="at">-o</span> teste_emojis.pdf <span class="at">--pdf-engine</span><span class="op">=</span>lualatex <span class="at">-V</span> mainfont=<span class="st">&quot;Segoe UI Emoji&quot;</span> <span class="at">-V</span> lang=pt-PT <span class="at">--css</span><span class="op">=</span>estilos.css</span></code></pre></div>
<h4 data-number="1.2.54.3" id="testar-com-xelatex"><span class="header-section-number">1.2.54.3</span> 3. <strong>Testar com
XeLaTeX</strong></h4>
<p>O motor <code>lualatex</code> √© necess√°rio para emojis coloridos, mas
o <code>xelatex</code> pode ser uma alternativa mais est√°vel para emojis
monocrom√°ticos. Teste:</p>
<div class="sourceCode" id="cb115"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pandoc</span> teste_emojis.md <span class="at">-o</span> teste_emojis.pdf <span class="at">--pdf-engine</span><span class="op">=</span>xelatex <span class="at">-V</span> mainfont=<span class="st">&quot;Noto Sans&quot;</span> <span class="at">-V</span> lang=pt-PT <span class="at">--css</span><span class="op">=</span>estilos.css</span></code></pre></div>
<ul>
<li><strong>Nota</strong>: O <code>xelatex</code> provavelmente
renderizar√° emojis em preto e branco, mas evitar√° o erro da fonte.</li>
</ul>
<h4 data-number="1.2.54.4" id="modificar-o-script-python"><span class="header-section-number">1.2.54.4</span> 4. <strong>Modificar o
Script Python</strong></h4>
<p>Atualize o script <code>converter_pandoc.py</code> para usar
<code>xelatex</code> como fallback caso o <code>lualatex</code> falhe, e
inclua tratamento de erros mais robusto:</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/usr/bin/env python3</span></span>
<span id="cb116-2"><a href="#cb116-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> subprocess</span>
<span id="cb116-3"><a href="#cb116-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb116-4"><a href="#cb116-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb116-5"><a href="#cb116-5" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> convert_markdown_to_pdf(md_file, pdf_file):</span>
<span id="cb116-6"><a href="#cb116-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f&quot;üîÑ Convertendo </span><span class="sc">{</span>md_file<span class="sc">}</span><span class="ss"> para PDF com Pandoc...&quot;</span>)</span>
<span id="cb116-7"><a href="#cb116-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb116-8"><a href="#cb116-8" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Criar arquivo CSS</span></span>
<span id="cb116-9"><a href="#cb116-9" aria-hidden="true" tabindex="-1"></a>        css_content <span class="op">=</span> <span class="st">&quot;&quot;&quot;</span></span>
<span id="cb116-10"><a href="#cb116-10" aria-hidden="true" tabindex="-1"></a><span class="st">        body {</span></span>
<span id="cb116-11"><a href="#cb116-11" aria-hidden="true" tabindex="-1"></a><span class="st">            font-family: &quot;Noto Sans&quot;, &quot;Segoe UI Emoji&quot;, sans-serif;</span></span>
<span id="cb116-12"><a href="#cb116-12" aria-hidden="true" tabindex="-1"></a><span class="st">            line-height: 1.6;</span></span>
<span id="cb116-13"><a href="#cb116-13" aria-hidden="true" tabindex="-1"></a><span class="st">            color: #333;</span></span>
<span id="cb116-14"><a href="#cb116-14" aria-hidden="true" tabindex="-1"></a><span class="st">            max-width: 800px;</span></span>
<span id="cb116-15"><a href="#cb116-15" aria-hidden="true" tabindex="-1"></a><span class="st">            margin: 0 auto;</span></span>
<span id="cb116-16"><a href="#cb116-16" aria-hidden="true" tabindex="-1"></a><span class="st">            padding: 40px 20px;</span></span>
<span id="cb116-17"><a href="#cb116-17" aria-hidden="true" tabindex="-1"></a><span class="st">        }</span></span>
<span id="cb116-18"><a href="#cb116-18" aria-hidden="true" tabindex="-1"></a><span class="st">        h1 {</span></span>
<span id="cb116-19"><a href="#cb116-19" aria-hidden="true" tabindex="-1"></a><span class="st">            color: #0052d4;</span></span>
<span id="cb116-20"><a href="#cb116-20" aria-hidden="true" tabindex="-1"></a><span class="st">            border-bottom: 3px solid #0052d4;</span></span>
<span id="cb116-21"><a href="#cb116-21" aria-hidden="true" tabindex="-1"></a><span class="st">        }</span></span>
<span id="cb116-22"><a href="#cb116-22" aria-hidden="true" tabindex="-1"></a><span class="st">        table {</span></span>
<span id="cb116-23"><a href="#cb116-23" aria-hidden="true" tabindex="-1"></a><span class="st">            border-collapse: collapse;</span></span>
<span id="cb116-24"><a href="#cb116-24" aria-hidden="true" tabindex="-1"></a><span class="st">            width: 100%;</span></span>
<span id="cb116-25"><a href="#cb116-25" aria-hidden="true" tabindex="-1"></a><span class="st">            margin: 20px 0;</span></span>
<span id="cb116-26"><a href="#cb116-26" aria-hidden="true" tabindex="-1"></a><span class="st">        }</span></span>
<span id="cb116-27"><a href="#cb116-27" aria-hidden="true" tabindex="-1"></a><span class="st">        th, td {</span></span>
<span id="cb116-28"><a href="#cb116-28" aria-hidden="true" tabindex="-1"></a><span class="st">            border: 1px solid #ddd;</span></span>
<span id="cb116-29"><a href="#cb116-29" aria-hidden="true" tabindex="-1"></a><span class="st">            padding: 12px;</span></span>
<span id="cb116-30"><a href="#cb116-30" aria-hidden="true" tabindex="-1"></a><span class="st">        }</span></span>
<span id="cb116-31"><a href="#cb116-31" aria-hidden="true" tabindex="-1"></a><span class="st">        .emoji-grid {</span></span>
<span id="cb116-32"><a href="#cb116-32" aria-hidden="true" tabindex="-1"></a><span class="st">            font-size: 1.5em;</span></span>
<span id="cb116-33"><a href="#cb116-33" aria-hidden="true" tabindex="-1"></a><span class="st">        }</span></span>
<span id="cb116-34"><a href="#cb116-34" aria-hidden="true" tabindex="-1"></a><span class="st">        &quot;&quot;&quot;</span></span>
<span id="cb116-35"><a href="#cb116-35" aria-hidden="true" tabindex="-1"></a>        <span class="cf">with</span> <span class="bu">open</span>(<span class="st">&quot;estilos.css&quot;</span>, <span class="st">&quot;w&quot;</span>, encoding<span class="op">=</span><span class="st">&quot;utf-8&quot;</span>) <span class="im">as</span> f:</span>
<span id="cb116-36"><a href="#cb116-36" aria-hidden="true" tabindex="-1"></a>            f.write(css_content)</span>
<span id="cb116-37"><a href="#cb116-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb116-38"><a href="#cb116-38" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Tentar com lualatex primeiro</span></span>
<span id="cb116-39"><a href="#cb116-39" aria-hidden="true" tabindex="-1"></a>        cmd <span class="op">=</span> [</span>
<span id="cb116-40"><a href="#cb116-40" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;pandoc&quot;</span>,</span>
<span id="cb116-41"><a href="#cb116-41" aria-hidden="true" tabindex="-1"></a>            md_file,</span>
<span id="cb116-42"><a href="#cb116-42" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;-o&quot;</span>, pdf_file,</span>
<span id="cb116-43"><a href="#cb116-43" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;--pdf-engine=lualatex&quot;</span>,</span>
<span id="cb116-44"><a href="#cb116-44" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;-V&quot;</span>, <span class="st">&quot;mainfont=Noto Color Emoji&quot;</span>,</span>
<span id="cb116-45"><a href="#cb116-45" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;-V&quot;</span>, <span class="st">&quot;lang=pt-PT&quot;</span>,</span>
<span id="cb116-46"><a href="#cb116-46" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;--css=estilos.css&quot;</span></span>
<span id="cb116-47"><a href="#cb116-47" aria-hidden="true" tabindex="-1"></a>        ]</span>
<span id="cb116-48"><a href="#cb116-48" aria-hidden="true" tabindex="-1"></a>        <span class="cf">try</span>:</span>
<span id="cb116-49"><a href="#cb116-49" aria-hidden="true" tabindex="-1"></a>            subprocess.run(cmd, check<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb116-50"><a href="#cb116-50" aria-hidden="true" tabindex="-1"></a>        <span class="cf">except</span> subprocess.CalledProcessError <span class="im">as</span> e:</span>
<span id="cb116-51"><a href="#cb116-51" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="ss">f&quot;‚ö†Ô∏è Falha com lualatex: </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb116-52"><a href="#cb116-52" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="st">&quot;üîÑ Tentando com xelatex...&quot;</span>)</span>
<span id="cb116-53"><a href="#cb116-53" aria-hidden="true" tabindex="-1"></a>            cmd <span class="op">=</span> [</span>
<span id="cb116-54"><a href="#cb116-54" aria-hidden="true" tabindex="-1"></a>                <span class="st">&quot;pandoc&quot;</span>,</span>
<span id="cb116-55"><a href="#cb116-55" aria-hidden="true" tabindex="-1"></a>                md_file,</span>
<span id="cb116-56"><a href="#cb116-56" aria-hidden="true" tabindex="-1"></a>                <span class="st">&quot;-o&quot;</span>, pdf_file,</span>
<span id="cb116-57"><a href="#cb116-57" aria-hidden="true" tabindex="-1"></a>                <span class="st">&quot;--pdf-engine=xelatex&quot;</span>,</span>
<span id="cb116-58"><a href="#cb116-58" aria-hidden="true" tabindex="-1"></a>                <span class="st">&quot;-V&quot;</span>, <span class="st">&quot;mainfont=Noto Sans&quot;</span>,</span>
<span id="cb116-59"><a href="#cb116-59" aria-hidden="true" tabindex="-1"></a>                <span class="st">&quot;-V&quot;</span>, <span class="st">&quot;lang=pt-PT&quot;</span>,</span>
<span id="cb116-60"><a href="#cb116-60" aria-hidden="true" tabindex="-1"></a>                <span class="st">&quot;--css=estilos.css&quot;</span></span>
<span id="cb116-61"><a href="#cb116-61" aria-hidden="true" tabindex="-1"></a>            ]</span>
<span id="cb116-62"><a href="#cb116-62" aria-hidden="true" tabindex="-1"></a>            subprocess.run(cmd, check<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb116-63"><a href="#cb116-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb116-64"><a href="#cb116-64" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;‚úÖ PDF gerado: </span><span class="sc">{</span>pdf_file<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb116-65"><a href="#cb116-65" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;üìä Tamanho do arquivo: </span><span class="sc">{</span>os<span class="sc">.</span>path<span class="sc">.</span>getsize(pdf_file)<span class="sc">}</span><span class="ss"> bytes&quot;</span>)</span>
<span id="cb116-66"><a href="#cb116-66" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">True</span></span>
<span id="cb116-67"><a href="#cb116-67" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">Exception</span> <span class="im">as</span> e:</span>
<span id="cb116-68"><a href="#cb116-68" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;‚ùå Erro durante a convers√£o: </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb116-69"><a href="#cb116-69" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">False</span></span>
<span id="cb116-70"><a href="#cb116-70" aria-hidden="true" tabindex="-1"></a>    <span class="cf">finally</span>:</span>
<span id="cb116-71"><a href="#cb116-71" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> os.path.exists(<span class="st">&quot;estilos.css&quot;</span>):</span>
<span id="cb116-72"><a href="#cb116-72" aria-hidden="true" tabindex="-1"></a>            os.remove(<span class="st">&quot;estilos.css&quot;</span>)</span>
<span id="cb116-73"><a href="#cb116-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb116-74"><a href="#cb116-74" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">&quot;__main__&quot;</span>:</span>
<span id="cb116-75"><a href="#cb116-75" aria-hidden="true" tabindex="-1"></a>    success <span class="op">=</span> convert_markdown_to_pdf(<span class="st">&quot;teste_emojis.md&quot;</span>, <span class="st">&quot;teste_emojis_pandoc.pdf&quot;</span>)</span>
<span id="cb116-76"><a href="#cb116-76" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> success:</span>
<span id="cb116-77"><a href="#cb116-77" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">üéâ Convers√£o conclu√≠da com sucesso!&quot;</span>)</span>
<span id="cb116-78"><a href="#cb116-78" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb116-79"><a href="#cb116-79" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">üí• Falha na convers√£o.&quot;</span>)</span></code></pre></div>
<p><strong>Executar</strong>:</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="ex">python</span> converter_pandoc.py</span></code></pre></div>
<p><strong>Mudan√ßas</strong>: - Usa <code>lualatex</code> para tentar
emojis coloridos, mas reverte para <code>xelatex</code> com
<code>Noto Sans</code> se falhar. - Mant√©m o CSS para estiliza√ß√£o
consistente. - Remove o arquivo <code>estilos.css</code> mesmo em caso
de erro.</p>
<hr />
<h3 data-number="1.2.55" id="solu√ß√£o-alternativa-weasyprint"><span class="header-section-number">1.2.55</span> Solu√ß√£o Alternativa:
WeasyPrint</h3>
<p>Se o problema com <code>Noto Color Emoji</code> persistir no Pandoc,
o <strong>WeasyPrint</strong> √© uma alternativa robusta para renderizar
emojis coloridos, pois suporta fontes modernas e CSS avan√ßado.</p>
<h4 data-number="1.2.55.1" id="instalar-weasyprint-2"><span class="header-section-number">1.2.55.1</span> 1. <strong>Instalar
WeasyPrint</strong></h4>
<p>No MSYS2:</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-S</span> mingw-w64-x86_64-python mingw-w64-x86_64-python-pip mingw-w64-x86_64-gtk3</span>
<span id="cb118-2"><a href="#cb118-2" aria-hidden="true" tabindex="-1"></a><span class="ex">pip</span> install weasyprint markdown</span></code></pre></div>
<h4 data-number="1.2.55.2" id="script-com-weasyprint-2"><span class="header-section-number">1.2.55.2</span> 2. <strong>Script com
WeasyPrint</strong></h4>
<div class="sourceCode" id="cb119"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/usr/bin/env python3</span></span>
<span id="cb119-2"><a href="#cb119-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> markdown</span>
<span id="cb119-3"><a href="#cb119-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> weasyprint <span class="im">import</span> HTML, CSS</span>
<span id="cb119-4"><a href="#cb119-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb119-5"><a href="#cb119-5" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> convert_markdown_to_pdf(md_file, pdf_file):</span>
<span id="cb119-6"><a href="#cb119-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f&quot;üîÑ Convertendo </span><span class="sc">{</span>md_file<span class="sc">}</span><span class="ss"> para PDF com WeasyPrint...&quot;</span>)</span>
<span id="cb119-7"><a href="#cb119-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb119-8"><a href="#cb119-8" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Ler Markdown</span></span>
<span id="cb119-9"><a href="#cb119-9" aria-hidden="true" tabindex="-1"></a>        <span class="cf">with</span> <span class="bu">open</span>(md_file, <span class="st">&#39;r&#39;</span>, encoding<span class="op">=</span><span class="st">&#39;utf-8&#39;</span>) <span class="im">as</span> f:</span>
<span id="cb119-10"><a href="#cb119-10" aria-hidden="true" tabindex="-1"></a>            markdown_content <span class="op">=</span> f.read()</span>
<span id="cb119-11"><a href="#cb119-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb119-12"><a href="#cb119-12" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Converter para HTML</span></span>
<span id="cb119-13"><a href="#cb119-13" aria-hidden="true" tabindex="-1"></a>        html_content <span class="op">=</span> markdown.markdown(markdown_content, extensions<span class="op">=</span>[<span class="st">&#39;extra&#39;</span>, <span class="st">&#39;tables&#39;</span>])</span>
<span id="cb119-14"><a href="#cb119-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb119-15"><a href="#cb119-15" aria-hidden="true" tabindex="-1"></a>        <span class="co"># HTML com estilos</span></span>
<span id="cb119-16"><a href="#cb119-16" aria-hidden="true" tabindex="-1"></a>        full_html <span class="op">=</span> <span class="ss">f&quot;&quot;&quot;</span></span>
<span id="cb119-17"><a href="#cb119-17" aria-hidden="true" tabindex="-1"></a><span class="ss">        &lt;!DOCTYPE html&gt;</span></span>
<span id="cb119-18"><a href="#cb119-18" aria-hidden="true" tabindex="-1"></a><span class="ss">        &lt;html&gt;</span></span>
<span id="cb119-19"><a href="#cb119-19" aria-hidden="true" tabindex="-1"></a><span class="ss">        &lt;head&gt;</span></span>
<span id="cb119-20"><a href="#cb119-20" aria-hidden="true" tabindex="-1"></a><span class="ss">            &lt;meta charset=&quot;UTF-8&quot;&gt;</span></span>
<span id="cb119-21"><a href="#cb119-21" aria-hidden="true" tabindex="-1"></a><span class="ss">            &lt;title&gt;Documento com Emojis&lt;/title&gt;</span></span>
<span id="cb119-22"><a href="#cb119-22" aria-hidden="true" tabindex="-1"></a><span class="ss">            &lt;style&gt;</span></span>
<span id="cb119-23"><a href="#cb119-23" aria-hidden="true" tabindex="-1"></a><span class="ss">                @font-face </span><span class="ch">{{</span></span>
<span id="cb119-24"><a href="#cb119-24" aria-hidden="true" tabindex="-1"></a><span class="ss">                    font-family: &#39;Noto Color Emoji&#39;;</span></span>
<span id="cb119-25"><a href="#cb119-25" aria-hidden="true" tabindex="-1"></a><span class="ss">                    src: url(&#39;https://fonts.googleapis.com/css2?family=Noto+Color+Emoji&amp;display=swap&#39;);</span></span>
<span id="cb119-26"><a href="#cb119-26" aria-hidden="true" tabindex="-1"></a><span class="ss">                </span><span class="ch">}}</span></span>
<span id="cb119-27"><a href="#cb119-27" aria-hidden="true" tabindex="-1"></a><span class="ss">                body </span><span class="ch">{{</span></span>
<span id="cb119-28"><a href="#cb119-28" aria-hidden="true" tabindex="-1"></a><span class="ss">                    font-family: &#39;Noto Color Emoji&#39;, &#39;Segoe UI Emoji&#39;, &#39;Noto Sans&#39;, sans-serif;</span></span>
<span id="cb119-29"><a href="#cb119-29" aria-hidden="true" tabindex="-1"></a><span class="ss">                    line-height: 1.6;</span></span>
<span id="cb119-30"><a href="#cb119-30" aria-hidden="true" tabindex="-1"></a><span class="ss">                    color: #333;</span></span>
<span id="cb119-31"><a href="#cb119-31" aria-hidden="true" tabindex="-1"></a><span class="ss">                    max-width: 800px;</span></span>
<span id="cb119-32"><a href="#cb119-32" aria-hidden="true" tabindex="-1"></a><span class="ss">                    margin: 0 auto;</span></span>
<span id="cb119-33"><a href="#cb119-33" aria-hidden="true" tabindex="-1"></a><span class="ss">                    padding: 40px 20px;</span></span>
<span id="cb119-34"><a href="#cb119-34" aria-hidden="true" tabindex="-1"></a><span class="ss">                </span><span class="ch">}}</span></span>
<span id="cb119-35"><a href="#cb119-35" aria-hidden="true" tabindex="-1"></a><span class="ss">                h1 </span><span class="ch">{{</span></span>
<span id="cb119-36"><a href="#cb119-36" aria-hidden="true" tabindex="-1"></a><span class="ss">                    color: #0052d4;</span></span>
<span id="cb119-37"><a href="#cb119-37" aria-hidden="true" tabindex="-1"></a><span class="ss">                    border-bottom: 3px solid #0052d4;</span></span>
<span id="cb119-38"><a href="#cb119-38" aria-hidden="true" tabindex="-1"></a><span class="ss">                </span><span class="ch">}}</span></span>
<span id="cb119-39"><a href="#cb119-39" aria-hidden="true" tabindex="-1"></a><span class="ss">                table </span><span class="ch">{{</span></span>
<span id="cb119-40"><a href="#cb119-40" aria-hidden="true" tabindex="-1"></a><span class="ss">                    border-collapse: collapse;</span></span>
<span id="cb119-41"><a href="#cb119-41" aria-hidden="true" tabindex="-1"></a><span class="ss">                    width: 100%;</span></span>
<span id="cb119-42"><a href="#cb119-42" aria-hidden="true" tabindex="-1"></a><span class="ss">                    margin: 20px 0;</span></span>
<span id="cb119-43"><a href="#cb119-43" aria-hidden="true" tabindex="-1"></a><span class="ss">                </span><span class="ch">}}</span></span>
<span id="cb119-44"><a href="#cb119-44" aria-hidden="true" tabindex="-1"></a><span class="ss">                th, td </span><span class="ch">{{</span></span>
<span id="cb119-45"><a href="#cb119-45" aria-hidden="true" tabindex="-1"></a><span class="ss">                    border: 1px solid #ddd;</span></span>
<span id="cb119-46"><a href="#cb119-46" aria-hidden="true" tabindex="-1"></a><span class="ss">                    padding: 12px;</span></span>
<span id="cb119-47"><a href="#cb119-47" aria-hidden="true" tabindex="-1"></a><span class="ss">                </span><span class="ch">}}</span></span>
<span id="cb119-48"><a href="#cb119-48" aria-hidden="true" tabindex="-1"></a><span class="ss">                .emoji-grid </span><span class="ch">{{</span></span>
<span id="cb119-49"><a href="#cb119-49" aria-hidden="true" tabindex="-1"></a><span class="ss">                    font-size: 1.5em;</span></span>
<span id="cb119-50"><a href="#cb119-50" aria-hidden="true" tabindex="-1"></a><span class="ss">                </span><span class="ch">}}</span></span>
<span id="cb119-51"><a href="#cb119-51" aria-hidden="true" tabindex="-1"></a><span class="ss">            &lt;/style&gt;</span></span>
<span id="cb119-52"><a href="#cb119-52" aria-hidden="true" tabindex="-1"></a><span class="ss">        &lt;/head&gt;</span></span>
<span id="cb119-53"><a href="#cb119-53" aria-hidden="true" tabindex="-1"></a><span class="ss">        &lt;body&gt;</span><span class="sc">{</span>html_content<span class="sc">}</span><span class="ss">&lt;/body&gt;</span></span>
<span id="cb119-54"><a href="#cb119-54" aria-hidden="true" tabindex="-1"></a><span class="ss">        &lt;/html&gt;</span></span>
<span id="cb119-55"><a href="#cb119-55" aria-hidden="true" tabindex="-1"></a><span class="ss">        &quot;&quot;&quot;</span></span>
<span id="cb119-56"><a href="#cb119-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb119-57"><a href="#cb119-57" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Converter para PDF</span></span>
<span id="cb119-58"><a href="#cb119-58" aria-hidden="true" tabindex="-1"></a>        HTML(string<span class="op">=</span>full_html).write_pdf(pdf_file)</span>
<span id="cb119-59"><a href="#cb119-59" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;‚úÖ PDF gerado: </span><span class="sc">{</span>pdf_file<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb119-60"><a href="#cb119-60" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;üìä Tamanho do arquivo: </span><span class="sc">{</span>os<span class="sc">.</span>path<span class="sc">.</span>getsize(pdf_file)<span class="sc">}</span><span class="ss"> bytes&quot;</span>)</span>
<span id="cb119-61"><a href="#cb119-61" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">True</span></span>
<span id="cb119-62"><a href="#cb119-62" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">Exception</span> <span class="im">as</span> e:</span>
<span id="cb119-63"><a href="#cb119-63" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;‚ùå Erro durante a convers√£o: </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb119-64"><a href="#cb119-64" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">False</span></span>
<span id="cb119-65"><a href="#cb119-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb119-66"><a href="#cb119-66" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">&quot;__main__&quot;</span>:</span>
<span id="cb119-67"><a href="#cb119-67" aria-hidden="true" tabindex="-1"></a>    success <span class="op">=</span> convert_markdown_to_pdf(<span class="st">&quot;teste_emojis.md&quot;</span>, <span class="st">&quot;teste_emojis_weasy.pdf&quot;</span>)</span>
<span id="cb119-68"><a href="#cb119-68" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> success:</span>
<span id="cb119-69"><a href="#cb119-69" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">üéâ Convers√£o conclu√≠da com sucesso!&quot;</span>)</span>
<span id="cb119-70"><a href="#cb119-70" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb119-71"><a href="#cb119-71" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">üí• Falha na convers√£o.&quot;</span>)</span></code></pre></div>
<p><strong>Executar</strong>:</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="ex">python</span> converter_weasy.py</span></code></pre></div>
<hr />
<h3 data-number="1.2.56" id="solu√ß√£o-de-problemas-adicionais-2"><span class="header-section-number">1.2.56</span> Solu√ß√£o de Problemas
Adicionais</h3>
<p>Se o erro com <code>Noto Color Emoji</code> persistir ou os emojis
n√£o aparecerem coloridos: 1. <strong>Testar com um Arquivo
Simples</strong>: Crie um arquivo de teste com emojis simples:
<code>markdown    # Teste üòäüåà    - Sorriso üòä    - Arco-√≠ris üåà</code>
Converta com:
<code>bash    pandoc teste_simples.md -o teste_simples.pdf --pdf-engine=xelatex -V mainfont=&quot;Noto Sans&quot; -V lang=pt-PT</code>
Isso ajuda a isolar se o problema √© com a fonte ou com emojis
espec√≠ficos.</p>
<ol start="2" type="1">
<li><p><strong>Verificar Visualizador de PDF</strong>: Emojis coloridos
requerem visualizadores que suportem camadas SVG (ex.: Adobe Acrobat,
Chrome, Edge). Teste o PDF gerado em um desses visualizadores.</p></li>
<li><p><strong>Reinstalar TeX Live</strong>: Se o problema com
<code>notocoloremoji.ttf</code> continuar, remova e reinstale o TeX
Live:</p>
<div class="sourceCode" id="cb121"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-R</span> mingw-w64-x86_64-texlive-fonts-extra</span>
<span id="cb121-2"><a href="#cb121-2" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-S</span> mingw-w64-x86_64-texlive-fonts-extra</span></code></pre></div></li>
<li><p><strong>Usar Outra Fonte</strong>: Se
<code>Noto Color Emoji</code> n√£o funcionar, tente
<code>Apple Color Emoji</code> (se dispon√≠vel) ou
<code>Segoe UI Emoji</code>:</p>
<div class="sourceCode" id="cb122"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pandoc</span> teste_emojis.md <span class="at">-o</span> teste_emojis.pdf <span class="at">--pdf-engine</span><span class="op">=</span>lualatex <span class="at">-V</span> mainfont=<span class="st">&quot;Segoe UI Emoji&quot;</span> <span class="at">-V</span> lang=pt-PT</span></code></pre></div></li>
</ol>
<hr />
<h3 data-number="1.2.57" id="recomenda√ß√£o-final-1"><span class="header-section-number">1.2.57</span> Recomenda√ß√£o Final</h3>
<p>O erro com <code>Noto Color Emoji</code> no <code>lualatex</code> √©
provavelmente devido a uma fonte corrompida ou desatualizada no TeX Live
do MSYS2. A solu√ß√£o mais r√°pida √©: 1. Tentar o comando com
<code>xelatex</code> (emojis monocrom√°ticos):
<code>bash    pandoc teste_emojis.md -o teste_emojis.pdf --pdf-engine=xelatex -V mainfont=&quot;Noto Sans&quot; -V lang=pt-PT --css=estilos.css</code>
2. Atualizar o TeX Live e reinstalar a fonte
<code>Noto Color Emoji</code> manualmente, conforme descrito. 3. Se
precisar de emojis coloridos, use o script WeasyPrint, que √© mais
confi√°vel que o <code>wkhtmltopdf</code> para esse prop√≥sito.</p>
<p><strong>Pr√≥ximos Passos</strong>: 1. Teste o script
<code>converter_pandoc.py</code> atualizado, que tenta
<code>lualatex</code> e reverte para <code>xelatex</code>. 2. Execute o
comando Pandoc com <code>xelatex</code> para verificar se os emojis
aparecem (mesmo que monocrom√°ticos). 3. Se preferir emojis coloridos,
teste o script WeasyPrint. 4. Abra o PDF em Adobe Acrobat, Chrome ou
Edge para confirmar os emojis.</p>
<p>Se o erro persistir ou os emojis n√£o aparecerem como esperado,
compartilhe detalhes adicionais (ex.: sa√≠da de
<code>fc-list | grep -i Noto</code>, visualizador de PDF usado, emojis
espec√≠ficos que falham) para uma solu√ß√£o mais direcionada! üòä</p>
<hr />
<h3 data-number="1.2.58" id="utilizador-2025-10-28-213556-grok"><span class="header-section-number">1.2.58</span> üë§ Utilizador
<em>(2025-10-28 21:35:56)</em> <em>[Grok]</em></h3>
<p><a href="mailto:mpmen@MM04" class="email">mpmen@MM04</a> MINGW64
/d/Downloads/<em>DOCS</em>/<em>DOCS</em>/Teste_emojis_msys2 # fc-list |
grep -i ‚ÄúNoto Color Emoji‚Äù
C:/Users/mpmen/AppData/Local/Microsoft/Windows/Fonts-SVGinOT.ttf: Noto
Color Emoji:style=Regular</p>
<hr />
<h3 data-number="1.2.59" id="grok-2025-10-28-213657-grok"><span class="header-section-number">1.2.59</span> ü§ñ Grok <em>(2025-10-28
21:36:57)</em> <em>[Grok]</em></h3>
<p>A sa√≠da do comando <code>fc-list | grep -i &quot;Noto Color Emoji&quot;</code>
indica que a fonte <code>Noto Color Emoji</code> est√° instalada no seu
sistema Windows (em
<code>C:/Users/mpmen/AppData/Local/Microsoft/Windows/Fonts\NotoColorEmoji-SVGinOT.ttf</code>),
mas o erro anterior no Pandoc com <code>lualatex</code>
(<code>loca table not found</code> em <code>notocoloremoji.ttf</code>)
sugere que o TeX Live no MSYS2 est√° usando uma vers√£o diferente ou
corrompida da fonte, localizada em
<code>c:/msys64/mingw64/share/texmf-dist/fonts/truetype/google/noto-emoji/</code>.
Isso pode causar conflitos ou falhas na renderiza√ß√£o de emojis
coloridos. Al√©m disso, o <code>wkhtmltopdf</code> (vers√£o 0.12.6) gera
PDFs com emojis em preto e branco devido √†s limita√ß√µes de sua engine
WebKit.</p>
<p>Abaixo, vou fornecer passos para corrigir o problema com o Pandoc e
<code>lualatex</code>, garantir que os emojis sejam renderizados
(preferencialmente coloridos) e, se necess√°rio, ajustar o ambiente MSYS2
para usar a fonte correta. Tamb√©m manterei a recomenda√ß√£o de
alternativas como WeasyPrint, caso o Pandoc continue problem√°tico, tudo
isso respeitando o portugu√™s de Portugal.</p>
<hr />
<h3 data-number="1.2.60" id="diagn√≥stico-do-erro-2"><span class="header-section-number">1.2.60</span> Diagn√≥stico do Erro</h3>
<ul>
<li><strong>Erro no Pandoc</strong>: O erro
<code>loca table not found</code> indica que o arquivo
<code>notocoloremoji.ttf</code> no diret√≥rio do TeX Live
(<code>c:/msys64/mingw64/share/texmf-dist/fonts/truetype/google/noto-emoji/</code>)
est√° corrompido ou incompat√≠vel com o <code>lualatex</code>. A fonte
<code>Noto Color Emoji</code> instalada no Windows (em
<code>C:/Users/mpmen/AppData/Local/Microsoft/Windows/Fonts</code>) n√£o
est√° sendo usada pelo TeX Live.</li>
<li><strong>wkhtmltopdf</strong>: A vers√£o 0.12.6 n√£o suporta emojis
coloridos devido √† engine WebKit desatualizada, resultando em emojis
monocrom√°ticos.</li>
<li><strong>Conflito de fontes</strong>: O TeX Live no MSYS2 pode estar
ignorando a fonte do sistema Windows e usando uma vers√£o local
problem√°tica.</li>
</ul>
<hr />
<h3 data-number="1.2.61" id="solu√ß√£o-1-corrigir-o-pandoc-com-lualatex"><span class="header-section-number">1.2.61</span> Solu√ß√£o 1: Corrigir o Pandoc
com LuaLaTeX</h3>
<p>Para corrigir o erro do <code>lualatex</code> e garantir emojis
coloridos no PDF gerado a partir de <code>teste_emojis.md</code>,
precisamos usar a fonte <code>Noto Color Emoji</code> correta e evitar
conflitos.</p>
<h4 data-number="1.2.61.1" id="atualizar-o-tex-live"><span class="header-section-number">1.2.61.1</span> 1. <strong>Atualizar o TeX
Live</strong></h4>
<p>Atualize todos os pacotes do MSYS2 para garantir que o TeX Live e as
fontes estejam na vers√£o mais recente:</p>
<div class="sourceCode" id="cb123"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-Syu</span></span>
<span id="cb123-2"><a href="#cb123-2" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-S</span> <span class="at">--force</span> mingw-w64-x86_64-texlive-core mingw-w64-x86_64-texlive-fonts-extra mingw-w64-x86_64-texlive-lang-portuguese</span></code></pre></div>
<h4 data-number="1.2.61.2" id="substituir-a-fonte-noto-color-emoji-no-tex-live"><span class="header-section-number">1.2.61.2</span> 2. <strong>Substituir a
Fonte Noto Color Emoji no TeX Live</strong></h4>
<p>O erro sugere que o arquivo <code>notocoloremoji.ttf</code> no TeX
Live est√° com problemas. Vamos substitu√≠-lo pela fonte instalada no
Windows: 1. Copie a fonte do diret√≥rio do Windows para o TeX Live:
<code>bash    mkdir -p /c/msys64/mingw64/share/texmf-dist/fonts/truetype/google/noto-emoji    cp /c/Users/mpmen/AppData/Local/Microsoft/Windows/Fonts/NotoColorEmoji-SVGinOT.ttf /c/msys64/mingw64/share/texmf-dist/fonts/truetype/google/noto-emoji/NotoColorEmoji.ttf</code>
2. Atualize o cache de fontes do TeX Live:
<code>bash    fc-cache -fv</code></p>
<h4 data-number="1.2.61.3" id="testar-com-pandoc"><span class="header-section-number">1.2.61.3</span> 3. <strong>Testar com
Pandoc</strong></h4>
<p>Tente gerar o PDF novamente com <code>lualatex</code>:</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pandoc</span> teste_emojis.md <span class="at">-o</span> teste_emojis.pdf <span class="at">--pdf-engine</span><span class="op">=</span>lualatex <span class="at">-V</span> mainfont=<span class="st">&quot;Noto Color Emoji&quot;</span> <span class="at">-V</span> lang=pt-PT <span class="at">--css</span><span class="op">=</span>estilos.css</span></code></pre></div>
<ul>
<li><p><strong>Nota</strong>: Certifique-se de que o arquivo
<code>estilos.css</code> existe no diret√≥rio atual (como no script
<code>converter_pandoc.py</code> fornecido anteriormente). Se n√£o
existir, crie-o:</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode css"><code class="sourceCode css"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a>body {</span>
<span id="cb125-2"><a href="#cb125-2" aria-hidden="true" tabindex="-1"></a>    <span class="kw">font-family</span><span class="ch">:</span> <span class="st">&quot;Noto Color Emoji&quot;</span><span class="op">,</span> <span class="st">&quot;Noto Sans&quot;</span><span class="op">,</span> <span class="st">&quot;Segoe UI Emoji&quot;</span><span class="op">,</span> <span class="dv">sans-serif</span><span class="op">;</span></span>
<span id="cb125-3"><a href="#cb125-3" aria-hidden="true" tabindex="-1"></a>    <span class="kw">line-height</span><span class="ch">:</span> <span class="dv">1.6</span><span class="op">;</span></span>
<span id="cb125-4"><a href="#cb125-4" aria-hidden="true" tabindex="-1"></a>    <span class="kw">color</span><span class="ch">:</span> <span class="cn">#333</span><span class="op">;</span></span>
<span id="cb125-5"><a href="#cb125-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">max-width</span><span class="ch">:</span> <span class="dv">800</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb125-6"><a href="#cb125-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">0</span> <span class="bu">auto</span><span class="op">;</span></span>
<span id="cb125-7"><a href="#cb125-7" aria-hidden="true" tabindex="-1"></a>    <span class="kw">padding</span><span class="ch">:</span> <span class="dv">40</span><span class="dt">px</span> <span class="dv">20</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb125-8"><a href="#cb125-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb125-9"><a href="#cb125-9" aria-hidden="true" tabindex="-1"></a>h1 {</span>
<span id="cb125-10"><a href="#cb125-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">color</span><span class="ch">:</span> <span class="cn">#0052d4</span><span class="op">;</span></span>
<span id="cb125-11"><a href="#cb125-11" aria-hidden="true" tabindex="-1"></a>    <span class="kw">border-bottom</span><span class="ch">:</span> <span class="dv">3</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#0052d4</span><span class="op">;</span></span>
<span id="cb125-12"><a href="#cb125-12" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb125-13"><a href="#cb125-13" aria-hidden="true" tabindex="-1"></a>table {</span>
<span id="cb125-14"><a href="#cb125-14" aria-hidden="true" tabindex="-1"></a>    <span class="kw">border-collapse</span><span class="ch">:</span> <span class="dv">collapse</span><span class="op">;</span></span>
<span id="cb125-15"><a href="#cb125-15" aria-hidden="true" tabindex="-1"></a>    <span class="kw">width</span><span class="ch">:</span> <span class="dv">100</span><span class="dt">%</span><span class="op">;</span></span>
<span id="cb125-16"><a href="#cb125-16" aria-hidden="true" tabindex="-1"></a>    <span class="kw">margin</span><span class="ch">:</span> <span class="dv">20</span><span class="dt">px</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb125-17"><a href="#cb125-17" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb125-18"><a href="#cb125-18" aria-hidden="true" tabindex="-1"></a>th<span class="op">,</span> td {</span>
<span id="cb125-19"><a href="#cb125-19" aria-hidden="true" tabindex="-1"></a>    <span class="kw">border</span><span class="ch">:</span> <span class="dv">1</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#ddd</span><span class="op">;</span></span>
<span id="cb125-20"><a href="#cb125-20" aria-hidden="true" tabindex="-1"></a>    <span class="kw">padding</span><span class="ch">:</span> <span class="dv">12</span><span class="dt">px</span><span class="op">;</span></span>
<span id="cb125-21"><a href="#cb125-21" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb125-22"><a href="#cb125-22" aria-hidden="true" tabindex="-1"></a><span class="fu">.emoji-grid</span> {</span>
<span id="cb125-23"><a href="#cb125-23" aria-hidden="true" tabindex="-1"></a>    <span class="kw">font-size</span><span class="ch">:</span> <span class="dv">1.5</span><span class="dt">em</span><span class="op">;</span></span>
<span id="cb125-24"><a href="#cb125-24" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div></li>
</ul>
<h4 data-number="1.2.61.4" id="usar-script-python-atualizado"><span class="header-section-number">1.2.61.4</span> 4. <strong>Usar Script
Python Atualizado</strong></h4>
<p>Use esta vers√£o do script <code>converter_pandoc.py</code>, que tenta
<code>lualatex</code> e reverte para <code>xelatex</code> se falhar,
usando a fonte <code>Segoe UI Emoji</code> como fallback:</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/usr/bin/env python3</span></span>
<span id="cb126-2"><a href="#cb126-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> subprocess</span>
<span id="cb126-3"><a href="#cb126-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb126-4"><a href="#cb126-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-5"><a href="#cb126-5" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> convert_markdown_to_pdf(md_file, pdf_file):</span>
<span id="cb126-6"><a href="#cb126-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f&quot;üîÑ Convertendo </span><span class="sc">{</span>md_file<span class="sc">}</span><span class="ss"> para PDF com Pandoc...&quot;</span>)</span>
<span id="cb126-7"><a href="#cb126-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb126-8"><a href="#cb126-8" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Criar arquivo CSS</span></span>
<span id="cb126-9"><a href="#cb126-9" aria-hidden="true" tabindex="-1"></a>        css_content <span class="op">=</span> <span class="st">&quot;&quot;&quot;</span></span>
<span id="cb126-10"><a href="#cb126-10" aria-hidden="true" tabindex="-1"></a><span class="st">        body {</span></span>
<span id="cb126-11"><a href="#cb126-11" aria-hidden="true" tabindex="-1"></a><span class="st">            font-family: &quot;Noto Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Noto Sans&quot;, sans-serif;</span></span>
<span id="cb126-12"><a href="#cb126-12" aria-hidden="true" tabindex="-1"></a><span class="st">            line-height: 1.6;</span></span>
<span id="cb126-13"><a href="#cb126-13" aria-hidden="true" tabindex="-1"></a><span class="st">            color: #333;</span></span>
<span id="cb126-14"><a href="#cb126-14" aria-hidden="true" tabindex="-1"></a><span class="st">            max-width: 800px;</span></span>
<span id="cb126-15"><a href="#cb126-15" aria-hidden="true" tabindex="-1"></a><span class="st">            margin: 0 auto;</span></span>
<span id="cb126-16"><a href="#cb126-16" aria-hidden="true" tabindex="-1"></a><span class="st">            padding: 40px 20px;</span></span>
<span id="cb126-17"><a href="#cb126-17" aria-hidden="true" tabindex="-1"></a><span class="st">        }</span></span>
<span id="cb126-18"><a href="#cb126-18" aria-hidden="true" tabindex="-1"></a><span class="st">        h1 {</span></span>
<span id="cb126-19"><a href="#cb126-19" aria-hidden="true" tabindex="-1"></a><span class="st">            color: #0052d4;</span></span>
<span id="cb126-20"><a href="#cb126-20" aria-hidden="true" tabindex="-1"></a><span class="st">            border-bottom: 3px solid #0052d4;</span></span>
<span id="cb126-21"><a href="#cb126-21" aria-hidden="true" tabindex="-1"></a><span class="st">        }</span></span>
<span id="cb126-22"><a href="#cb126-22" aria-hidden="true" tabindex="-1"></a><span class="st">        table {</span></span>
<span id="cb126-23"><a href="#cb126-23" aria-hidden="true" tabindex="-1"></a><span class="st">            border-collapse: collapse;</span></span>
<span id="cb126-24"><a href="#cb126-24" aria-hidden="true" tabindex="-1"></a><span class="st">            width: 100%;</span></span>
<span id="cb126-25"><a href="#cb126-25" aria-hidden="true" tabindex="-1"></a><span class="st">            margin: 20px 0;</span></span>
<span id="cb126-26"><a href="#cb126-26" aria-hidden="true" tabindex="-1"></a><span class="st">        }</span></span>
<span id="cb126-27"><a href="#cb126-27" aria-hidden="true" tabindex="-1"></a><span class="st">        th, td {</span></span>
<span id="cb126-28"><a href="#cb126-28" aria-hidden="true" tabindex="-1"></a><span class="st">            border: 1px solid #ddd;</span></span>
<span id="cb126-29"><a href="#cb126-29" aria-hidden="true" tabindex="-1"></a><span class="st">            padding: 12px;</span></span>
<span id="cb126-30"><a href="#cb126-30" aria-hidden="true" tabindex="-1"></a><span class="st">        }</span></span>
<span id="cb126-31"><a href="#cb126-31" aria-hidden="true" tabindex="-1"></a><span class="st">        .emoji-grid {</span></span>
<span id="cb126-32"><a href="#cb126-32" aria-hidden="true" tabindex="-1"></a><span class="st">            font-size: 1.5em;</span></span>
<span id="cb126-33"><a href="#cb126-33" aria-hidden="true" tabindex="-1"></a><span class="st">        }</span></span>
<span id="cb126-34"><a href="#cb126-34" aria-hidden="true" tabindex="-1"></a><span class="st">        &quot;&quot;&quot;</span></span>
<span id="cb126-35"><a href="#cb126-35" aria-hidden="true" tabindex="-1"></a>        <span class="cf">with</span> <span class="bu">open</span>(<span class="st">&quot;estilos.css&quot;</span>, <span class="st">&quot;w&quot;</span>, encoding<span class="op">=</span><span class="st">&quot;utf-8&quot;</span>) <span class="im">as</span> f:</span>
<span id="cb126-36"><a href="#cb126-36" aria-hidden="true" tabindex="-1"></a>            f.write(css_content)</span>
<span id="cb126-37"><a href="#cb126-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-38"><a href="#cb126-38" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Tentar com lualatex</span></span>
<span id="cb126-39"><a href="#cb126-39" aria-hidden="true" tabindex="-1"></a>        cmd <span class="op">=</span> [</span>
<span id="cb126-40"><a href="#cb126-40" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;pandoc&quot;</span>,</span>
<span id="cb126-41"><a href="#cb126-41" aria-hidden="true" tabindex="-1"></a>            md_file,</span>
<span id="cb126-42"><a href="#cb126-42" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;-o&quot;</span>, pdf_file,</span>
<span id="cb126-43"><a href="#cb126-43" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;--pdf-engine=lualatex&quot;</span>,</span>
<span id="cb126-44"><a href="#cb126-44" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;-V&quot;</span>, <span class="st">&quot;mainfont=Noto Color Emoji&quot;</span>,</span>
<span id="cb126-45"><a href="#cb126-45" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;-V&quot;</span>, <span class="st">&quot;lang=pt-PT&quot;</span>,</span>
<span id="cb126-46"><a href="#cb126-46" aria-hidden="true" tabindex="-1"></a>            <span class="st">&quot;--css=estilos.css&quot;</span></span>
<span id="cb126-47"><a href="#cb126-47" aria-hidden="true" tabindex="-1"></a>        ]</span>
<span id="cb126-48"><a href="#cb126-48" aria-hidden="true" tabindex="-1"></a>        <span class="cf">try</span>:</span>
<span id="cb126-49"><a href="#cb126-49" aria-hidden="true" tabindex="-1"></a>            subprocess.run(cmd, check<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb126-50"><a href="#cb126-50" aria-hidden="true" tabindex="-1"></a>        <span class="cf">except</span> subprocess.CalledProcessError <span class="im">as</span> e:</span>
<span id="cb126-51"><a href="#cb126-51" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="ss">f&quot;‚ö†Ô∏è Falha com lualatex: </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb126-52"><a href="#cb126-52" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="st">&quot;üîÑ Tentando com xelatex e Segoe UI Emoji...&quot;</span>)</span>
<span id="cb126-53"><a href="#cb126-53" aria-hidden="true" tabindex="-1"></a>            cmd <span class="op">=</span> [</span>
<span id="cb126-54"><a href="#cb126-54" aria-hidden="true" tabindex="-1"></a>                <span class="st">&quot;pandoc&quot;</span>,</span>
<span id="cb126-55"><a href="#cb126-55" aria-hidden="true" tabindex="-1"></a>                md_file,</span>
<span id="cb126-56"><a href="#cb126-56" aria-hidden="true" tabindex="-1"></a>                <span class="st">&quot;-o&quot;</span>, pdf_file,</span>
<span id="cb126-57"><a href="#cb126-57" aria-hidden="true" tabindex="-1"></a>                <span class="st">&quot;--pdf-engine=xelatex&quot;</span>,</span>
<span id="cb126-58"><a href="#cb126-58" aria-hidden="true" tabindex="-1"></a>                <span class="st">&quot;-V&quot;</span>, <span class="st">&quot;mainfont=Segoe UI Emoji&quot;</span>,</span>
<span id="cb126-59"><a href="#cb126-59" aria-hidden="true" tabindex="-1"></a>                <span class="st">&quot;-V&quot;</span>, <span class="st">&quot;lang=pt-PT&quot;</span>,</span>
<span id="cb126-60"><a href="#cb126-60" aria-hidden="true" tabindex="-1"></a>                <span class="st">&quot;--css=estilos.css&quot;</span></span>
<span id="cb126-61"><a href="#cb126-61" aria-hidden="true" tabindex="-1"></a>            ]</span>
<span id="cb126-62"><a href="#cb126-62" aria-hidden="true" tabindex="-1"></a>            subprocess.run(cmd, check<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb126-63"><a href="#cb126-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-64"><a href="#cb126-64" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;‚úÖ PDF gerado: </span><span class="sc">{</span>pdf_file<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb126-65"><a href="#cb126-65" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;üìä Tamanho do arquivo: </span><span class="sc">{</span>os<span class="sc">.</span>path<span class="sc">.</span>getsize(pdf_file)<span class="sc">}</span><span class="ss"> bytes&quot;</span>)</span>
<span id="cb126-66"><a href="#cb126-66" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">True</span></span>
<span id="cb126-67"><a href="#cb126-67" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">Exception</span> <span class="im">as</span> e:</span>
<span id="cb126-68"><a href="#cb126-68" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;‚ùå Erro durante a convers√£o: </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb126-69"><a href="#cb126-69" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">False</span></span>
<span id="cb126-70"><a href="#cb126-70" aria-hidden="true" tabindex="-1"></a>    <span class="cf">finally</span>:</span>
<span id="cb126-71"><a href="#cb126-71" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> os.path.exists(<span class="st">&quot;estilos.css&quot;</span>):</span>
<span id="cb126-72"><a href="#cb126-72" aria-hidden="true" tabindex="-1"></a>            os.remove(<span class="st">&quot;estilos.css&quot;</span>)</span>
<span id="cb126-73"><a href="#cb126-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-74"><a href="#cb126-74" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">&quot;__main__&quot;</span>:</span>
<span id="cb126-75"><a href="#cb126-75" aria-hidden="true" tabindex="-1"></a>    success <span class="op">=</span> convert_markdown_to_pdf(<span class="st">&quot;teste_emojis.md&quot;</span>, <span class="st">&quot;teste_emojis_pandoc.pdf&quot;</span>)</span>
<span id="cb126-76"><a href="#cb126-76" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> success:</span>
<span id="cb126-77"><a href="#cb126-77" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">üéâ Convers√£o conclu√≠da com sucesso!&quot;</span>)</span>
<span id="cb126-78"><a href="#cb126-78" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb126-79"><a href="#cb126-79" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">üí• Falha na convers√£o.&quot;</span>)</span></code></pre></div>
<p><strong>Executar</strong>:</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="ex">python</span> converter_pandoc.py</span></code></pre></div>
<h4 data-number="1.2.61.5" id="verificar-o-resultado-2"><span class="header-section-number">1.2.61.5</span> 5. <strong>Verificar o
Resultado</strong></h4>
<ul>
<li>Abra o arquivo <code>teste_emojis_pandoc.pdf</code> em um
visualizador que suporte emojis coloridos (Adobe Acrobat, Google Chrome,
Microsoft Edge).</li>
<li>Confirme que os emojis (ex.: üåà, üçö, üòä) aparecem coloridos com
<code>lualatex</code> ou, pelo menos, monocrom√°ticos com
<code>xelatex</code>.</li>
</ul>
<hr />
<h3 data-number="1.2.62" id="solu√ß√£o-2-weasyprint-para-emojis-coloridos"><span class="header-section-number">1.2.62</span> Solu√ß√£o 2: WeasyPrint para
Emojis Coloridos</h3>
<p>Se o problema com <code>Noto Color Emoji</code> no Pandoc persistir,
o <strong>WeasyPrint</strong> √© uma alternativa confi√°vel para
renderizar emojis coloridos, pois suporta fontes modernas e CSS
avan√ßado.</p>
<h4 data-number="1.2.62.1" id="instalar-weasyprint-3"><span class="header-section-number">1.2.62.1</span> 1. <strong>Instalar
WeasyPrint</strong></h4>
<p>No MSYS2:</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-S</span> mingw-w64-x86_64-python mingw-w64-x86_64-python-pip mingw-w64-x86_64-gtk3</span>
<span id="cb128-2"><a href="#cb128-2" aria-hidden="true" tabindex="-1"></a><span class="ex">pip</span> install weasyprint markdown</span></code></pre></div>
<h4 data-number="1.2.62.2" id="script-com-weasyprint-3"><span class="header-section-number">1.2.62.2</span> 2. <strong>Script com
WeasyPrint</strong></h4>
<div class="sourceCode" id="cb129"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/usr/bin/env python3</span></span>
<span id="cb129-2"><a href="#cb129-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> markdown</span>
<span id="cb129-3"><a href="#cb129-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> weasyprint <span class="im">import</span> HTML, CSS</span>
<span id="cb129-4"><a href="#cb129-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-5"><a href="#cb129-5" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> convert_markdown_to_pdf(md_file, pdf_file):</span>
<span id="cb129-6"><a href="#cb129-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f&quot;üîÑ Convertendo </span><span class="sc">{</span>md_file<span class="sc">}</span><span class="ss"> para PDF com WeasyPrint...&quot;</span>)</span>
<span id="cb129-7"><a href="#cb129-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb129-8"><a href="#cb129-8" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Ler Markdown</span></span>
<span id="cb129-9"><a href="#cb129-9" aria-hidden="true" tabindex="-1"></a>        <span class="cf">with</span> <span class="bu">open</span>(md_file, <span class="st">&#39;r&#39;</span>, encoding<span class="op">=</span><span class="st">&#39;utf-8&#39;</span>) <span class="im">as</span> f:</span>
<span id="cb129-10"><a href="#cb129-10" aria-hidden="true" tabindex="-1"></a>            markdown_content <span class="op">=</span> f.read()</span>
<span id="cb129-11"><a href="#cb129-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-12"><a href="#cb129-12" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Converter para HTML</span></span>
<span id="cb129-13"><a href="#cb129-13" aria-hidden="true" tabindex="-1"></a>        html_content <span class="op">=</span> markdown.markdown(markdown_content, extensions<span class="op">=</span>[<span class="st">&#39;extra&#39;</span>, <span class="st">&#39;tables&#39;</span>])</span>
<span id="cb129-14"><a href="#cb129-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-15"><a href="#cb129-15" aria-hidden="true" tabindex="-1"></a>        <span class="co"># HTML com estilos</span></span>
<span id="cb129-16"><a href="#cb129-16" aria-hidden="true" tabindex="-1"></a>        full_html <span class="op">=</span> <span class="ss">f&quot;&quot;&quot;</span></span>
<span id="cb129-17"><a href="#cb129-17" aria-hidden="true" tabindex="-1"></a><span class="ss">        &lt;!DOCTYPE html&gt;</span></span>
<span id="cb129-18"><a href="#cb129-18" aria-hidden="true" tabindex="-1"></a><span class="ss">        &lt;html&gt;</span></span>
<span id="cb129-19"><a href="#cb129-19" aria-hidden="true" tabindex="-1"></a><span class="ss">        &lt;head&gt;</span></span>
<span id="cb129-20"><a href="#cb129-20" aria-hidden="true" tabindex="-1"></a><span class="ss">            &lt;meta charset=&quot;UTF-8&quot;&gt;</span></span>
<span id="cb129-21"><a href="#cb129-21" aria-hidden="true" tabindex="-1"></a><span class="ss">            &lt;title&gt;Documento com Emojis&lt;/title&gt;</span></span>
<span id="cb129-22"><a href="#cb129-22" aria-hidden="true" tabindex="-1"></a><span class="ss">            &lt;style&gt;</span></span>
<span id="cb129-23"><a href="#cb129-23" aria-hidden="true" tabindex="-1"></a><span class="ss">                @font-face </span><span class="ch">{{</span></span>
<span id="cb129-24"><a href="#cb129-24" aria-hidden="true" tabindex="-1"></a><span class="ss">                    font-family: &#39;Noto Color Emoji&#39;;</span></span>
<span id="cb129-25"><a href="#cb129-25" aria-hidden="true" tabindex="-1"></a><span class="ss">                    src: local(&#39;Noto Color Emoji&#39;), url(&#39;https://fonts.googleapis.com/css2?family=Noto+Color+Emoji&amp;display=swap&#39;);</span></span>
<span id="cb129-26"><a href="#cb129-26" aria-hidden="true" tabindex="-1"></a><span class="ss">                </span><span class="ch">}}</span></span>
<span id="cb129-27"><a href="#cb129-27" aria-hidden="true" tabindex="-1"></a><span class="ss">                body </span><span class="ch">{{</span></span>
<span id="cb129-28"><a href="#cb129-28" aria-hidden="true" tabindex="-1"></a><span class="ss">                    font-family: &#39;Noto Color Emoji&#39;, &#39;Segoe UI Emoji&#39;, &#39;Noto Sans&#39;, sans-serif;</span></span>
<span id="cb129-29"><a href="#cb129-29" aria-hidden="true" tabindex="-1"></a><span class="ss">                    line-height: 1.6;</span></span>
<span id="cb129-30"><a href="#cb129-30" aria-hidden="true" tabindex="-1"></a><span class="ss">                    color: #333;</span></span>
<span id="cb129-31"><a href="#cb129-31" aria-hidden="true" tabindex="-1"></a><span class="ss">                    max-width: 800px;</span></span>
<span id="cb129-32"><a href="#cb129-32" aria-hidden="true" tabindex="-1"></a><span class="ss">                    margin: 0 auto;</span></span>
<span id="cb129-33"><a href="#cb129-33" aria-hidden="true" tabindex="-1"></a><span class="ss">                    padding: 40px 20px;</span></span>
<span id="cb129-34"><a href="#cb129-34" aria-hidden="true" tabindex="-1"></a><span class="ss">                </span><span class="ch">}}</span></span>
<span id="cb129-35"><a href="#cb129-35" aria-hidden="true" tabindex="-1"></a><span class="ss">                h1 </span><span class="ch">{{</span></span>
<span id="cb129-36"><a href="#cb129-36" aria-hidden="true" tabindex="-1"></a><span class="ss">                    color: #0052d4;</span></span>
<span id="cb129-37"><a href="#cb129-37" aria-hidden="true" tabindex="-1"></a><span class="ss">                    border-bottom: 3px solid #0052d4;</span></span>
<span id="cb129-38"><a href="#cb129-38" aria-hidden="true" tabindex="-1"></a><span class="ss">                </span><span class="ch">}}</span></span>
<span id="cb129-39"><a href="#cb129-39" aria-hidden="true" tabindex="-1"></a><span class="ss">                table </span><span class="ch">{{</span></span>
<span id="cb129-40"><a href="#cb129-40" aria-hidden="true" tabindex="-1"></a><span class="ss">                    border-collapse: collapse;</span></span>
<span id="cb129-41"><a href="#cb129-41" aria-hidden="true" tabindex="-1"></a><span class="ss">                    width: 100%;</span></span>
<span id="cb129-42"><a href="#cb129-42" aria-hidden="true" tabindex="-1"></a><span class="ss">                    margin: 20px 0;</span></span>
<span id="cb129-43"><a href="#cb129-43" aria-hidden="true" tabindex="-1"></a><span class="ss">                </span><span class="ch">}}</span></span>
<span id="cb129-44"><a href="#cb129-44" aria-hidden="true" tabindex="-1"></a><span class="ss">                th, td </span><span class="ch">{{</span></span>
<span id="cb129-45"><a href="#cb129-45" aria-hidden="true" tabindex="-1"></a><span class="ss">                    border: 1px solid #ddd;</span></span>
<span id="cb129-46"><a href="#cb129-46" aria-hidden="true" tabindex="-1"></a><span class="ss">                    padding: 12px;</span></span>
<span id="cb129-47"><a href="#cb129-47" aria-hidden="true" tabindex="-1"></a><span class="ss">                </span><span class="ch">}}</span></span>
<span id="cb129-48"><a href="#cb129-48" aria-hidden="true" tabindex="-1"></a><span class="ss">                .emoji-grid </span><span class="ch">{{</span></span>
<span id="cb129-49"><a href="#cb129-49" aria-hidden="true" tabindex="-1"></a><span class="ss">                    font-size: 1.5em;</span></span>
<span id="cb129-50"><a href="#cb129-50" aria-hidden="true" tabindex="-1"></a><span class="ss">                </span><span class="ch">}}</span></span>
<span id="cb129-51"><a href="#cb129-51" aria-hidden="true" tabindex="-1"></a><span class="ss">            &lt;/style&gt;</span></span>
<span id="cb129-52"><a href="#cb129-52" aria-hidden="true" tabindex="-1"></a><span class="ss">        &lt;/head&gt;</span></span>
<span id="cb129-53"><a href="#cb129-53" aria-hidden="true" tabindex="-1"></a><span class="ss">        &lt;body&gt;</span><span class="sc">{</span>html_content<span class="sc">}</span><span class="ss">&lt;/body&gt;</span></span>
<span id="cb129-54"><a href="#cb129-54" aria-hidden="true" tabindex="-1"></a><span class="ss">        &lt;/html&gt;</span></span>
<span id="cb129-55"><a href="#cb129-55" aria-hidden="true" tabindex="-1"></a><span class="ss">        &quot;&quot;&quot;</span></span>
<span id="cb129-56"><a href="#cb129-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-57"><a href="#cb129-57" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Converter para PDF</span></span>
<span id="cb129-58"><a href="#cb129-58" aria-hidden="true" tabindex="-1"></a>        HTML(string<span class="op">=</span>full_html).write_pdf(pdf_file)</span>
<span id="cb129-59"><a href="#cb129-59" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;‚úÖ PDF gerado: </span><span class="sc">{</span>pdf_file<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb129-60"><a href="#cb129-60" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;üìä Tamanho do arquivo: </span><span class="sc">{</span>os<span class="sc">.</span>path<span class="sc">.</span>getsize(pdf_file)<span class="sc">}</span><span class="ss"> bytes&quot;</span>)</span>
<span id="cb129-61"><a href="#cb129-61" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">True</span></span>
<span id="cb129-62"><a href="#cb129-62" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">Exception</span> <span class="im">as</span> e:</span>
<span id="cb129-63"><a href="#cb129-63" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;‚ùå Erro durante a convers√£o: </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb129-64"><a href="#cb129-64" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">False</span></span>
<span id="cb129-65"><a href="#cb129-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-66"><a href="#cb129-66" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">&quot;__main__&quot;</span>:</span>
<span id="cb129-67"><a href="#cb129-67" aria-hidden="true" tabindex="-1"></a>    success <span class="op">=</span> convert_markdown_to_pdf(<span class="st">&quot;teste_emojis.md&quot;</span>, <span class="st">&quot;teste_emojis_weasy.pdf&quot;</span>)</span>
<span id="cb129-68"><a href="#cb129-68" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> success:</span>
<span id="cb129-69"><a href="#cb129-69" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">üéâ Convers√£o conclu√≠da com sucesso!&quot;</span>)</span>
<span id="cb129-70"><a href="#cb129-70" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb129-71"><a href="#cb129-71" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">üí• Falha na convers√£o.&quot;</span>)</span></code></pre></div>
<p><strong>Executar</strong>:</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a><span class="ex">python</span> converter_weasy.py</span></code></pre></div>
<hr />
<h3 data-number="1.2.63" id="solu√ß√£o-3-fallback-com-emojis-monocrom√°ticos"><span class="header-section-number">1.2.63</span> Solu√ß√£o 3: Fallback com
Emojis Monocrom√°ticos</h3>
<p>Se o objetivo principal √© gerar um PDF com emojis (mesmo que em preto
e branco) para evitar o erro, use o Pandoc com <code>xelatex</code> e
<code>Segoe UI Emoji</code>, que √© mais est√°vel:</p>
<div class="sourceCode" id="cb131"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pandoc</span> teste_emojis.md <span class="at">-o</span> teste_emojis.pdf <span class="at">--pdf-engine</span><span class="op">=</span>xelatex <span class="at">-V</span> mainfont=<span class="st">&quot;Segoe UI Emoji&quot;</span> <span class="at">-V</span> lang=pt-PT <span class="at">--css</span><span class="op">=</span>estilos.css</span></code></pre></div>
<hr />
<h3 data-number="1.2.64" id="solu√ß√£o-de-problemas-adicionais-3"><span class="header-section-number">1.2.64</span> Solu√ß√£o de Problemas
Adicionais</h3>
<p>Se o erro com <code>Noto Color Emoji</code> persistir: 1.
<strong>Testar com Arquivo Simples</strong>: Crie um arquivo de teste:
<code>markdown    # Teste üòäüåà    - Sorriso üòä    - Arco-√≠ris üåà</code>
Converta com:
<code>bash    pandoc teste_simples.md -o teste_simples.pdf --pdf-engine=xelatex -V mainfont=&quot;Segoe UI Emoji&quot; -V lang=pt-PT</code>
Isso isola se o problema √© com a fonte ou emojis espec√≠ficos.</p>
<ol start="2" type="1">
<li><p><strong>Reinstalar TeX Live</strong>: Remova e reinstale o TeX
Live para corrigir poss√≠veis corrup√ß√µes:</p>
<div class="sourceCode" id="cb132"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-R</span> mingw-w64-x86_64-texlive-fonts-extra</span>
<span id="cb132-2"><a href="#cb132-2" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-S</span> mingw-w64-x86_64-texlive-fonts-extra</span></code></pre></div></li>
<li><p><strong>Verificar Visualizador de PDF</strong>: Emojis coloridos
requerem visualizadores como Adobe Acrobat, Chrome ou Edge. Teste o PDF
gerado em um desses.</p></li>
<li><p><strong>Usar Fonte Alternativa</strong>: Se
<code>Noto Color Emoji</code> continuar falhando, tente
<code>Apple Color Emoji</code> (se dispon√≠vel) ou
<code>Segoe UI Emoji</code>:</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pandoc</span> teste_emojis.md <span class="at">-o</span> teste_emojis.pdf <span class="at">--pdf-engine</span><span class="op">=</span>lualatex <span class="at">-V</span> mainfont=<span class="st">&quot;Segoe UI Emoji&quot;</span> <span class="at">-V</span> lang=pt-PT</span></code></pre></div></li>
</ol>
<hr />
<h3 data-number="1.2.65" id="recomenda√ß√£o-final-2"><span class="header-section-number">1.2.65</span> Recomenda√ß√£o Final</h3>
<p>O erro com <code>Noto Color Emoji</code> no <code>lualatex</code> √©
devido a uma fonte corrompida ou incompat√≠vel no TeX Live do MSYS2. A
solu√ß√£o mais confi√°vel √©: 1. Substituir a fonte
<code>Noto Color Emoji</code> no TeX Live com a vers√£o do Windows (como
descrito). 2. Usar o script <code>converter_pandoc.py</code> atualizado,
que tenta <code>lualatex</code> e reverte para <code>xelatex</code> com
<code>Segoe UI Emoji</code>. 3. Se precisar de emojis coloridos, testar
o WeasyPrint com o script fornecido.</p>
<p><strong>Comando recomendado</strong>:</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pandoc</span> teste_emojis.md <span class="at">-o</span> teste_emojis.pdf <span class="at">--pdf-engine</span><span class="op">=</span>lualatex <span class="at">-V</span> mainfont=<span class="st">&quot;Noto Color Emoji&quot;</span> <span class="at">-V</span> lang=pt-PT <span class="at">--css</span><span class="op">=</span>estilos.css</span></code></pre></div>
<p><strong>Pr√≥ximos Passos</strong>: 1. Substitua a fonte
<code>Noto Color Emoji</code> no TeX Live e teste o comando Pandoc. 2.
Execute o script <code>converter_pandoc.py</code> atualizado. 3. Se o
problema persistir, tente o script WeasyPrint. 4. Verifique o PDF em
Adobe Acrobat, Chrome ou Edge.</p>
<p>Se ainda houver erros ou os emojis n√£o aparecerem coloridos,
compartilhe detalhes (ex.: sa√≠da de erros, visualizador usado, emojis
espec√≠ficos que falham) para uma solu√ß√£o mais direcionada! üòä</p>
<hr />
<h3 data-number="1.2.66" id="utilizador-2025-10-28-220249-grok"><span class="header-section-number">1.2.66</span> üë§ Utilizador
<em>(2025-10-28 22:02:49)</em> <em>[Grok]</em></h3>
<p>Comparar WeasyPrint vs Pandoc</p>
<hr />
<h3 data-number="1.2.67" id="grok-2025-10-28-220349-grok"><span class="header-section-number">1.2.67</span> ü§ñ Grok <em>(2025-10-28
22:03:49)</em> <em>[Grok]</em></h3>
<p>Para converter o arquivo <code>teste_emojis.md</code> em PDF com
suporte a emojis (especialmente coloridos) no ambiente MSYS2, voc√™ est√°
considerando duas ferramentas open-source: <strong>WeasyPrint</strong> e
<strong>Pandoc</strong>. Ambas s√£o excelentes, mas t√™m diferen√ßas
significativas em termos de funcionalidades, facilidade de uso,
depend√™ncias, desempenho e suporte a emojis. Abaixo, apresento uma
compara√ß√£o detalhada entre WeasyPrint e Pandoc, com foco no seu caso
(convers√£o de Markdown com emojis para PDF, em portugu√™s de Portugal, no
MSYS2), considerando os problemas anteriores (ex.: erro com
<code>Noto Color Emoji</code> no Pandoc e emojis monocrom√°ticos no
<code>wkhtmltopdf</code>).</p>
<hr />
<h3 data-number="1.2.68" id="compara√ß√£o-weasyprint-vs.-pandoc"><span class="header-section-number">1.2.68</span> Compara√ß√£o: WeasyPrint
vs.¬†Pandoc</h3>
<table>
<colgroup>
<col style="width: 16%" />
<col style="width: 42%" />
<col style="width: 40%" />
</colgroup>
<thead>
<tr>
<th><strong>Crit√©rio</strong></th>
<th><strong>WeasyPrint</strong></th>
<th><strong>Pandoc</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Descri√ß√£o</strong></td>
<td>Biblioteca Python que converte HTML/CSS para PDF, usando uma engine
moderna baseada em Pango e WebKit.</td>
<td>Ferramenta de linha de comando que converte entre v√°rios formatos
(Markdown, HTML, PDF, etc.), usando LaTeX para PDFs.</td>
</tr>
<tr>
<td><strong>Tipo de Entrada</strong></td>
<td>HTML/CSS (Markdown pode ser convertido para HTML primeiro).</td>
<td>Markdown nativo, com suporte a HTML, LaTeX, e outros formatos.</td>
</tr>
<tr>
<td><strong>Sa√≠da PDF</strong></td>
<td>Gera PDFs diretamente via HTML/CSS, com suporte a estilos
modernos.</td>
<td>Gera PDFs via motores LaTeX (ex.: <code>xelatex</code>,
<code>lualatex</code>).</td>
</tr>
<tr>
<td><strong>Suporte a Emojis</strong></td>
<td>Excelente suporte a emojis, incluindo coloridos, com fontes como
<code>Noto Color Emoji</code> ou <code>Segoe UI Emoji</code>.</td>
<td>Suporte robusto a emojis, coloridos com <code>lualatex</code> e
<code>Noto Color Emoji</code>, monocrom√°ticos com
<code>xelatex</code>.</td>
</tr>
<tr>
<td><strong>Suporte a Emojis Coloridos</strong></td>
<td>Sim, com fontes como <code>Noto Color Emoji</code> (depende do
visualizador de PDF).</td>
<td>Sim, com <code>lualatex</code> e fontes como
<code>Noto Color Emoji</code> (depende do visualizador).</td>
</tr>
<tr>
<td><strong>Facilidade de Instala√ß√£o (MSYS2)</strong></td>
<td>Requer Python, <code>pip</code>, e GTK3
(<code>pacman -S mingw-w64-x86_64-gtk3</code>). Pode ser complexo no
Windows/MSYS2 devido a depend√™ncias.</td>
<td>Requer TeX Live
(<code>pacman -S mingw-w64-x86_64-texlive-core mingw-w64-x86_64-texlive-fonts-extra</code>).
Pandoc pode ser instalado via MSI.</td>
</tr>
<tr>
<td><strong>Depend√™ncias</strong></td>
<td>Python, WeasyPrint, GTK3, Pango, Cairo. Menos pesado que Selenium,
mas mais que Pandoc.</td>
<td>TeX Live (pesado, mas necess√°rio apenas para PDFs). Pandoc √©
leve.</td>
</tr>
<tr>
<td><strong>Desempenho</strong></td>
<td>R√°pido para documentos pequenos/m√©dios, mas pode ser mais lento que
Pandoc para Markdown puro.</td>
<td>Muito r√°pido para Markdown, especialmente com <code>xelatex</code>.
<code>lualatex</code> pode ser mais lento para emojis coloridos.</td>
</tr>
<tr>
<td><strong>Estiliza√ß√£o</strong></td>
<td>Excelente suporte a CSS moderno, ideal para personaliza√ß√£o
detalhada.</td>
<td>Suporte limitado a CSS (via <code>--css</code>), mas permite modelos
LaTeX para personaliza√ß√£o avan√ßada.</td>
</tr>
<tr>
<td><strong>Integra√ß√£o com Python</strong></td>
<td>Nativo, pois √© uma biblioteca Python. F√°cil de integrar em
scripts.</td>
<td>Pode ser chamado via <code>subprocess</code> em Python, mas n√£o √©
uma biblioteca nativa.</td>
</tr>
<tr>
<td><strong>Suporte a Markdown</strong></td>
<td>Requer convers√£o pr√©via para HTML (ex.: usando biblioteca
<code>markdown</code>).</td>
<td>Suporte nativo a Markdown, com extens√µes para tabelas, listas,
etc.</td>
</tr>
<tr>
<td><strong>Suporte a Portugu√™s (pt-PT)</strong></td>
<td>N√£o tem suporte nativo a hifeniza√ß√£o em portugu√™s, mas pode ser
configurado via CSS ou HTML.</td>
<td>Suporte nativo a hifeniza√ß√£o em portugu√™s de Portugal
(<code>-V lang=pt-PT</code>).</td>
</tr>
<tr>
<td><strong>Robustez no MSYS2</strong></td>
<td>Funciona bem, mas a instala√ß√£o do GTK3 pode ser problem√°tica no
Windows/MSYS2.</td>
<td>Muito robusto no MSYS2, mas requer configura√ß√£o correta do TeX
Live.</td>
</tr>
<tr>
<td><strong>Manuten√ß√£o</strong></td>
<td>Ativamente mantido, com atualiza√ß√µes frequentes.</td>
<td>Ativamente mantido, amplamente usado, com grande comunidade.</td>
</tr>
<tr>
<td><strong>Tamanho do PDF Gerado</strong></td>
<td>Geralmente menor, devido √† renderiza√ß√£o otimizada de HTML/CSS.</td>
<td>Pode ser maior, especialmente com <code>lualatex</code> e fontes
complexas.</td>
</tr>
<tr>
<td><strong>Resolu√ß√£o de Problemas Anteriores</strong></td>
<td>Evita o erro <code>loca table not found</code> do Pandoc, pois n√£o
depende do TeX Live.</td>
<td>Pode apresentar erros com fontes corrompidas (ex.:
<code>Noto Color Emoji</code>), mas corrig√≠vel.</td>
</tr>
</tbody>
</table>
<hr />
<h3 data-number="1.2.69" id="contexto-do-seu-caso"><span class="header-section-number">1.2.69</span> Contexto do Seu Caso</h3>
<ul>
<li><strong>Arquivo</strong>: <code>teste_emojis.md</code> cont√©m
Markdown com emojis (ex.: üåà, üçö, üòä), tabelas e texto em portugu√™s de
Portugal.</li>
<li><strong>Problema com wkhtmltopdf</strong>: Emojis aparecem em preto
e branco devido √† engine WebKit desatualizada (vers√£o 0.12.6).</li>
<li><strong>Problema com Pandoc</strong>: Erro
<code>loca table not found</code> com <code>Noto Color Emoji</code> no
<code>lualatex</code>, indicando uma fonte corrompida no TeX Live.</li>
<li><strong>Objetivo</strong>: Gerar um PDF com emojis
(preferencialmente coloridos), texto bem formatado e hifeniza√ß√£o em
portugu√™s de Portugal.</li>
</ul>
<hr />
<h3 data-number="1.2.70" id="weasyprint-detalhes"><span class="header-section-number">1.2.70</span> WeasyPrint: Detalhes</h3>
<p><strong>Vantagens</strong>: - <strong>Emojis Coloridos</strong>:
Suporta emojis coloridos com fontes como <code>Noto Color Emoji</code>
ou <code>Segoe UI Emoji</code>, desde que o visualizador de PDF (ex.:
Adobe Acrobat, Chrome, Edge) seja compat√≠vel. -
<strong>Estiliza√ß√£o</strong>: Excelente suporte a CSS moderno,
permitindo personaliza√ß√£o detalhada (ex.:
<code>.emoji-grid { font-size: 1.5em; }</code>). - <strong>Integra√ß√£o
com Python</strong>: Nativo, ideal para scripts como o
<code>converter_weasy.py</code> fornecido anteriormente. -
<strong>Leveza</strong>: N√£o depende de motores LaTeX, reduzindo o
tamanho das depend√™ncias em compara√ß√£o com o TeX Live. - <strong>Evita
Erros do TeX Live</strong>: N√£o usa fontes do TeX Live, evitando
problemas como o <code>loca table not found</code>.</p>
<p><strong>Desvantagens</strong>: - <strong>Instala√ß√£o no
MSYS2</strong>: Requer GTK3, Cairo e Pango, que podem ser complicados de
configurar no Windows/MSYS2. - <strong>Hifeniza√ß√£o</strong>: N√£o suporta
hifeniza√ß√£o em portugu√™s de Portugal nativamente; requer bibliotecas
adicionais ou ajustes no HTML/CSS. - <strong>Depend√™ncia de
Convers√£o</strong>: Precisa converter Markdown para HTML (ex.: usando
<code>markdown</code>), adicionando uma etapa extra.</p>
<p><strong>Exemplo de Uso</strong>:</p>
<div class="sourceCode" id="cb135"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pip</span> install weasyprint markdown</span>
<span id="cb135-2"><a href="#cb135-2" aria-hidden="true" tabindex="-1"></a><span class="ex">python</span> converter_weasy.py</span></code></pre></div>
<p>O script <code>converter_weasy.py</code> (fornecido anteriormente)
converte <code>teste_emojis.md</code> para
<code>teste_emojis_weasy.pdf</code> com emojis coloridos, usando CSS
para estiliza√ß√£o.</p>
<hr />
<h3 data-number="1.2.71" id="pandoc-detalhes"><span class="header-section-number">1.2.71</span> Pandoc: Detalhes</h3>
<p><strong>Vantagens</strong>: - <strong>Suporte Nativo a
Markdown</strong>: Processa <code>teste_emojis.md</code> diretamente,
sem necessidade de convers√£o para HTML. - <strong>Hifeniza√ß√£o em
pt-PT</strong>: Suporte nativo com <code>-V lang=pt-PT</code>, ideal
para texto em portugu√™s de Portugal. - <strong>Emojis
Coloridos</strong>: Com <code>lualatex</code> e
<code>Noto Color Emoji</code>, suporta emojis coloridos (dependendo do
visualizador). - <strong>Robustez</strong>: Amplamente testado e usado,
com suporte a tabelas, listas e extens√µes Markdown. -
<strong>Flexibilidade</strong>: Permite personaliza√ß√£o via CSS
(<code>--css</code>) ou modelos LaTeX.</p>
<p><strong>Desvantagens</strong>: - <strong>Depend√™ncias
Pesadas</strong>: O TeX Live √© grande e pode ter problemas com fontes
(ex.: <code>loca table not found</code>). -
<strong>Configura√ß√£o</strong>: Requer configura√ß√£o correta do TeX Live e
fontes no MSYS2. - <strong>Estiliza√ß√£o Limitada</strong>: Suporte a CSS
√© menos robusto que o WeasyPrint; personaliza√ß√µes avan√ßadas exigem
modelos LaTeX.</p>
<p><strong>Exemplo de Uso</strong>: Ap√≥s corrigir a fonte
<code>Noto Color Emoji</code>:</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb136-1"><a href="#cb136-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pandoc</span> teste_emojis.md <span class="at">-o</span> teste_emojis.pdf <span class="at">--pdf-engine</span><span class="op">=</span>lualatex <span class="at">-V</span> mainfont=<span class="st">&quot;Noto Color Emoji&quot;</span> <span class="at">-V</span> lang=pt-PT <span class="at">--css</span><span class="op">=</span>estilos.css</span></code></pre></div>
<p>Ou use o script <code>converter_pandoc.py</code> atualizado, que
reverte para <code>xelatex</code> com <code>Segoe UI Emoji</code> se
<code>lualatex</code> falhar.</p>
<hr />
<h3 data-number="1.2.72" id="resolu√ß√£o-do-erro-anterior-pandoc"><span class="header-section-number">1.2.72</span> Resolu√ß√£o do Erro Anterior
(Pandoc)</h3>
<p>O erro <code>loca table not found</code> no <code>lualatex</code> foi
causado por uma fonte <code>Noto Color Emoji</code> corrompida ou
incompat√≠vel no TeX Live. A solu√ß√£o fornecida anteriormente (copiar
<code>NotoColorEmoji-SVGinOT.ttf</code> do Windows para o TeX Live) deve
corrigir isso:</p>
<div class="sourceCode" id="cb137"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> <span class="at">-p</span> /c/msys64/mingw64/share/texmf-dist/fonts/truetype/google/noto-emoji</span>
<span id="cb137-2"><a href="#cb137-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cp</span> /c/Users/mpmen/AppData/Local/Microsoft/Windows/Fonts/NotoColorEmoji-SVGinOT.ttf /c/msys64/mingw64/share/texmf-dist/fonts/truetype/google/noto-emoji/NotoColorEmoji.ttf</span>
<span id="cb137-3"><a href="#cb137-3" aria-hidden="true" tabindex="-1"></a><span class="ex">fc-cache</span> <span class="at">-fv</span></span></code></pre></div>
<p>Teste novamente com:</p>
<div class="sourceCode" id="cb138"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pandoc</span> teste_emojis.md <span class="at">-o</span> teste_emojis.pdf <span class="at">--pdf-engine</span><span class="op">=</span>lualatex <span class="at">-V</span> mainfont=<span class="st">&quot;Noto Color Emoji&quot;</span> <span class="at">-V</span> lang=pt-PT <span class="at">--css</span><span class="op">=</span>estilos.css</span></code></pre></div>
<p>Se o erro persistir, use <code>xelatex</code> com
<code>Segoe UI Emoji</code> (monocrom√°tico, mas est√°vel):</p>
<div class="sourceCode" id="cb139"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pandoc</span> teste_emojis.md <span class="at">-o</span> teste_emojis.pdf <span class="at">--pdf-engine</span><span class="op">=</span>xelatex <span class="at">-V</span> mainfont=<span class="st">&quot;Segoe UI Emoji&quot;</span> <span class="at">-V</span> lang=pt-PT <span class="at">--css</span><span class="op">=</span>estilos.css</span></code></pre></div>
<hr />
<h3 data-number="1.2.73" id="compara√ß√£o-no-seu-contexto"><span class="header-section-number">1.2.73</span> Compara√ß√£o no Seu
Contexto</h3>
<ul>
<li><strong>WeasyPrint</strong>:
<ul>
<li><p><strong>Pr√≥s</strong>: Evita o erro do TeX Live, suporta emojis
coloridos com <code>Noto Color Emoji</code>, ideal para estiliza√ß√£o via
CSS, integra√ß√£o nativa com Python.</p></li>
<li><p><strong>Contras</strong>: Instala√ß√£o do GTK3 pode ser complicada
no MSYS2, sem suporte nativo a hifeniza√ß√£o em portugu√™s.</p></li>
<li><p><strong>Indicado se</strong>: Voc√™ prefere uma solu√ß√£o Python,
precisa de emojis coloridos e n√£o se importa com a configura√ß√£o
inicial.</p></li>
<li><p><strong>Teste</strong>: Execute o script
<code>converter_weasy.py</code> fornecido anteriormente:</p>
<div class="sourceCode" id="cb140"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a><span class="ex">python</span> converter_weasy.py</span></code></pre></div></li>
</ul></li>
<li><strong>Pandoc</strong>:
<ul>
<li><p><strong>Pr√≥s</strong>: Suporte nativo a Markdown e hifeniza√ß√£o em
portugu√™s (<code>pt-PT</code>), robusto para emojis (coloridos com
<code>lualatex</code>), amplamente usado.</p></li>
<li><p><strong>Contras</strong>: Depend√™ncia do TeX Live √© pesada, e
erros como <code>loca table not found</code> podem ocorrer se as fontes
n√£o estiverem configuradas corretamente.</p></li>
<li><p><strong>Indicado se</strong>: Voc√™ quer a solu√ß√£o mais simples
para Markdown e precisa de hifeniza√ß√£o em portugu√™s.</p></li>
<li><p><strong>Teste</strong>: Ap√≥s corrigir a fonte, use:</p>
<div class="sourceCode" id="cb141"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pandoc</span> teste_emojis.md <span class="at">-o</span> teste_emojis.pdf <span class="at">--pdf-engine</span><span class="op">=</span>lualatex <span class="at">-V</span> mainfont=<span class="st">&quot;Noto Color Emoji&quot;</span> <span class="at">-V</span> lang=pt-PT <span class="at">--css</span><span class="op">=</span>estilos.css</span></code></pre></div>
<p>Ou o script <code>converter_pandoc.py</code> atualizado:</p>
<div class="sourceCode" id="cb142"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb142-1"><a href="#cb142-1" aria-hidden="true" tabindex="-1"></a><span class="ex">python</span> converter_pandoc.py</span></code></pre></div></li>
</ul></li>
</ul>
<hr />
<h3 data-number="1.2.74" id="recomenda√ß√£o-final-3"><span class="header-section-number">1.2.74</span> Recomenda√ß√£o Final</h3>
<p>Dado o erro anterior com <code>Noto Color Emoji</code> no Pandoc e os
emojis monocrom√°ticos no <code>wkhtmltopdf</code>, recomendo: 1.
<strong>Corrigir o Pandoc</strong>: - Substitua a fonte
<code>Noto Color Emoji</code> no TeX Live, como descrito. - Teste com o
comando <code>lualatex</code> para emojis coloridos ou
<code>xelatex</code> para emojis monocrom√°ticos. - Use o script
<code>converter_pandoc.py</code> atualizado, que √© robusto e reverte
para <code>xelatex</code> se necess√°rio. 2. <strong>Testar
WeasyPrint</strong>: - Se o Pandoc continuar com problemas de fontes, o
WeasyPrint √© uma alternativa confi√°vel para emojis coloridos. - Instale
as depend√™ncias e execute o script <code>converter_weasy.py</code>.</p>
<p><strong>Comando recomendado (Pandoc)</strong>:</p>
<div class="sourceCode" id="cb143"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pandoc</span> teste_emojis.md <span class="at">-o</span> teste_emojis.pdf <span class="at">--pdf-engine</span><span class="op">=</span>lualatex <span class="at">-V</span> mainfont=<span class="st">&quot;Noto Color Emoji&quot;</span> <span class="at">-V</span> lang=pt-PT <span class="at">--css</span><span class="op">=</span>estilos.css</span></code></pre></div>
<p><strong>Pr√≥ximos Passos</strong>: 1. Copie a fonte
<code>NotoColorEmoji-SVGinOT.ttf</code> para o TeX Live e atualize o
cache (<code>fc-cache -fv</code>). 2. Teste o comando Pandoc acima ou o
script <code>converter_pandoc.py</code>. 3. Se preferir emojis coloridos
sem complica√ß√µes, teste o script WeasyPrint. 4. Abra o PDF em Adobe
Acrobat, Chrome ou Edge para verificar os emojis coloridos.</p>
<p>Se houver novos erros ou os emojis n√£o aparecerem como esperado,
compartilhe detalhes (ex.: sa√≠da de erros, visualizador usado, emojis
espec√≠ficos que falham) para uma solu√ß√£o mais direcionada! üòä</p>
<hr />
<h3 data-number="1.2.75" id="utilizador-2025-10-28-220658-grok"><span class="header-section-number">1.2.75</span> üë§ Utilizador
<em>(2025-10-28 22:06:58)</em> <em>[Grok]</em></h3>
<p>Alternativas a WeasyPrint</p>
<hr />
<h3 data-number="1.2.76" id="grok-2025-10-28-220810-grok"><span class="header-section-number">1.2.76</span> ü§ñ Grok <em>(2025-10-28
22:08:10)</em> <em>[Grok]</em></h3>
<p>No seu caso, voc√™ est√° buscando alternativas ao
<strong>WeasyPrint</strong> para converter o arquivo
<code>teste_emojis.md</code> em PDF com suporte a emojis
(preferencialmente coloridos), em um ambiente MSYS2 no Windows, com
texto em portugu√™s de Portugal. O WeasyPrint √© uma excelente ferramenta
Python para renderizar HTML/CSS em PDF, mas sua instala√ß√£o no MSYS2 pode
ser complexa devido √†s depend√™ncias (ex.: GTK3, Cairo, Pango). Al√©m
disso, voc√™ enfrentou problemas com o Pandoc (erro
<code>loca table not found</code> com <code>Noto Color Emoji</code>) e o
<code>wkhtmltopdf</code> (emojis monocrom√°ticos). Abaixo, apresento
alternativas open-source ao WeasyPrint, comparando suas funcionalidades,
facilidade de uso, suporte a emojis e integra√ß√£o com o MSYS2, com foco
no seu objetivo de gerar PDFs a partir de Markdown com emojis
coloridos.</p>
<hr />
<h3 data-number="1.2.77" id="alternativas-ao-weasyprint"><span class="header-section-number">1.2.77</span> Alternativas ao
WeasyPrint</h3>
<p>As alternativas ao WeasyPrint devem suportar a convers√£o de Markdown
(ou HTML gerado a partir de Markdown) para PDF, com boa renderiza√ß√£o de
emojis e compatibilidade com o MSYS2. Aqui est√£o as principais
op√ß√µes:</p>
<h4 data-number="1.2.77.1" id="pandoc-com-lualatex"><span class="header-section-number">1.2.77.1</span> 1. <strong>Pandoc com
LuaLaTeX</strong></h4>
<p>Embora voc√™ j√° tenha tentado o Pandoc e enfrentado o erro
<code>loca table not found</code>, ele permanece a alternativa mais
robusta ao WeasyPrint, desde que o problema com a fonte
<code>Noto Color Emoji</code> seja resolvido. O Pandoc √© uma ferramenta
de linha de comando que converte Markdown diretamente para PDF, usando
motores LaTeX como <code>lualatex</code> ou <code>xelatex</code>.</p>
<p><strong>Caracter√≠sticas</strong>: - <strong>Entrada</strong>:
Markdown nativo (suporta tabelas, listas, extens√µes). -
<strong>Sa√≠da</strong>: PDF via <code>lualatex</code> (emojis coloridos)
ou <code>xelatex</code> (emojis monocrom√°ticos). - <strong>Suporte a
Emojis</strong>: Excelente com <code>Noto Color Emoji</code> (coloridos
com <code>lualatex</code>) ou <code>Segoe UI Emoji</code>
(monocrom√°ticos com <code>xelatex</code>). -
<strong>Hifeniza√ß√£o</strong>: Suporte nativo a portugu√™s de Portugal
(<code>-V lang=pt-PT</code>). - <strong>Estiliza√ß√£o</strong>: Suporte
limitado a CSS (<code>--css</code>), mas permite modelos LaTeX para
personaliza√ß√£o avan√ßada.</p>
<p><strong>Instala√ß√£o no MSYS2</strong>:</p>
<div class="sourceCode" id="cb144"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-S</span> mingw-w64-x86_64-texlive-core mingw-w64-x86_64-texlive-fonts-extra mingw-w64-x86_64-texlive-lang-portuguese</span></code></pre></div>
<p>Se o Pandoc n√£o estiver no reposit√≥rio, instale via MSI do <a href="https://pandoc.org/installing.html">site oficial</a> e adicione ao
PATH:</p>
<div class="sourceCode" id="cb145"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">PATH</span><span class="op">=</span><span class="st">&quot;</span><span class="va">$PATH</span><span class="st">:/c/Users/mpmen/AppData/Local/Pandoc&quot;</span></span>
<span id="cb145-2"><a href="#cb145-2" aria-hidden="true" tabindex="-1"></a><span class="bu">source</span> ~/.bashrc</span></code></pre></div>
<p><strong>Corrigir o Erro <code>loca table not found</code></strong>: O
erro anterior foi causado por uma fonte <code>Noto Color Emoji</code>
corrompida no TeX Live. Substitua-a pela fonte do Windows:</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb146-1"><a href="#cb146-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> <span class="at">-p</span> /c/msys64/mingw64/share/texmf-dist/fonts/truetype/google/noto-emoji</span>
<span id="cb146-2"><a href="#cb146-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cp</span> /c/Users/mpmen/AppData/Local/Microsoft/Windows/Fonts/NotoColorEmoji-SVGinOT.ttf /c/msys64/mingw64/share/texmf-dist/fonts/truetype/google/noto-emoji/NotoColorEmoji.ttf</span>
<span id="cb146-3"><a href="#cb146-3" aria-hidden="true" tabindex="-1"></a><span class="ex">fc-cache</span> <span class="at">-fv</span></span></code></pre></div>
<p><strong>Comando</strong>:</p>
<div class="sourceCode" id="cb147"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pandoc</span> teste_emojis.md <span class="at">-o</span> teste_emojis.pdf <span class="at">--pdf-engine</span><span class="op">=</span>lualatex <span class="at">-V</span> mainfont=<span class="st">&quot;Noto Color Emoji&quot;</span> <span class="at">-V</span> lang=pt-PT <span class="at">--css</span><span class="op">=</span>estilos.css</span></code></pre></div>
<p>Ou use <code>xelatex</code> para emojis monocrom√°ticos, evitando o
erro:</p>
<div class="sourceCode" id="cb148"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb148-1"><a href="#cb148-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pandoc</span> teste_emojis.md <span class="at">-o</span> teste_emojis.pdf <span class="at">--pdf-engine</span><span class="op">=</span>xelatex <span class="at">-V</span> mainfont=<span class="st">&quot;Segoe UI Emoji&quot;</span> <span class="at">-V</span> lang=pt-PT <span class="at">--css</span><span class="op">=</span>estilos.css</span></code></pre></div>
<p><strong>Vantagens</strong>: - Suporte nativo a Markdown, sem
convers√£o intermedi√°ria para HTML. - Hifeniza√ß√£o em portugu√™s de
Portugal. - Emojis coloridos com <code>lualatex</code> e visualizadores
compat√≠veis (Adobe Acrobat, Chrome, Edge). - Robusto e amplamente
usado.</p>
<p><strong>Desvantagens</strong>: - Depend√™ncia pesada do TeX Live. -
Configura√ß√£o de fontes pode ser problem√°tica (como o erro que voc√™
enfrentou). - Estiliza√ß√£o via CSS √© menos flex√≠vel que o WeasyPrint.</p>
<p><strong>Compara√ß√£o com WeasyPrint</strong>: - <strong>Pr√≥s
vs.¬†WeasyPrint</strong>: Mais simples para Markdown, melhor suporte a
hifeniza√ß√£o em portugu√™s, menos depend√™ncias Python. - <strong>Contras
vs.¬†WeasyPrint</strong>: Menos flex√≠vel para estiliza√ß√£o CSS, requer TeX
Live, suscet√≠vel a erros de fontes.</p>
<hr />
<h4 data-number="1.2.77.2" id="wkhtmltopdf-1"><span class="header-section-number">1.2.77.2</span> 2.
<strong>wkhtmltopdf</strong></h4>
<p>Voc√™ j√° usou o <code>wkhtmltopdf</code> (vers√£o 0.12.6), mas os
emojis apareceram em preto e branco devido √†s limita√ß√µes da engine
WebKit desatualizada. Embora seja uma alternativa ao WeasyPrint, n√£o √©
ideal para emojis coloridos.</p>
<p><strong>Caracter√≠sticas</strong>: - <strong>Entrada</strong>:
HTML/CSS (Markdown precisa ser convertido para HTML). -
<strong>Sa√≠da</strong>: PDF via WebKit. - <strong>Suporte a
Emojis</strong>: Limitado; emojis aparecem monocrom√°ticos na vers√£o
0.12.6. - <strong>Hifeniza√ß√£o</strong>: N√£o suporta hifeniza√ß√£o em
portugu√™s nativamente. - <strong>Estiliza√ß√£o</strong>: Bom suporte a
CSS, similar ao WeasyPrint.</p>
<p><strong>Instala√ß√£o no MSYS2</strong>:</p>
<div class="sourceCode" id="cb149"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb149-1"><a href="#cb149-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-S</span> mingw-w64-x86_64-wkhtmltopdf</span></code></pre></div>
<p>Ou instale via bin√°rio do <a href="https://wkhtmltopdf.org/downloads.html">site oficial</a> e
adicione ao PATH:</p>
<div class="sourceCode" id="cb150"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb150-1"><a href="#cb150-1" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">PATH</span><span class="op">=</span><span class="st">&quot;</span><span class="va">$PATH</span><span class="st">:/c/Program Files/wkhtmltopdf/bin&quot;</span></span>
<span id="cb150-2"><a href="#cb150-2" aria-hidden="true" tabindex="-1"></a><span class="bu">source</span> ~/.bashrc</span></code></pre></div>
<p><strong>Comando</strong>: Converta <code>teste_emojis.md</code> para
HTML usando a biblioteca <code>markdown</code> (como no script
<code>converter_wkhtml.py</code>) e depois use:</p>
<div class="sourceCode" id="cb151"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb151-1"><a href="#cb151-1" aria-hidden="true" tabindex="-1"></a><span class="ex">wkhtmltopdf</span> <span class="at">--enable-local-file-access</span> <span class="at">--dpi</span> 300 <span class="at">--encoding</span> UTF-8 temp.html teste_emojis_wkhtml.pdf</span></code></pre></div>
<p><strong>Vantagens</strong>: - F√°cil de instalar no MSYS2. - R√°pido
para documentos simples. - Bom suporte a CSS.</p>
<p><strong>Desvantagens</strong>: - Emojis monocrom√°ticos na vers√£o
0.12.6. - Engine WebKit desatualizada, com suporte limitado a fontes
modernas. - Menos mantido que WeasyPrint ou Pandoc.</p>
<p><strong>Compara√ß√£o com WeasyPrint</strong>: - <strong>Pr√≥s
vs.¬†WeasyPrint</strong>: Instala√ß√£o mais simples no MSYS2 (sem GTK3). -
<strong>Contras vs.¬†WeasyPrint</strong>: Pior suporte a emojis
(monocrom√°ticos), menos mantido, menos flex√≠vel para CSS moderno.</p>
<p><strong>Nota</strong>: Devido aos emojis monocrom√°ticos, o
<code>wkhtmltopdf</code> n√£o √© recomendado para o seu caso, a menos que
voc√™ aceite emojis em preto e branco.</p>
<hr />
<h4 data-number="1.2.77.3" id="puppeteer-via-node.js"><span class="header-section-number">1.2.77.3</span> 3. <strong>Puppeteer (via
Node.js)</strong></h4>
<p>O <strong>Puppeteer</strong> √© uma biblioteca Node.js que controla o
Chrome/Chromium em modo headless para gerar PDFs a partir de HTML. √â uma
alternativa moderna ao WeasyPrint, com excelente suporte a emojis
coloridos.</p>
<p><strong>Caracter√≠sticas</strong>: - <strong>Entrada</strong>:
HTML/CSS (Markdown precisa ser convertido para HTML). -
<strong>Sa√≠da</strong>: PDF via Chrome/Chromium. - <strong>Suporte a
Emojis</strong>: Excelente, incluindo emojis coloridos com fontes como
<code>Noto Color Emoji</code>. - <strong>Hifeniza√ß√£o</strong>: N√£o
nativa, mas pode ser implementada via CSS
(<code>hyphens: auto; -webkit-hyphens: auto;</code>). -
<strong>Estiliza√ß√£o</strong>: Suporte completo a CSS moderno.</p>
<p><strong>Instala√ß√£o no MSYS2</strong>: 1. Instale o Node.js:
<code>bash    pacman -S mingw-w64-x86_64-nodejs</code> 2. Instale o
Puppeteer: <code>bash    npm install puppeteer markdown</code></p>
<p><strong>Script Exemplo (converter_puppeteer.js)</strong>:</p>
<div class="sourceCode" id="cb152"><pre class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb152-1"><a href="#cb152-1" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> puppeteer <span class="op">=</span> <span class="pp">require</span>(<span class="st">&#39;puppeteer&#39;</span>)<span class="op">;</span></span>
<span id="cb152-2"><a href="#cb152-2" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> markdown <span class="op">=</span> <span class="pp">require</span>(<span class="st">&#39;markdown&#39;</span>)<span class="op">.</span><span class="at">markdown</span><span class="op">;</span></span>
<span id="cb152-3"><a href="#cb152-3" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> fs <span class="op">=</span> <span class="pp">require</span>(<span class="st">&#39;fs&#39;</span>)<span class="op">.</span><span class="at">promises</span><span class="op">;</span></span>
<span id="cb152-4"><a href="#cb152-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb152-5"><a href="#cb152-5" aria-hidden="true" tabindex="-1"></a><span class="kw">async</span> <span class="kw">function</span> <span class="fu">convertMarkdownToPDF</span>(mdFile<span class="op">,</span> pdfFile) {</span>
<span id="cb152-6"><a href="#cb152-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="vs">`üîÑ Convertendo </span><span class="sc">${</span>mdFile<span class="sc">}</span><span class="vs"> para PDF com Puppeteer...`</span>)<span class="op">;</span></span>
<span id="cb152-7"><a href="#cb152-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span> {</span>
<span id="cb152-8"><a href="#cb152-8" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Ler Markdown</span></span>
<span id="cb152-9"><a href="#cb152-9" aria-hidden="true" tabindex="-1"></a>        <span class="kw">const</span> markdownContent <span class="op">=</span> <span class="cf">await</span> fs<span class="op">.</span><span class="fu">readFile</span>(mdFile<span class="op">,</span> <span class="st">&#39;utf-8&#39;</span>)<span class="op">;</span></span>
<span id="cb152-10"><a href="#cb152-10" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Converter para HTML</span></span>
<span id="cb152-11"><a href="#cb152-11" aria-hidden="true" tabindex="-1"></a>        <span class="kw">const</span> htmlContent <span class="op">=</span> markdown<span class="op">.</span><span class="fu">toHTML</span>(markdownContent)<span class="op">;</span></span>
<span id="cb152-12"><a href="#cb152-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb152-13"><a href="#cb152-13" aria-hidden="true" tabindex="-1"></a>        <span class="co">// HTML com estilos</span></span>
<span id="cb152-14"><a href="#cb152-14" aria-hidden="true" tabindex="-1"></a>        <span class="kw">const</span> fullHtml <span class="op">=</span> <span class="vs">`</span></span>
<span id="cb152-15"><a href="#cb152-15" aria-hidden="true" tabindex="-1"></a><span class="vs">        &lt;!DOCTYPE html&gt;</span></span>
<span id="cb152-16"><a href="#cb152-16" aria-hidden="true" tabindex="-1"></a><span class="vs">        &lt;html&gt;</span></span>
<span id="cb152-17"><a href="#cb152-17" aria-hidden="true" tabindex="-1"></a><span class="vs">        &lt;head&gt;</span></span>
<span id="cb152-18"><a href="#cb152-18" aria-hidden="true" tabindex="-1"></a><span class="vs">            &lt;meta charset=&quot;UTF-8&quot;&gt;</span></span>
<span id="cb152-19"><a href="#cb152-19" aria-hidden="true" tabindex="-1"></a><span class="vs">            &lt;title&gt;Documento com Emojis&lt;/title&gt;</span></span>
<span id="cb152-20"><a href="#cb152-20" aria-hidden="true" tabindex="-1"></a><span class="vs">            &lt;style&gt;</span></span>
<span id="cb152-21"><a href="#cb152-21" aria-hidden="true" tabindex="-1"></a><span class="vs">                @font-face {</span></span>
<span id="cb152-22"><a href="#cb152-22" aria-hidden="true" tabindex="-1"></a><span class="vs">                    font-family: &#39;Noto Color Emoji&#39;;</span></span>
<span id="cb152-23"><a href="#cb152-23" aria-hidden="true" tabindex="-1"></a><span class="vs">                    src: url(&#39;https://fonts.googleapis.com/css2?family=Noto+Color+Emoji&amp;display=swap&#39;);</span></span>
<span id="cb152-24"><a href="#cb152-24" aria-hidden="true" tabindex="-1"></a><span class="vs">                }</span></span>
<span id="cb152-25"><a href="#cb152-25" aria-hidden="true" tabindex="-1"></a><span class="vs">                body {</span></span>
<span id="cb152-26"><a href="#cb152-26" aria-hidden="true" tabindex="-1"></a><span class="vs">                    font-family: &#39;Noto Color Emoji&#39;, &#39;Segoe UI Emoji&#39;, sans-serif;</span></span>
<span id="cb152-27"><a href="#cb152-27" aria-hidden="true" tabindex="-1"></a><span class="vs">                    line-height: 1.6;</span></span>
<span id="cb152-28"><a href="#cb152-28" aria-hidden="true" tabindex="-1"></a><span class="vs">                    color: #333;</span></span>
<span id="cb152-29"><a href="#cb152-29" aria-hidden="true" tabindex="-1"></a><span class="vs">                    max-width: 800px;</span></span>
<span id="cb152-30"><a href="#cb152-30" aria-hidden="true" tabindex="-1"></a><span class="vs">                    margin: 0 auto;</span></span>
<span id="cb152-31"><a href="#cb152-31" aria-hidden="true" tabindex="-1"></a><span class="vs">                    padding: 40px 20px;</span></span>
<span id="cb152-32"><a href="#cb152-32" aria-hidden="true" tabindex="-1"></a><span class="vs">                }</span></span>
<span id="cb152-33"><a href="#cb152-33" aria-hidden="true" tabindex="-1"></a><span class="vs">                h1 {</span></span>
<span id="cb152-34"><a href="#cb152-34" aria-hidden="true" tabindex="-1"></a><span class="vs">                    color: #0052d4;</span></span>
<span id="cb152-35"><a href="#cb152-35" aria-hidden="true" tabindex="-1"></a><span class="vs">                    border-bottom: 3px solid #0052d4;</span></span>
<span id="cb152-36"><a href="#cb152-36" aria-hidden="true" tabindex="-1"></a><span class="vs">                }</span></span>
<span id="cb152-37"><a href="#cb152-37" aria-hidden="true" tabindex="-1"></a><span class="vs">                table {</span></span>
<span id="cb152-38"><a href="#cb152-38" aria-hidden="true" tabindex="-1"></a><span class="vs">                    border-collapse: collapse;</span></span>
<span id="cb152-39"><a href="#cb152-39" aria-hidden="true" tabindex="-1"></a><span class="vs">                    width: 100%;</span></span>
<span id="cb152-40"><a href="#cb152-40" aria-hidden="true" tabindex="-1"></a><span class="vs">                    margin: 20px 0;</span></span>
<span id="cb152-41"><a href="#cb152-41" aria-hidden="true" tabindex="-1"></a><span class="vs">                }</span></span>
<span id="cb152-42"><a href="#cb152-42" aria-hidden="true" tabindex="-1"></a><span class="vs">                th, td {</span></span>
<span id="cb152-43"><a href="#cb152-43" aria-hidden="true" tabindex="-1"></a><span class="vs">                    border: 1px solid #ddd;</span></span>
<span id="cb152-44"><a href="#cb152-44" aria-hidden="true" tabindex="-1"></a><span class="vs">                    padding: 12px;</span></span>
<span id="cb152-45"><a href="#cb152-45" aria-hidden="true" tabindex="-1"></a><span class="vs">                }</span></span>
<span id="cb152-46"><a href="#cb152-46" aria-hidden="true" tabindex="-1"></a><span class="vs">                .emoji-grid {</span></span>
<span id="cb152-47"><a href="#cb152-47" aria-hidden="true" tabindex="-1"></a><span class="vs">                    font-size: 1.5em;</span></span>
<span id="cb152-48"><a href="#cb152-48" aria-hidden="true" tabindex="-1"></a><span class="vs">                }</span></span>
<span id="cb152-49"><a href="#cb152-49" aria-hidden="true" tabindex="-1"></a><span class="vs">            &lt;/style&gt;</span></span>
<span id="cb152-50"><a href="#cb152-50" aria-hidden="true" tabindex="-1"></a><span class="vs">        &lt;/head&gt;</span></span>
<span id="cb152-51"><a href="#cb152-51" aria-hidden="true" tabindex="-1"></a><span class="vs">        &lt;body&gt;</span><span class="sc">${</span>htmlContent<span class="sc">}</span><span class="vs">&lt;/body&gt;</span></span>
<span id="cb152-52"><a href="#cb152-52" aria-hidden="true" tabindex="-1"></a><span class="vs">        &lt;/html&gt;</span></span>
<span id="cb152-53"><a href="#cb152-53" aria-hidden="true" tabindex="-1"></a><span class="vs">        `</span><span class="op">;</span></span>
<span id="cb152-54"><a href="#cb152-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb152-55"><a href="#cb152-55" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Salvar HTML tempor√°rio</span></span>
<span id="cb152-56"><a href="#cb152-56" aria-hidden="true" tabindex="-1"></a>        <span class="cf">await</span> fs<span class="op">.</span><span class="fu">writeFile</span>(<span class="st">&#39;temp.html&#39;</span><span class="op">,</span> fullHtml<span class="op">,</span> <span class="st">&#39;utf-8&#39;</span>)<span class="op">;</span></span>
<span id="cb152-57"><a href="#cb152-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb152-58"><a href="#cb152-58" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Configurar Puppeteer</span></span>
<span id="cb152-59"><a href="#cb152-59" aria-hidden="true" tabindex="-1"></a>        <span class="kw">const</span> browser <span class="op">=</span> <span class="cf">await</span> puppeteer<span class="op">.</span><span class="fu">launch</span>({</span>
<span id="cb152-60"><a href="#cb152-60" aria-hidden="true" tabindex="-1"></a>            <span class="dt">headless</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb152-61"><a href="#cb152-61" aria-hidden="true" tabindex="-1"></a>            <span class="dt">args</span><span class="op">:</span> [<span class="st">&#39;--no-sandbox&#39;</span><span class="op">,</span> <span class="st">&#39;--disable-setuid-sandbox&#39;</span>]</span>
<span id="cb152-62"><a href="#cb152-62" aria-hidden="true" tabindex="-1"></a>        })<span class="op">;</span></span>
<span id="cb152-63"><a href="#cb152-63" aria-hidden="true" tabindex="-1"></a>        <span class="kw">const</span> page <span class="op">=</span> <span class="cf">await</span> browser<span class="op">.</span><span class="fu">newPage</span>()<span class="op">;</span></span>
<span id="cb152-64"><a href="#cb152-64" aria-hidden="true" tabindex="-1"></a>        <span class="cf">await</span> page<span class="op">.</span><span class="fu">goto</span>(<span class="vs">`file://</span><span class="sc">${</span><span class="bu">process</span><span class="op">.</span><span class="fu">cwd</span>()<span class="sc">}</span><span class="vs">/temp.html`</span><span class="op">,</span> { <span class="dt">waitUntil</span><span class="op">:</span> <span class="st">&#39;networkidle0&#39;</span> })<span class="op">;</span></span>
<span id="cb152-65"><a href="#cb152-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb152-66"><a href="#cb152-66" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Gerar PDF</span></span>
<span id="cb152-67"><a href="#cb152-67" aria-hidden="true" tabindex="-1"></a>        <span class="cf">await</span> page<span class="op">.</span><span class="fu">pdf</span>({</span>
<span id="cb152-68"><a href="#cb152-68" aria-hidden="true" tabindex="-1"></a>            <span class="dt">path</span><span class="op">:</span> pdfFile<span class="op">,</span></span>
<span id="cb152-69"><a href="#cb152-69" aria-hidden="true" tabindex="-1"></a>            <span class="dt">format</span><span class="op">:</span> <span class="st">&#39;A4&#39;</span><span class="op">,</span></span>
<span id="cb152-70"><a href="#cb152-70" aria-hidden="true" tabindex="-1"></a>            <span class="dt">printBackground</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb152-71"><a href="#cb152-71" aria-hidden="true" tabindex="-1"></a>            <span class="dt">margin</span><span class="op">:</span> { <span class="dt">top</span><span class="op">:</span> <span class="st">&#39;20mm&#39;</span><span class="op">,</span> <span class="dt">right</span><span class="op">:</span> <span class="st">&#39;20mm&#39;</span><span class="op">,</span> <span class="dt">bottom</span><span class="op">:</span> <span class="st">&#39;20mm&#39;</span><span class="op">,</span> <span class="dt">left</span><span class="op">:</span> <span class="st">&#39;20mm&#39;</span> }</span>
<span id="cb152-72"><a href="#cb152-72" aria-hidden="true" tabindex="-1"></a>        })<span class="op">;</span></span>
<span id="cb152-73"><a href="#cb152-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb152-74"><a href="#cb152-74" aria-hidden="true" tabindex="-1"></a>        <span class="cf">await</span> browser<span class="op">.</span><span class="fu">close</span>()<span class="op">;</span></span>
<span id="cb152-75"><a href="#cb152-75" aria-hidden="true" tabindex="-1"></a>        <span class="cf">await</span> fs<span class="op">.</span><span class="fu">unlink</span>(<span class="st">&#39;temp.html&#39;</span>)<span class="op">;</span></span>
<span id="cb152-76"><a href="#cb152-76" aria-hidden="true" tabindex="-1"></a>        <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="vs">`‚úÖ PDF gerado: </span><span class="sc">${</span>pdfFile<span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></span>
<span id="cb152-77"><a href="#cb152-77" aria-hidden="true" tabindex="-1"></a>        <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(<span class="vs">`üìä Tamanho do arquivo: </span><span class="sc">${</span>(<span class="cf">await</span> fs<span class="op">.</span><span class="fu">stat</span>(pdfFile))<span class="op">.</span><span class="at">size</span><span class="sc">}</span><span class="vs"> bytes`</span>)<span class="op">;</span></span>
<span id="cb152-78"><a href="#cb152-78" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="kw">true</span><span class="op">;</span></span>
<span id="cb152-79"><a href="#cb152-79" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">catch</span> (e) {</span>
<span id="cb152-80"><a href="#cb152-80" aria-hidden="true" tabindex="-1"></a>        <span class="bu">console</span><span class="op">.</span><span class="fu">error</span>(<span class="vs">`‚ùå Erro durante a convers√£o: </span><span class="sc">${</span>e<span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></span>
<span id="cb152-81"><a href="#cb152-81" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (<span class="cf">await</span> fs<span class="op">.</span><span class="fu">exists</span>(<span class="st">&#39;temp.html&#39;</span>)) <span class="cf">await</span> fs<span class="op">.</span><span class="fu">unlink</span>(<span class="st">&#39;temp.html&#39;</span>)<span class="op">;</span></span>
<span id="cb152-82"><a href="#cb152-82" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="kw">false</span><span class="op">;</span></span>
<span id="cb152-83"><a href="#cb152-83" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb152-84"><a href="#cb152-84" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb152-85"><a href="#cb152-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb152-86"><a href="#cb152-86" aria-hidden="true" tabindex="-1"></a><span class="fu">convertMarkdownToPDF</span>(<span class="st">&#39;teste_emojis.md&#39;</span><span class="op">,</span> <span class="st">&#39;teste_emojis_puppeteer.pdf&#39;</span>)</span>
<span id="cb152-87"><a href="#cb152-87" aria-hidden="true" tabindex="-1"></a>    <span class="op">.</span><span class="fu">then</span>(success <span class="kw">=&gt;</span> {</span>
<span id="cb152-88"><a href="#cb152-88" aria-hidden="true" tabindex="-1"></a>        <span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(success <span class="op">?</span> <span class="st">&#39;</span><span class="sc">\n</span><span class="st">üéâ Convers√£o conclu√≠da com sucesso!&#39;</span> <span class="op">:</span> <span class="st">&#39;</span><span class="sc">\n</span><span class="st">üí• Falha na convers√£o.&#39;</span>)<span class="op">;</span></span>
<span id="cb152-89"><a href="#cb152-89" aria-hidden="true" tabindex="-1"></a>    })<span class="op">;</span></span></code></pre></div>
<p><strong>Executar</strong>:</p>
<div class="sourceCode" id="cb153"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb153-1"><a href="#cb153-1" aria-hidden="true" tabindex="-1"></a><span class="ex">node</span> converter_puppeteer.js</span></code></pre></div>
<p><strong>Vantagens</strong>: - Excelente suporte a emojis coloridos
(usa Chrome/Chromium, que suporta fontes modernas). - Suporte completo a
CSS moderno, similar ao WeasyPrint. - Mais atualizado que o
<code>wkhtmltopdf</code>.</p>
<p><strong>Desvantagens</strong>: - Requer Node.js e Puppeteer, o que √©
mais pesado que WeasyPrint ou Pandoc. - Instala√ß√£o de depend√™ncias pode
ser lenta. - N√£o suporta hifeniza√ß√£o em portugu√™s nativamente.</p>
<p><strong>Compara√ß√£o com WeasyPrint</strong>: - <strong>Pr√≥s
vs.¬†WeasyPrint</strong>: Melhor suporte a emojis coloridos (devido ao
Chrome), mais robusto para renderiza√ß√£o complexa. - <strong>Contras
vs.¬†WeasyPrint</strong>: Mais pesado (requer Chrome/Chromium),
configura√ß√£o mais complexa no MSYS2.</p>
<hr />
<h4 data-number="1.2.77.4" id="prince"><span class="header-section-number">1.2.77.4</span> 4.
<strong>Prince</strong></h4>
<p>O <strong>Prince</strong> √© uma ferramenta comercial (com vers√£o
gratuita para uso n√£o comercial) que converte HTML/CSS para PDF, com
excelente suporte a emojis e CSS moderno.</p>
<p><strong>Caracter√≠sticas</strong>: - <strong>Entrada</strong>:
HTML/CSS. - <strong>Sa√≠da</strong>: PDF de alta qualidade. -
<strong>Suporte a Emojis</strong>: Excelente, incluindo emojis coloridos
com fontes como <code>Noto Color Emoji</code>. -
<strong>Hifeniza√ß√£o</strong>: Suporta hifeniza√ß√£o em portugu√™s com
configura√ß√£o adequada. - <strong>Estiliza√ß√£o</strong>: Suporte avan√ßado
a CSS.</p>
<p><strong>Instala√ß√£o no MSYS2</strong>: 1. Baixe a vers√£o gratuita do
<a href="https://www.princexml.com/download/">site oficial</a> para
Windows. 2. Extraia e adicione ao PATH:
<code>bash    export PATH=&quot;$PATH:/c/caminho/para/prince/bin&quot;    source ~/.bashrc</code></p>
<p><strong>Comando</strong>: Converta <code>teste_emojis.md</code> para
HTML usando a biblioteca Python <code>markdown</code>, depois:</p>
<div class="sourceCode" id="cb154"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb154-1"><a href="#cb154-1" aria-hidden="true" tabindex="-1"></a><span class="ex">prince</span> temp.html <span class="at">-o</span> teste_emojis_prince.pdf</span></code></pre></div>
<p><strong>Script Python Exemplo</strong>:</p>
<div class="sourceCode" id="cb155"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb155-1"><a href="#cb155-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/usr/bin/env python3</span></span>
<span id="cb155-2"><a href="#cb155-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> markdown</span>
<span id="cb155-3"><a href="#cb155-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> subprocess</span>
<span id="cb155-4"><a href="#cb155-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb155-5"><a href="#cb155-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb155-6"><a href="#cb155-6" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> convert_markdown_to_pdf(md_file, pdf_file):</span>
<span id="cb155-7"><a href="#cb155-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f&quot;üîÑ Convertendo </span><span class="sc">{</span>md_file<span class="sc">}</span><span class="ss"> para PDF com Prince...&quot;</span>)</span>
<span id="cb155-8"><a href="#cb155-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb155-9"><a href="#cb155-9" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Ler Markdown</span></span>
<span id="cb155-10"><a href="#cb155-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">with</span> <span class="bu">open</span>(md_file, <span class="st">&#39;r&#39;</span>, encoding<span class="op">=</span><span class="st">&#39;utf-8&#39;</span>) <span class="im">as</span> f:</span>
<span id="cb155-11"><a href="#cb155-11" aria-hidden="true" tabindex="-1"></a>            markdown_content <span class="op">=</span> f.read()</span>
<span id="cb155-12"><a href="#cb155-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb155-13"><a href="#cb155-13" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Converter para HTML</span></span>
<span id="cb155-14"><a href="#cb155-14" aria-hidden="true" tabindex="-1"></a>        html_content <span class="op">=</span> markdown.markdown(markdown_content, extensions<span class="op">=</span>[<span class="st">&#39;extra&#39;</span>, <span class="st">&#39;tables&#39;</span>])</span>
<span id="cb155-15"><a href="#cb155-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb155-16"><a href="#cb155-16" aria-hidden="true" tabindex="-1"></a>        <span class="co"># HTML com estilos</span></span>
<span id="cb155-17"><a href="#cb155-17" aria-hidden="true" tabindex="-1"></a>        full_html <span class="op">=</span> <span class="ss">f&quot;&quot;&quot;</span></span>
<span id="cb155-18"><a href="#cb155-18" aria-hidden="true" tabindex="-1"></a><span class="ss">        &lt;!DOCTYPE html&gt;</span></span>
<span id="cb155-19"><a href="#cb155-19" aria-hidden="true" tabindex="-1"></a><span class="ss">        &lt;html&gt;</span></span>
<span id="cb155-20"><a href="#cb155-20" aria-hidden="true" tabindex="-1"></a><span class="ss">        &lt;head&gt;</span></span>
<span id="cb155-21"><a href="#cb155-21" aria-hidden="true" tabindex="-1"></a><span class="ss">            &lt;meta charset=&quot;UTF-8&quot;&gt;</span></span>
<span id="cb155-22"><a href="#cb155-22" aria-hidden="true" tabindex="-1"></a><span class="ss">            &lt;title&gt;Documento com Emojis&lt;/title&gt;</span></span>
<span id="cb155-23"><a href="#cb155-23" aria-hidden="true" tabindex="-1"></a><span class="ss">            &lt;style&gt;</span></span>
<span id="cb155-24"><a href="#cb155-24" aria-hidden="true" tabindex="-1"></a><span class="ss">                @font-face </span><span class="ch">{{</span></span>
<span id="cb155-25"><a href="#cb155-25" aria-hidden="true" tabindex="-1"></a><span class="ss">                    font-family: &#39;Noto Color Emoji&#39;;</span></span>
<span id="cb155-26"><a href="#cb155-26" aria-hidden="true" tabindex="-1"></a><span class="ss">                    src: local(&#39;Noto Color Emoji&#39;), url(&#39;https://fonts.googleapis.com/css2?family=Noto+Color+Emoji&amp;display=swap&#39;);</span></span>
<span id="cb155-27"><a href="#cb155-27" aria-hidden="true" tabindex="-1"></a><span class="ss">                </span><span class="ch">}}</span></span>
<span id="cb155-28"><a href="#cb155-28" aria-hidden="true" tabindex="-1"></a><span class="ss">                body </span><span class="ch">{{</span></span>
<span id="cb155-29"><a href="#cb155-29" aria-hidden="true" tabindex="-1"></a><span class="ss">                    font-family: &#39;Noto Color Emoji&#39;, &#39;Segoe UI Emoji&#39;, sans-serif;</span></span>
<span id="cb155-30"><a href="#cb155-30" aria-hidden="true" tabindex="-1"></a><span class="ss">                    line-height: 1.6;</span></span>
<span id="cb155-31"><a href="#cb155-31" aria-hidden="true" tabindex="-1"></a><span class="ss">                    color: #333;</span></span>
<span id="cb155-32"><a href="#cb155-32" aria-hidden="true" tabindex="-1"></a><span class="ss">                    max-width: 800px;</span></span>
<span id="cb155-33"><a href="#cb155-33" aria-hidden="true" tabindex="-1"></a><span class="ss">                    margin: 0 auto;</span></span>
<span id="cb155-34"><a href="#cb155-34" aria-hidden="true" tabindex="-1"></a><span class="ss">                    padding: 40px 20px;</span></span>
<span id="cb155-35"><a href="#cb155-35" aria-hidden="true" tabindex="-1"></a><span class="ss">                </span><span class="ch">}}</span></span>
<span id="cb155-36"><a href="#cb155-36" aria-hidden="true" tabindex="-1"></a><span class="ss">                h1 </span><span class="ch">{{</span></span>
<span id="cb155-37"><a href="#cb155-37" aria-hidden="true" tabindex="-1"></a><span class="ss">                    color: #0052d4;</span></span>
<span id="cb155-38"><a href="#cb155-38" aria-hidden="true" tabindex="-1"></a><span class="ss">                    border-bottom: 3px solid #0052d4;</span></span>
<span id="cb155-39"><a href="#cb155-39" aria-hidden="true" tabindex="-1"></a><span class="ss">                </span><span class="ch">}}</span></span>
<span id="cb155-40"><a href="#cb155-40" aria-hidden="true" tabindex="-1"></a><span class="ss">                table </span><span class="ch">{{</span></span>
<span id="cb155-41"><a href="#cb155-41" aria-hidden="true" tabindex="-1"></a><span class="ss">                    border-collapse: collapse;</span></span>
<span id="cb155-42"><a href="#cb155-42" aria-hidden="true" tabindex="-1"></a><span class="ss">                    width: 100%;</span></span>
<span id="cb155-43"><a href="#cb155-43" aria-hidden="true" tabindex="-1"></a><span class="ss">                    margin: 20px 0;</span></span>
<span id="cb155-44"><a href="#cb155-44" aria-hidden="true" tabindex="-1"></a><span class="ss">                </span><span class="ch">}}</span></span>
<span id="cb155-45"><a href="#cb155-45" aria-hidden="true" tabindex="-1"></a><span class="ss">                th, td </span><span class="ch">{{</span></span>
<span id="cb155-46"><a href="#cb155-46" aria-hidden="true" tabindex="-1"></a><span class="ss">                    border: 1px solid #ddd;</span></span>
<span id="cb155-47"><a href="#cb155-47" aria-hidden="true" tabindex="-1"></a><span class="ss">                    padding: 12px;</span></span>
<span id="cb155-48"><a href="#cb155-48" aria-hidden="true" tabindex="-1"></a><span class="ss">                </span><span class="ch">}}</span></span>
<span id="cb155-49"><a href="#cb155-49" aria-hidden="true" tabindex="-1"></a><span class="ss">                .emoji-grid </span><span class="ch">{{</span></span>
<span id="cb155-50"><a href="#cb155-50" aria-hidden="true" tabindex="-1"></a><span class="ss">                    font-size: 1.5em;</span></span>
<span id="cb155-51"><a href="#cb155-51" aria-hidden="true" tabindex="-1"></a><span class="ss">                </span><span class="ch">}}</span></span>
<span id="cb155-52"><a href="#cb155-52" aria-hidden="true" tabindex="-1"></a><span class="ss">            &lt;/style&gt;</span></span>
<span id="cb155-53"><a href="#cb155-53" aria-hidden="true" tabindex="-1"></a><span class="ss">        &lt;/head&gt;</span></span>
<span id="cb155-54"><a href="#cb155-54" aria-hidden="true" tabindex="-1"></a><span class="ss">        &lt;body&gt;</span><span class="sc">{</span>html_content<span class="sc">}</span><span class="ss">&lt;/body&gt;</span></span>
<span id="cb155-55"><a href="#cb155-55" aria-hidden="true" tabindex="-1"></a><span class="ss">        &lt;/html&gt;</span></span>
<span id="cb155-56"><a href="#cb155-56" aria-hidden="true" tabindex="-1"></a><span class="ss">        &quot;&quot;&quot;</span></span>
<span id="cb155-57"><a href="#cb155-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb155-58"><a href="#cb155-58" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Salvar HTML tempor√°rio</span></span>
<span id="cb155-59"><a href="#cb155-59" aria-hidden="true" tabindex="-1"></a>        temp_html <span class="op">=</span> <span class="st">&quot;temp.html&quot;</span></span>
<span id="cb155-60"><a href="#cb155-60" aria-hidden="true" tabindex="-1"></a>        <span class="cf">with</span> <span class="bu">open</span>(temp_html, <span class="st">&#39;w&#39;</span>, encoding<span class="op">=</span><span class="st">&#39;utf-8&#39;</span>) <span class="im">as</span> f:</span>
<span id="cb155-61"><a href="#cb155-61" aria-hidden="true" tabindex="-1"></a>            f.write(full_html)</span>
<span id="cb155-62"><a href="#cb155-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb155-63"><a href="#cb155-63" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Converter para PDF</span></span>
<span id="cb155-64"><a href="#cb155-64" aria-hidden="true" tabindex="-1"></a>        subprocess.run([<span class="st">&quot;prince&quot;</span>, temp_html, <span class="st">&quot;-o&quot;</span>, pdf_file], check<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb155-65"><a href="#cb155-65" aria-hidden="true" tabindex="-1"></a>        os.remove(temp_html)</span>
<span id="cb155-66"><a href="#cb155-66" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;‚úÖ PDF gerado: </span><span class="sc">{</span>pdf_file<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb155-67"><a href="#cb155-67" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;üìä Tamanho do arquivo: </span><span class="sc">{</span>os<span class="sc">.</span>path<span class="sc">.</span>getsize(pdf_file)<span class="sc">}</span><span class="ss"> bytes&quot;</span>)</span>
<span id="cb155-68"><a href="#cb155-68" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">True</span></span>
<span id="cb155-69"><a href="#cb155-69" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span> <span class="pp">Exception</span> <span class="im">as</span> e:</span>
<span id="cb155-70"><a href="#cb155-70" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;‚ùå Erro durante a convers√£o: </span><span class="sc">{</span>e<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb155-71"><a href="#cb155-71" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> os.path.exists(temp_html):</span>
<span id="cb155-72"><a href="#cb155-72" aria-hidden="true" tabindex="-1"></a>            os.remove(temp_html)</span>
<span id="cb155-73"><a href="#cb155-73" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">False</span></span>
<span id="cb155-74"><a href="#cb155-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb155-75"><a href="#cb155-75" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">&quot;__main__&quot;</span>:</span>
<span id="cb155-76"><a href="#cb155-76" aria-hidden="true" tabindex="-1"></a>    success <span class="op">=</span> convert_markdown_to_pdf(<span class="st">&quot;teste_emojis.md&quot;</span>, <span class="st">&quot;teste_emojis_prince.pdf&quot;</span>)</span>
<span id="cb155-77"><a href="#cb155-77" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> success:</span>
<span id="cb155-78"><a href="#cb155-78" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">üéâ Convers√£o conclu√≠da com sucesso!&quot;</span>)</span>
<span id="cb155-79"><a href="#cb155-79" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb155-80"><a href="#cb155-80" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">üí• Falha na convers√£o.&quot;</span>)</span></code></pre></div>
<p><strong>Executar</strong>:</p>
<div class="sourceCode" id="cb156"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb156-1"><a href="#cb156-1" aria-hidden="true" tabindex="-1"></a><span class="ex">python</span> converter_prince.py</span></code></pre></div>
<p><strong>Vantagens</strong>: - Excelente suporte a emojis coloridos. -
Suporte avan√ßado a CSS. - PDFs de alta qualidade.</p>
<p><strong>Desvantagens</strong>: - Vers√£o gratuita adiciona um logotipo
na primeira p√°gina. - N√£o √© totalmente open-source (licen√ßa comercial
para uso avan√ßado). - Requer convers√£o de Markdown para HTML.</p>
<p><strong>Compara√ß√£o com WeasyPrint</strong>: - <strong>Pr√≥s
vs.¬†WeasyPrint</strong>: Melhor suporte a CSS e renderiza√ß√£o, mais
est√°vel em alguns casos. - <strong>Contras vs.¬†WeasyPrint</strong>: N√£o
√© totalmente open-source, instala√ß√£o manual no MSYS2.</p>
<hr />
<h3 data-number="1.2.78" id="compara√ß√£o-resumida"><span class="header-section-number">1.2.78</span> Compara√ß√£o Resumida</h3>
<table>
<colgroup>
<col style="width: 12%" />
<col style="width: 24%" />
<col style="width: 17%" />
<col style="width: 19%" />
<col style="width: 12%" />
<col style="width: 13%" />
</colgroup>
<thead>
<tr>
<th><strong>Ferramenta</strong></th>
<th><strong>Suporte a Emojis Coloridos</strong></th>
<th><strong>Hifeniza√ß√£o pt-PT</strong></th>
<th><strong>Facilidade no MSYS2</strong></th>
<th><strong>Estiliza√ß√£o</strong></th>
<th><strong>Depend√™ncias</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>WeasyPrint</strong></td>
<td>Sim (com <code>Noto Color Emoji</code>)</td>
<td>N√£o nativa</td>
<td>Moderada (GTK3)</td>
<td>Excelente (CSS)</td>
<td>Python, GTK3, Cairo</td>
</tr>
<tr>
<td><strong>Pandoc</strong></td>
<td>Sim (com <code>lualatex</code>)</td>
<td>Sim</td>
<td>Alta (ap√≥s corrigir fontes)</td>
<td>Limitada (CSS/LaTeX)</td>
<td>TeX Live</td>
</tr>
<tr>
<td><strong>wkhtmltopdf</strong></td>
<td>N√£o (monocrom√°ticos)</td>
<td>N√£o</td>
<td>Alta</td>
<td>Boa (CSS)</td>
<td>WebKit</td>
</tr>
<tr>
<td><strong>Puppeteer</strong></td>
<td>Sim</td>
<td>N√£o nativa</td>
<td>Moderada (Node.js)</td>
<td>Excelente (CSS)</td>
<td>Node.js, Chrome</td>
</tr>
<tr>
<td><strong>Prince</strong></td>
<td>Sim</td>
<td>Sim (com configura√ß√£o)</td>
<td>Moderada</td>
<td>Excelente (CSS)</td>
<td>Bin√°rio Prince</td>
</tr>
</tbody>
</table>
<hr />
<h3 data-number="1.2.79" id="recomenda√ß√£o-para-o-seu-caso"><span class="header-section-number">1.2.79</span> Recomenda√ß√£o para o Seu
Caso</h3>
<p>Dado o erro anterior com <code>Noto Color Emoji</code> no Pandoc e os
emojis monocrom√°ticos no <code>wkhtmltopdf</code>, as melhores
alternativas ao WeasyPrint s√£o:</p>
<ol type="1">
<li><strong>Pandoc com LuaLaTeX</strong> (Recomendado):
<ul>
<li><strong>Por qu√™?</strong>: Suporte nativo a Markdown, hifeniza√ß√£o em
portugu√™s de Portugal, emojis coloridos com <code>lualatex</code> e
<code>Noto Color Emoji</code>.</li>
<li><strong>Passos</strong>:
<ol type="1">
<li><p>Corrija a fonte <code>Noto Color Emoji</code>:</p>
<div class="sourceCode" id="cb157"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb157-1"><a href="#cb157-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mkdir</span> <span class="at">-p</span> /c/msys64/mingw64/share/texmf-dist/fonts/truetype/google/noto-emoji</span>
<span id="cb157-2"><a href="#cb157-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cp</span> /c/Users/mpmen/AppData/Local/Microsoft/Windows/Fonts/NotoColorEmoji-SVGinOT.ttf /c/msys64/mingw64/share/texmf-dist/fonts/truetype/google/noto-emoji/NotoColorEmoji.ttf</span>
<span id="cb157-3"><a href="#cb157-3" aria-hidden="true" tabindex="-1"></a><span class="ex">fc-cache</span> <span class="at">-fv</span></span></code></pre></div></li>
<li><p>Teste:</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb158-1"><a href="#cb158-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pandoc</span> teste_emojis.md <span class="at">-o</span> teste_emojis.pdf <span class="at">--pdf-engine</span><span class="op">=</span>lualatex <span class="at">-V</span> mainfont=<span class="st">&quot;Noto Color Emoji&quot;</span> <span class="at">-V</span> lang=pt-PT <span class="at">--css</span><span class="op">=</span>estilos.css</span></code></pre></div></li>
<li><p>Ou use o script <code>converter_pandoc.py</code>
atualizado.</p></li>
</ol></li>
<li><strong>Fallback</strong>: Se o erro persistir, use
<code>xelatex</code> com <code>Segoe UI Emoji</code> (emojis
monocrom√°ticos).</li>
</ul></li>
<li><strong>Puppeteer</strong>:
<ul>
<li><strong>Por qu√™?</strong>: Excelente para emojis coloridos, usa
Chrome/Chromium (engine moderna), suporta CSS avan√ßado.</li>
<li><strong>Passos</strong>:
<ol type="1">
<li><p>Instale Node.js e Puppeteer:</p>
<div class="sourceCode" id="cb159"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb159-1"><a href="#cb159-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pacman</span> <span class="at">-S</span> mingw-w64-x86_64-nodejs</span>
<span id="cb159-2"><a href="#cb159-2" aria-hidden="true" tabindex="-1"></a><span class="ex">npm</span> install puppeteer markdown</span></code></pre></div></li>
<li><p>Use o script <code>converter_puppeteer.js</code>.</p></li>
</ol></li>
<li><strong>Nota</strong>: Menos indicado se voc√™ prefere Python ou
precisa de hifeniza√ß√£o em portugu√™s.</li>
</ul></li>
<li><strong>Prince</strong>:
<ul>
<li><strong>Por qu√™?</strong>: Boa alternativa para PDFs de alta
qualidade com emojis coloridos, mas a vers√£o gratuita tem
limita√ß√µes.</li>
<li><strong>Passos</strong>:
<ol type="1">
<li>Instale o Prince manualmente e use o script
<code>converter_prince.py</code>.</li>
</ol></li>
<li><strong>Nota</strong>: Menos pr√°tico devido √† licen√ßa e instala√ß√£o
manual.</li>
</ul></li>
</ol>
<hr />
<h3 data-number="1.2.80" id="pr√≥ximos-passos"><span class="header-section-number">1.2.80</span> Pr√≥ximos Passos</h3>
<ol type="1">
<li><strong>Tentar Pandoc</strong>:
<ul>
<li><p>Corrija a fonte <code>Noto Color Emoji</code> no TeX Live, como
descrito.</p></li>
<li><p>Execute:</p>
<div class="sourceCode" id="cb160"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb160-1"><a href="#cb160-1" aria-hidden="true" tabindex="-1"></a><span class="ex">pandoc</span> teste_emojis.md <span class="at">-o</span> teste_emojis.pdf <span class="at">--pdf-engine</span><span class="op">=</span>lualatex <span class="at">-V</span> mainfont=<span class="st">&quot;Noto Color Emoji&quot;</span> <span class="at">-V</span> lang=pt-PT <span class="at">--css</span><span class="op">=</span>estilos.css</span></code></pre></div></li>
<li><p>Ou use o script <code>converter_pandoc.py</code>.</p></li>
</ul></li>
<li><strong>Testar Puppeteer</strong>:
<ul>
<li>Se o Pandoc continuar problem√°tico, experimente o script
<code>converter_puppeteer.js</code>.</li>
</ul></li>
<li><strong>Verificar PDF</strong>:
<ul>
<li>Abra o PDF em Adobe Acrobat, Chrome ou Edge para confirmar emojis
coloridos.</li>
</ul></li>
<li><strong>Fallback</strong>:
<ul>
<li>Se emojis coloridos n√£o forem essenciais, use Pandoc com
<code>xelatex</code> e <code>Segoe UI Emoji</code>.</li>
</ul></li>
</ol>
<p>Se encontrar erros (ex.: com Pandoc ou Puppeteer) ou precisar de
ajuda com a instala√ß√£o, compartilhe detalhes (ex.: sa√≠da de erros,
visualizador usado) para uma solu√ß√£o direcionada! üòä</p>
<hr />
<p><em>Conversa exportada do Grok</em> <em>Processado em: 23/11/2025
23:05</em></p>

        <script id="fixed-toc-script">
        document.addEventListener('DOMContentLoaded', function() {
            const toc = document.getElementById('TOC');
            if (toc) {
                const tocTitle = toc.querySelector('h2');
                if (tocTitle) {
                    const toggleBtn = document.createElement('button');
                    toggleBtn.innerHTML = '‚ò∞';
                    toggleBtn.className = 'toc-toggle-btn';
                    toggleBtn.title = 'Minimizar/Expandir TOC';
                    let isMinimized = false;
                    toggleBtn.addEventListener('click', function(e) {
                        e.stopPropagation();
                        isMinimized = !isMinimized;
                        if (isMinimized) {
                            toc.classList.add('toc-minimized');
                        } else {
                            toc.classList.remove('toc-minimized');
                        }
                    });
                    tocTitle.appendChild(toggleBtn);
                }
            }
            
            // SCROLLSPY
            const sections = document.querySelectorAll('h1, h2, h3, h4, h5');
            const tocLinks = document.querySelectorAll('#TOC a');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const id = entry.target.getAttribute('id');
                        tocLinks.forEach(link => {
                            link.classList.remove('active');
                            if (link.getAttribute('href') === '#' + id) {
                                link.classList.add('active');
                            }
                        });
                    }
                });
            }, { 
                rootMargin: '-20% 0px -60% 0px', 
                threshold: 0 
            });
            
            sections.forEach(section => {
                if (section.id) observer.observe(section);
            });
            
            // Scroll suave
            tocLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const targetId = link.getAttribute('href').substring(1);
                    const targetElement = document.getElementById(targetId);
                    if (targetElement) {
                        const offsetTop = targetElement.offsetTop - 80;
                        window.scrollTo({ top: offsetTop, behavior: 'smooth' });
                    }
                });
            });
            
            // BOT√ÉO VOLTAR AO TOPO
            const backToTopBtn = document.createElement('button');
            backToTopBtn.className = 'back-to-top-content';
            backToTopBtn.innerHTML = '‚Üë';
            backToTopBtn.title = 'Voltar ao Topo';
            document.body.appendChild(backToTopBtn);
            
            window.addEventListener('scroll', () => {
                if (window.pageYOffset > 300) {
                    backToTopBtn.classList.add('show');
                } else {
                    backToTopBtn.classList.remove('show');
                }
            });
            
            backToTopBtn.addEventListener('click', () => {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
        });
        </script>
        
</body>
</html>
